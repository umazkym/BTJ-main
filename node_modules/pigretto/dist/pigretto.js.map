{"version":3,"sources":["webpack://pigretto/webpack/universalModuleDefinition","webpack://pigretto/webpack/bootstrap","webpack://pigretto/./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack://pigretto/./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack://pigretto/./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack://pigretto/./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack://pigretto/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://pigretto/./node_modules/@babel/runtime/helpers/construct.js","webpack://pigretto/./node_modules/@babel/runtime/helpers/createClass.js","webpack://pigretto/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://pigretto/./node_modules/@babel/runtime/helpers/get.js","webpack://pigretto/./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack://pigretto/./node_modules/@babel/runtime/helpers/inherits.js","webpack://pigretto/./node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","webpack://pigretto/./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack://pigretto/./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack://pigretto/./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack://pigretto/./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack://pigretto/./node_modules/@babel/runtime/helpers/objectWithoutProperties.js","webpack://pigretto/./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","webpack://pigretto/./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack://pigretto/./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack://pigretto/./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack://pigretto/./node_modules/@babel/runtime/helpers/superPropBase.js","webpack://pigretto/./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack://pigretto/./node_modules/@babel/runtime/helpers/typeof.js","webpack://pigretto/./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack://pigretto/./node_modules/@babel/runtime/regenerator/index.js","webpack://pigretto/./node_modules/declarative-factory/src/index.js","webpack://pigretto/./node_modules/escape-string-regexp/index.js","webpack://pigretto/./node_modules/js-utl/dist/es6/index.js","webpack://pigretto/./node_modules/js-utl/dist/es6/modules/array.js","webpack://pigretto/./node_modules/js-utl/dist/es6/modules/bitwise.js","webpack://pigretto/./node_modules/js-utl/dist/es6/modules/callback.js","webpack://pigretto/./node_modules/js-utl/dist/es6/modules/color.js","webpack://pigretto/./node_modules/js-utl/dist/es6/modules/combinatorics.js","webpack://pigretto/./node_modules/js-utl/dist/es6/modules/convert.js","webpack://pigretto/./node_modules/js-utl/dist/es6/modules/core/compare.js","webpack://pigretto/./node_modules/js-utl/dist/es6/modules/core/index.js","webpack://pigretto/./node_modules/js-utl/dist/es6/modules/date.js","webpack://pigretto/./node_modules/js-utl/dist/es6/modules/fn.js","webpack://pigretto/./node_modules/js-utl/dist/es6/modules/google.js","webpack://pigretto/./node_modules/js-utl/dist/es6/modules/hash.js","webpack://pigretto/./node_modules/js-utl/dist/es6/modules/iterator.js","webpack://pigretto/./node_modules/js-utl/dist/es6/modules/map-coordinates.js","webpack://pigretto/./node_modules/js-utl/dist/es6/modules/math.js","webpack://pigretto/./node_modules/js-utl/dist/es6/modules/path.js","webpack://pigretto/./node_modules/js-utl/dist/es6/modules/promise.js","webpack://pigretto/./node_modules/js-utl/dist/es6/modules/rand.js","webpack://pigretto/./node_modules/js-utl/dist/es6/modules/stats.js","webpack://pigretto/./node_modules/js-utl/dist/es6/modules/string.js","webpack://pigretto/./node_modules/js-utl/dist/es6/modules/time.js","webpack://pigretto/./node_modules/js-utl/dist/es6/modules/web.js","webpack://pigretto/./node_modules/regenerator-runtime/runtime.js","webpack://pigretto/(webpack)/buildin/global.js","webpack://pigretto/./src/advices/Advice.js","webpack://pigretto/./src/advices/AfterAdvice.js","webpack://pigretto/./src/advices/AroundAdvice.js","webpack://pigretto/./src/advices/BeforeAdvice.js","webpack://pigretto/./src/builtin/POJOPromiser.js","webpack://pigretto/./src/builtin/arrayWithNegativeIndices.js","webpack://pigretto/./src/builtin/lazyObject.js","webpack://pigretto/./src/builtin/throwErrorForUnknownProperty.js","webpack://pigretto/./src/factory/handlerFactory.js","webpack://pigretto/./src/index.js","webpack://pigretto/./src/pigretto.js","webpack://pigretto/./src/pointcuts/FunctionCallPointcut.js","webpack://pigretto/./src/pointcuts/MethodCallPointcut.js","webpack://pigretto/./src/pointcuts/ObjectConstructionPointcut.js","webpack://pigretto/./src/pointcuts/Pointcut.js","webpack://pigretto/./src/pointcuts/PropertyGettingPointcut.js","webpack://pigretto/./src/pointcuts/PropertySettingPointcut.js","webpack://pigretto/./src/pointcuts/shorthands/apply.js","webpack://pigretto/./src/pointcuts/shorthands/call.js","webpack://pigretto/./src/pointcuts/shorthands/construct.js","webpack://pigretto/./src/pointcuts/shorthands/get.js","webpack://pigretto/./src/pointcuts/shorthands/set.js","webpack://pigretto/./src/rules/ExactRule.js","webpack://pigretto/./src/rules/ORedRule.js","webpack://pigretto/./src/rules/RegexRule.js","webpack://pigretto/./src/rules/Rule.js","webpack://pigretto/./src/rules/applyRule.js","webpack://pigretto/./src/rules/constructRule.js","webpack://pigretto/./src/rules/parser/parseRule.js","webpack://pigretto/./src/rules/rulesGenerator.js","webpack://pigretto/./src/trap/Trap.js","webpack://pigretto/./src/trap/executors/ApplyTrapExecutor.js","webpack://pigretto/./src/trap/executors/CallTrapExecutor.js","webpack://pigretto/./src/trap/executors/ConstructTrapExecutor.js","webpack://pigretto/./src/trap/executors/GetTrapExecutor.js","webpack://pigretto/./src/trap/executors/SetTrapExecutor.js","webpack://pigretto/./src/trap/executors/TrapExecutor.js","webpack://pigretto/./src/trap/executors/behaviours/common/throwErrorIfDoesNotImplement.js","webpack://pigretto/./src/trap/executors/behaviours/withFunctionTrapExecutor.js","webpack://pigretto/./src/trap/reflect/reflectApply.js","webpack://pigretto/./src/trap/reflect/reflectConstruct.js","webpack://pigretto/./src/trap/reflect/reflectGet.js","webpack://pigretto/./src/trap/reflect/reflectSet.js","webpack://pigretto/./src/trap/trapHandlerForRules.js"],"names":["Advice","fn","AfterAdvice","AroundAdvice","BeforeAdvice","queueTupleProp","Symbol","dataProp","dummyNoOp","POJOPromiser","obj","mutateTargetOnSettledPromiseQueue","originalTarget","target","that","rules","get","around","prop","property","queuedProp","queuedPromise","promise","then","data","Promise","resolve","Object","assign","bind","pigrettarget","pigretto","arrayWithNegativeIndices","array","wrap","Proxy","propKey","numberPropKey","Number","isNaN","isInteger","absNumberPropKey","Math","abs","length","String","lazyObject","onceCallback","ignoredTypes","interceptConstructor","propertiesToIgnore","pointcuts","call","set","hasCall","hasGet","hasSet","propertiesMap","constructorsToIgnore","map","Type","prototype","constructor","current","currentIsProto","includes","properties","Reflect","ownKeys","isMethod","getPrototypeOf","propertyToIgnore","pointcut","keys","firstOperation","callback","args","apply","escape","names","escapeStringRegexp","regex","escapedNames","RegExp","join","addRule","push","before","methodNames","filter","escapedMethodNames","propertyNames","escapedPropertyNames","throwErrorForUnknownProperty","dynamic","errorToThrow","prototypeChainPropertiesOptions","mapProperties","props","prototypeChainProperties","reduce","acc","assertFn","propertyName","targetTypeToStr","typeToStr","defaultErrorMessage","Error","handlerFactory","proxyRules","handler","trapHandlerForRules","applyRule","constructRule","construct","val","builtin","proxy","FunctionCallPointcut","adviceFn","advices","Pointcut","MethodCallPointcut","ObjectConstructionPointcut","PropertyGettingPointcut","PropertySettingPointcut","ExactRule","effectiveProperty","Rule","ORedRule","effectivePropertyName","rule","matches","RegexRule","lastIndex","test","REGEX_STRING_TOKEN","regexRule","exactRule","parseSingle","ruleToParse","factoryParam","factory","declarativeFactory","initialRegexStringToken","indexOf","lastRegexStringToken","lastIndexOf","stringLiteralRegex","substring","flags","parseMultiple","rulesToParse","parseRule","parse","isArray","rulesGenerator","objectRulesGenerator","ruleKeys","ruleKey","arrayRulesGenerator","proxyRule","generator","Trap","after","Map","CallTrapExecutor","GetTrapExecutor","SetTrapExecutor","ApplyTrapExecutor","ConstructTrapExecutor","pointcutType","advice","isUndefined","distributedAdvices","subKey","lazilyDistributeAdvices","matchedDistributedAdvices","has","node","beforeAdvices","aroundAdvices","afterAdvices","match","key","isImplicitBeforeAdvice","isImplicit","addAdvices","hasAtLeastOneAdviceOfPointcutType","receiver","lazilyMatchAdvices","getBefore","getAround","getAfter","propertyValue","trapExecutors","execute","callBefore","callAround","callAfter","returnValue","value","thisArg","argumentsList","newTarget","withFunctionTrapExecutor","context","proceed","reflectApply","TrapExecutor","some","isEmpty","superExecute","trapArgs","wrapperFn","boundThis","originalFn","instance","reflectConstruct","reflectGet","hasOwnProperty","previousPropertyValueMap","execContextID","previousPropertyValue","returnNewPropertyValueMap","updateWasSuccessfulMap","updateWasSuccessful","newPropertyValue","reflectSet","performUnderlyingOperation","noReturnValue","newExecutionContext","setUpExecutionContext","startExecutionContext","beforePhase","aroundPhase","proceedPhase","afterPhase","endExecutionContext","cleanUpExecutionContext","proceeds","hasAtLeastOneAroundAdvice","hasAtLeastOneBeforeAdvice","execContextStack","pop","console","error","name","executeBefore","executeBeforeAdvice","executeAround","hasProceeded","params","unsupportedMultipleProceeds","finalParams","finalFn","executeAroundAdvice","executeAfter","executeAfterAdvice","executeProceedCallback","throwErrorIfDoesNotImplement","methodName","constructorFn","superclass","NewClass","executedAtLeastOnce","lastProceedWithParamsIndexMap","finalTrapArgsMap","argumentsListIndex","getTrapArgsArgumentsListIndex","proceedsL","hasParamsOverride","i","getFinalTrapArgs","defineProperty","configurable","trap","parsedRule","addPointcutRule","hasGets","hasSets","hasApplies","hasConstructs"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;QCVA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA;AACA;;AAEA,wCAAwC,SAAS;AACjD;AACA;;AAEA;AACA;;AAEA,mC;;;;;;;;;;;ACVA;AACA;AACA;;AAEA,iC;;;;;;;;;;;ACJA,uBAAuB,mBAAO,CAAC,qFAAoB;;AAEnD;AACA;AACA;;AAEA,oC;;;;;;;;;;;ACNA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,wC;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;;AAEA,iC;;;;;;;;;;;ACNA,qBAAqB,mBAAO,CAAC,iFAAkB;;AAE/C,+BAA+B,mBAAO,CAAC,qGAA4B;;AAEnE;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,4B;;;;;;;;;;;ACrBA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,8B;;;;;;;;;;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;;AAEA;AACA;;AAEA,iC;;;;;;;;;;;ACfA,oBAAoB,mBAAO,CA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A;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AAC03B;AAChpB;AAC1J;AACgC;AAC8c;AAC1d;AACrC;AAC8H;AACzH;AACL;AACiB;AACnC;AACgD;AAC9C;AACyL;AACrK;AACoJ;AAC5G;AACjB;AAC9C;AACqB;AACjE,iC;;;;;;;;;;;;ACjDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,EAAE;AACb,YAAY;AACZ;AACO;AACP;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,YAAY,MAAM;AAClB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,MAAM;AAClB;;AAEO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,MAAM;AAClB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,YAAY,EAAE;AACd;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,YAAY,EAAE;AACd;;AAEO;AACP;AACA;AACA;AACA,SAAS,2BAA2B;AACpC;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,YAAY,EAAE;AACd;AACA;AACA;;AAEO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,YAAY,iBAAiB;AAC7B;AACA;;AAEO;AACP;AACA;AACA;AACA,WAAW,SAAS;AACpB,YAAY,iBAAiB;AAC7B;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB,YAAY,SAAS;AACrB;;AAEO;AACP;AACA;AACA,iC;;;;;;;;;;;;ACnLA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACO;AACP;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;;AAEO;AACP;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;;AAEO;AACP;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;;AAEO;AACP,mC;;;;;;;;;;;;AChEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACqC;AACrC;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,OAAO;AACpB,cAAc;AACd;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,YAAY,SAAS;AACrB;;AAEO;AACP;AACA;AACA,KAAK,yDAAW;AAChB;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,YAAY,SAAS;AACrB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oC;;;;;;;;;;;;ACtFA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,iC;;;;;;;;;;;;AC3CA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AAC8D;AACnB;AAC3C;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB;AACA;AACA,WAAW,QAAQ;AACnB;AACA,YAAY,MAAM;AAClB;;AAEO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,wBAAwB,+DAAgB;AACxC,KAAK;AACL;AACA,6BAA6B;AAC7B;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,YAAY,QAAQ;AACpB;AACA;;AAEO;AACP;;AAEA;AACA;AACA;;AAEA,eAAe,+DAAgB,QAAQ;;AAEvC;AACA;AACA;AACA;;AAEA,iBAAiB;;AAEjB;;AAEA;AACA;AACA,6CAA6C,mCAAmC;AAChF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB;AACA;AACA,YAAY,MAAM;AAClB;AACA;;AAEO;AACP;;AAEA;AACA;AACA;;AAEA,2BAA2B,+DAAgB,gBAAgB;;AAE3D;AACA;AACA;AACA;AACA,GAAG;;;AAGH,SAAS,sDAAQ;;AAEjB;AACA;AACA,6CAA6C,mCAAmC;AAChF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,YAAY,MAAM;AAClB;;AAEO;AACP;;AAEA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,YAAY,MAAM;AAClB;;AAEO;AACP;AACA;;AAEA;AACA,SAAS,0DAAY;AACrB,MAAM,0DAAY;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB;AACA,YAAY,MAAM;AAClB;;AAEO;AACP;AACA;;AAEA;AACA;AACA,wBAAwB,+DAAgB;AACxC,KAAK;AACL,qBAAqB,kBAAkB;AACvC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,yC;;;;;;;;;;;;ACxNA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACO;AACP;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;;AAEO;AACP,mC;;;;;;;;;;;;AC5CA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY;AACZ;;AAEO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;;;AAGH,iBAAiB,kBAAkB;AACnC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,mC;;;;;;;;;;;;ACxFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC8D;AACjB;AAC7C;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV;;AAEA,8DAA8D;AAC9D;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA;AACA,kDAAkD;AAClD;AACA,WAAW,EAAE;AACb,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,YAAY,cAAc;AAC1B;;AAEO;AACP;AACA;AACA;AACA,UAAU;AACV;;AAEA;AACA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B;AACA,YAAY,OAAO;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB,YAAY,EAAE;AACd;;AAEO;AACP;;AAEA,iBAAiB,kBAAkB;AACnC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA;;AAEA;;AAEA,iBAAiB,kBAAkB;AACnC;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB,WAAW,EAAE;AACb,YAAY;AACZ;;AAEO;AACP;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,kBAAkB;AACnC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB,WAAW,MAAM;AACjB,WAAW,EAAE;AACb,YAAY;AACZ;;AAEO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB,WAAW,MAAM;AACjB,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB,WAAW,MAAM;AACjB,YAAY,EAAE;AACd;;AAEO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV;;AAEA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB,WAAW,MAAM;AACjB,WAAW,EAAE;AACb,YAAY;AACZ;;AAEO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB,WAAW,MAAM;AACjB,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB,WAAW,MAAM;AACjB,YAAY,EAAE;AACd;;AAEO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,EAAE;AACb;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,EAAE;AACd;;AAEO;AACP;AACA;;AAEA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,iBAAiB;AAClC;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM;AAC1F;AACA;AACA,kBAAkB;AAClB,4BAA4B,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,aAAa;AACtF,8BAA8B,MAAM,GAAG,MAAM,GAAG,MAAM;AACtD;AACA;AACA,8BAA8B,MAAM;AACpC,8CAA8C;AAC9C;AACA,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB,YAAY,EAAE;AACd;;AAEO;AACP,kDAAkD;AAClD;;AAEA,iBAAiB,2BAA2B;AAC5C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,OAAO;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB,YAAY,MAAM;AAClB;AACA;;AAEO;AACP;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY;AACZ;;AAEO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,YAAY;AACZ;;AAEO;AACP;AACA;;AAEA,iBAAiB,SAAS;AAC1B;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,YAAY,OAAO;AACnB;;AAEO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,KAAK;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;;AAEO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,KAAK;;;AAGL,kCAAkC,QAAQ;AAC1C;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,EAAE;AACb,YAAY,OAAO;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,EAAE;AACd;;AAEO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEO;AACP;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA,YAAY,QAAQ;AACpB;AACA;AACA;;AAEO;AACP,SAAS,6DAAY;AACrB;AACA;AACA,GAAG,IAAI;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;;AAEO;AACP;AACA,YAAY;AACZ;AACA;;AAEA,MAAM,6DAAY;AAClB;AACA;;AAEA;AACA;;AAEA,iBAAiB,kBAAkB;AACnC;;AAEA,SAAS,gEAAe;AACxB;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,kBAAkB;AACnC;;AAEA,SAAS,gEAAe;AACxB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,OAAO;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,YAAY,OAAO;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;;AAEO;AACP;AACA;AACA;;AAEA;AACA,CAAC,IAAI;AACL;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA,YAAY,SAAS;AACrB;;AAEO;AACP;AACA;AACA,CAAC,KAAK;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iC;;;;;;;;;;;;;AC7oCA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,QAAQ;AACpB;AACO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA,gC;;;;;;;;;;;;AC5CA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAA0C,gCAAgC,oCAAoC,oDAAoD,8DAA8D,gEAAgE,EAAE,EAAE,gCAAgC,EAAE,aAAa;;AAEnV,gCAAgC,gBAAgB,sBAAsB,OAAO,uDAAuD,aAAa,uDAAuD,2CAA2C,EAAE,EAAE,EAAE,6CAA6C,2EAA2E,EAAE,OAAO,iDAAiD,kFAAkF,EAAE,EAAE,EAAE,EAAE,eAAe;;AAEphB,2CAA2C,kBAAkB,kCAAkC,qEAAqE,EAAE,EAAE,OAAO,kBAAkB,EAAE,YAAY;;AAE/M,qDAAqD,+BAA+B,8DAA8D,YAAY,oCAAoC,6DAA6D,YAAY,6BAA6B,OAAO,2BAA2B,0CAA0C,wEAAwE,2BAA2B,EAAE,EAAE,eAAe;;AAE1e,0DAA0D,+BAA+B,iBAAiB,sCAAsC,YAAY,YAAY,uBAAuB,OAAO,qBAAqB,0CAA0C,2BAA2B,EAAE,eAAe;;AAEjT,8BAA8B,uCAAuC,oDAAoD;;AAEzH,oCAAoC,+DAA+D,sCAAsC,0BAA0B,+CAA+C,yCAAyC,qEAAqE,EAAE,qDAAqD;;AAEvX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACgD;AACL;AAC3C;AACA,UAAU;AACV;;AAEA;AACA;AACA;AACA;AACA,UAAU;AACV;;AAEO;AACP;AACA;AACA;AACA,UAAU;AACV;;AAEA;AACA;AACA;AACA;AACA,UAAU;AACV;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB;AACA,WAAW,iBAAiB;AAC5B;AACA,WAAW,mBAAmB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,SAAS;AACrB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,KAAK;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,gCAAgC;;AAEhC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB;AACA;AACA,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,SAAS;AACrB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,KAAK;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,+BAA+B,wBAAwB;;AAEvD;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA,OAAO;AACP;;AAEA;;AAEA,WAAW,2DAAa;AACxB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,WAAW,0BAA0B;AACrC;AACA,YAAY,mBAAmB;AAC/B;AACA;AACA;;AAEO;AACP;AACA;AACA;;AAEA,8BAA8B,QAAQ;AACtC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,0BAA0B;AACrC;AACA,YAAY,SAAS;AACrB;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,oBAAoB;AAC/B,YAAY,SAAS;AACrB;AACA;;AAEO,qFAAqF,QAAQ;AACpG;AACA,CAAC,KAAK;AACN;AACA;AACA;AACA,WAAW,SAAS;AACpB,YAAY,SAAS;AACrB;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA,WAAW,WAAW;AACtB,YAAY,SAAS;AACrB;AACA;;AAEO;AACP;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,WAAW;AACtB;AACA;AACA,YAAY,SAAS;AACrB;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,6CAA6C;AACzD;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA,WAAW,oBAAoB;AAC/B,YAAY,kEAAkE;AAC9E;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA,WAAW,kBAAkB;AAC7B,YAAY,6CAA6C;AACzD;AACA;AACA;;AAEO;AACP;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,YAAY,MAAM;AAClB;;AAEO;AACP;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,YAAY,MAAM;AAClB;;AAEO;AACP,6DAA6D,qDAAO,sDAAsD,+DAAgB;AAC1I;AACA;AACA;AACA;AACA,YAAY,SAAS;AACrB,YAAY,MAAM;AAClB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,EAAE;AACd;;AAEO;AACP;AACA;AACA;AACA,YAAY,KAAK;AACjB,YAAY,MAAM;AAClB;;AAEO;AACP,8B;;;;;;;;;;;;ACxjBA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,yBAAyB;AACpC,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kC;;;;;;;;;;;;AChEA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,YAAY,OAAO;AACnB;AACO;AACP;;AAEA,iBAAiB,kBAAkB;AACnC;;AAEA,mBAAmB,qBAAqB;AACxC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;;AAEO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA,aAAa,gBAAgB;AAC7B;AACA;AACA,cAAc;AACd;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA,YAAY,OAAO;AACnB;;AAEO;AACP;AACA;;AAEA,iBAAiB,gBAAgB;AACjC;AACA;;AAEA;AACA;AACA;AACA,gC;;;;;;;;;;;;AC5GA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACO;AACP;AACA;AACA;AACA;;AAEA,uBAAuB,YAAY;AACnC;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA,uBAAuB,YAAY;AACnC;AACA;AACA;AACA;AACA,oC;;;;;;;;;;;;AC3DA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,YAAY,OAAO;AACnB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,YAAY,OAAO;AACnB;;AAEO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,YAAY,OAAO;AACnB;;AAEO;AACP;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;;AAEO;AACP;AACA;AACA;AACA,2C;;;;;;;;;;;;ACxGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,YAAY,OAAO;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA,gC;;;;;;;;;;;;ACjFA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA,mBAAmB;AACnB;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;;AAE3B;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,eAAe,oBAAoB;AACnC;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA,IAAI;;;AAGJ;AACA,wEAAwE;;AAExE;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;;AAEO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gC;;;;;;;;;;;;ACxOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AAC2C;AAC3C;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB,YAAY,QAAQ;AACpB;AACA;;AAEO;AACP;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA;AACA,uBAAuB;AACvB;AACA,CAAC,KAAK;AACN,2BAA2B,sDAAQ;AACnC;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,oBAAoB;AAC/B;AACA,YAAY,SAAS;AACrB;AACA;AACA;;AAEO;AACP;AACA;;AAEA,QAAQ,qDAAO;AACf;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,GAAG;AACH;AACA,mC;;;;;;;;;;;;AClIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACO;AACP;AACA;AACA;;AAEA,iBAAiB,YAAY;AAC7B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;;AAEO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;;AAEO;AACP;AACA;;AAEA,aAAa,QAAQ;AACrB;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,YAAY,MAAM;AAClB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,YAAY,MAAM;AAClB;;;AAGO;AACP;AACA;AACA,gC;;;;;;;;;;;;ACvJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AAC4C;AACT;AACnC;AACA;AACA;AACA,WAAW,UAAU;AACrB,YAAY,OAAO;AACnB;;AAEO;AACP,SAAS,iDAAG;AACZ;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,YAAY,OAAO;AACnB;;AAEO;AACP,iBAAiB,uDAAQ;AACzB,sBAAsB,oDAAM;AAC5B,SAAS,mDAAK;AACd;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,iCAAiC;AAC7C;AACA;;AAEO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,iCAAiC;AAC7C;AACA;;AAEO;AACP,iC;;;;;;;;;;;;AChFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACiC;AACjC;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;;AAEO;AACP,8BAA8B;AAC9B;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,eAAe;AAC1B,WAAW,eAAe;AAC1B,YAAY,OAAO;AACnB;;AAEO,2DAA2D;AAClE;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;;AAEO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;;AAEO;AACP;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;;AAEO;AACP;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,mCAAmC;AAC9C,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;;AAEO;AACP;;AAEA;AACA,QAAQ,qDAAO;AACf;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,iCAAiC;AAC5C;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;AAEA;AACA;;AAEA;AACA,UAAU,qDAAO;AACjB;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;;AAEO;AACP;AACA;AACA,kC;;;;;;;;;;;;ACvOA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA,YAAY,OAAO;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;;AAEO;AACP;AACA;AACA,gC;;;;;;;;;;;;AChEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACgF;AAChF;AACA;AACA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,WAAW,aAAa;AACxB,WAAW,QAAQ;AACnB;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;;AAEA;AACA;AACA;AACA,kFAAkF,UAAU,GAAG,IAAI;AACnG,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,YAAY,OAAO;AACnB;;;AAGO;AACP;AACA,sCAAsC;;AAEtC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,YAAY,SAAS;AACrB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEO;AACP;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA,YAAY,QAAQ;AACpB;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;;;AAGR,kCAAkC,4CAAM;AACxC;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,iBAAiB;AAC5B;AACA,YAAY;AACZ;;AAEO;AACP;;AAEA;AACA;AACA;AACA,+CAA+C;AAC/C;;AAEA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,iBAAiB;AAC7B;;AAEO;AACP;AACA,qCAAqC;;AAErC,iBAAiB,eAAe;AAChC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,gBAAgB;AAC3B;AACA;AACA;AACA;AACA,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B;AACA,YAAY,OAAO;AACnB;;AAEO;AACP,gCAAgC,sDAAQ;AACxC,mCAAmC,4CAAM;AACzC;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,oBAAoB;AAChC;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,OAAO;AACnB;;AAEO;AACP;AACA,2CAA2C;;AAE3C,yCAAyC;;AAEzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,oBAAoB;AAC/B;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mCAAmC;;AAEnC,4CAA4C;;AAE5C,+EAA+E;;AAE/E;AACA;AACA;AACA;AACA;AACA,wDAAwD;;AAExD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;;AAEO;AACP;AACA;AACA;AACA,qDAAqD,cAAc,eAAe,kBAAkB,oBAAoB,cAAc,EAAE;AACxI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD;AACrD;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,QAAQ;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,YAAY;AACZ;;;AAGO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,YAAY,EAAE;AACd;;AAEO;AACP;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,YAAY,OAAO;AACnB;;AAEO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb;AACA,YAAY,EAAE;AACd;;AAEO;AACP;;AAEA,OAAO,qDAAO;AACd;;AAEA,QAAQ,0DAAY;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;;AAEO;AACP;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,aAAa,SAAS;AACtB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,gBAAgB;AACjC;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,oBAAoB;AACrC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,wCAAwC,aAAa;AACrD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA,mBAAmB,iBAAiB;AACpC;AACA;;AAEA;;AAEA,mBAAmB,iBAAiB;AACpC;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,UAAU,2DAAa;AACvB;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;;AAEO;AACP,WAAW;;AAEX;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,+B;;;;;;;;;;;ACvvBA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,KAAK;AACL,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;;AAEA;AACA;AACA,wCAAwC,WAAW;AACnD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;;AAEA;;AAEA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC,cAAc;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iCAAiC,kBAAkB;AACnD;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB;;AAEjB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,YAAY;AACZ;AACA;;AAEA;AACA,YAAY;AACZ;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,8CAA8C,QAAQ;AACtD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAE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","file":"pigretto.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"pigretto\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"pigretto\"] = factory();\n\telse\n\t\troot[\"pigretto\"] = factory();\n})((typeof self !== 'undefined' ? self : this), function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct\");\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","var superPropBase = require(\"./superPropBase\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","module.exports = require(\"regenerator-runtime\");\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { isArray } from \"js-utl\";\n\n/**\n * @type {Function}\n */\nconst testConditionFn = testCondition =>\n  Boolean(\n    typeof testCondition === \"function\" ? testCondition() : testCondition\n  );\n\n/**\n * A function to easily create interchangeable factories switching them\n * in a declarative way based on the given runtime parameters.\n *\n * @param {Function} tuples An array of tuples, each tuple being an array of two elements:\n *\n *                                - testCondition: A boolean value or a function returning a boolean value\n *                                                 which, if \"true\", instructs this function to return the \"factory\" factory\n *                                                 bound to this \"testCondition\".\n *                                                 Note that the first \"factory\" for which \"testCondition\" is truthy\n *                                                 will be returned and further tuples will be ignored;\n *\n *                                - factory: Anything. The value to return if \"testCondition\" is a truthy value\n *                                           or a function returning a truthy value.\n *\n *                            The last element of the returned tuples MAY not be a tuple array with two elements,\n *                            and in such case it will be treated as the default factory value to return if none\n *                            of the test conditions of the previous factories are satisfied.\n *                            If the last tuple is not a default value and none of the test conditions of the previous\n *                            factories are satisfied as well as for the factory of last tuple, then \"undefined\"\n *                            will be returned by this function.\n * @param {Array|undefined} deps Dependencies array to use.\n * @return {*} The first factory value for which the test is truthy or returns a truthy value, a default factory value,\n *             or \"undefined\".\n */\nexport default function declarativeFactory(tuples) {\n  const factoryValue = (() => {\n    let i = 0;\n    // Loop through all the tuples except the last one (handled after this loop).\n    for (; i < tuples.length - 1; i++) {\n      const tuple = tuples[i];\n      const [testCondition, factoryValue] = tuple;\n      if (testConditionFn(testCondition)) {\n        // Test condition for factory value is satisfied.\n        return factoryValue;\n      }\n    }\n    const lastTuple = tuples[i];\n    if (isArray(lastTuple) && lastTuple.length === 2) {\n      const [testCondition, factoryValue] = lastTuple;\n      if (testConditionFn(testCondition)) {\n        // Test condition for last factory value is satisfied.\n        return factoryValue;\n      }\n\n      // No default and no factory value satisfying a test condition.\n      return void 0;\n    } else {\n      // Default factory value.\n      return lastTuple;\n    }\n  })();\n\n  return factoryValue;\n}\n","'use strict';\n\nconst matchOperatorsRegex = /[|\\\\{}()[\\]^$+*?.-]/g;\n\nmodule.exports = string => {\n\tif (typeof string !== 'string') {\n\t\tthrow new TypeError('Expected a string');\n\t}\n\n\treturn string.replace(matchOperatorsRegex, '\\\\$&');\n};\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Public API exposed to client code.\n */\nexport { config, isObjectEmpty, isObject, isPlainObject, isArray, isEmpty, isEmptyOr0, getGlobalObject, uniqueId, deepArrayCompare, deepObjectCompare, nestedObjectConstructValue, cloneDeeplyJSON, isReferenceType, isPrimitiveType, hasCyclicReference, typeToStr, cloneObjDeeply, deepObjectExtend, deepObjectCloningExtend, extend, extendDecorate, includesTypeCoercion, nestedPropertyValue, getNestedPropertyValue, hasNestedPropertyValue, setNestedPropertyValue, isUndefined, isInt, ctypeDigit, isIntegerOrIntegerStr, isCallable, findIndex, firstPropValue, isStrictlyTrue, isTruthy, allTruthy, allNotUndefined, isJSONString, noOpFn, is, shallowEqual, objectPropEqual, partialShallowEqual, shallowObjectDiff, nestedMapSet, nestedMapHas, nestedMapGet, nestedTreeMapSet, nestedTreeMapHas, nestedTreeMapGet, mapYield, str, mapObject, propSelection, prototypeChainProperties } from \"./modules/core\";\nexport { _, proceedCallingFn, curry, POJOCurry, compose, pipe, pick, liftBinaryFn, juxt, converge, execIfPOJOHas, execWithExistentProps, forGen, flatten, flattenDeep, cartesianProduct, identityFn, identityArgsFn } from \"./modules/fn\";\nexport { stringHashArray, hashString, onePassStringHash } from \"./modules/hash\";\nexport { timeout, minDelayPromise, maxDelayFallbackPromise, applyAsync, composeAsync } from \"./modules/promise\";\nexport { buildQueryString, formData, xhr, checkNetwork, waitNetwork, setCookie, getCookie, unsetCookie, isInViewport, isScrolledIntoView, hasVerticalScrollbar, hasHorizontalScrollbar, elementUniqueId, getElementComputedStyle, elementInnerDimensions, countTextareaLines, isScrollOnBottom, getVerticalScrollBarWidth, isEllipsisActive, copyTextToClipboard, rAFLooper, nestedRAF, getRawURIFragment, getDecodedURIFragment, appendEncodedJSONFragmentToURI, getDecodedJSONFromFragmentURI, getQueryStringArgsMultiDim, cursorFocus, parseQueryStringArgsMultiDim } from \"./modules/web\";\nexport { randomInt, randomStr, randomDifferentFromValue, randomArrayShuffle } from \"./modules/rand\";\nexport { time, msToTime, millisecToSec } from \"./modules/time\";\nexport { escapeRegExp, trimCharacterMask, trimCharacterRegex, trim, trimLeft, trimRight, concatWithInnerOuterSeparators, optionsValueLabel, startsWith, ucaseFirst } from \"./modules/string\";\nexport { googleMapBestZoomLevelFromBounds } from \"./modules/google\";\nexport { delay, debounce, throttle } from \"./modules/callback\";\nexport { basename, pathinfo, filenameExtension, dirname } from \"./modules/path\";\nexport { b2d, d2b } from \"./modules/convert\";\nexport { turnNthBitOff, turnNthBitOn, toggleNthBit, checkNthBitOn } from \"./modules/bitwise\";\nexport { getLuminance } from \"./modules/color\";\nexport { yieldCombinationsWithoutRepetition, uniqueProgressiveIncrementalCombinations, yieldUniqueProgressiveIncrementalCombinations, yieldAllSubsequences, yieldUniqueSubsequences, yieldPermutations } from \"./modules/combinatorics\";\nexport { round, sum, intDiv, isEven, isOdd } from \"./modules/math\";\nexport { unshiftArray, cloneArray, arraySliceFromValueToValue, areArrayItemsAllCoercibleToNumber, arrayOrArrayLike, lastOfArray, firstOfArray, arrayFindReverse, arrayMax, arrayMin, sortNums } from \"./modules/array\";\nexport { mean, median, minAbsDeviationFromValue, minAbsDeviationFromExcludedValue } from \"./modules/stats\";\nexport { clampLat, wrapLng, normalizeLat, normalizeLng } from \"./modules/map-coordinates\";\nexport { xrange } from \"./modules/iterator\";\nexport { isValidDate, isValidDateTimeStr } from \"./modules/date\";\n//# sourceMappingURL=index.js.map","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Array-related utility functions.\n */\n\n/**\n * Unshifts an array.\n *\n * @param {Array} arr The array.\n * @param {*} item The item to unshift.\n * @return {undefined}\n */\nexport function unshiftArray(arr, item) {\n  let len = arr.length;\n\n  while (len) {\n    arr[len] = arr[len - 1];\n    len--;\n  }\n\n  arr[0] = item;\n}\n/**\n * Clones an array.\n *\n * @param {Array} arr The array to clone.\n * @return {Array} The cloned array.\n */\n\nexport function cloneArray(arr) {\n  return arr.slice(0);\n}\n/**\n * Gets a slice of an array from a value up until another.\n *\n * @param {Array} arr The input array.\n * @param {number} from The \"from\" lower value.\n * @param {number} to The \"two\" upper value.\n * @return {Array} The slice as a new array.\n */\n\nexport function arraySliceFromValueToValue(arr, from, to) {\n  const ret = [];\n  let include = false;\n\n  for (const value of arr) {\n    if (!include && value == from) {\n      ret.push(value);\n      include = true;\n    } else if (include && value == to) {\n      ret.push(value);\n      break;\n    } else if (include) {\n      ret.push(value);\n    }\n  }\n\n  return ret;\n}\n/**\n * Tests whether all the elements of an array are coercible to a number or not.\n *\n * @param {Array} array An array.\n * @return {boolean} True if all the elements are coercible to a number, false otherwise.\n */\n\nexport function areArrayItemsAllCoercibleToNumber(array) {\n  const res = !array.some(isNaN);\n  return res;\n}\n/**\n * Copies an array or converts an array-like object to a new array.\n *\n * @param {*} arg Array or array-like object.\n * @return {Array} An array.\n */\n\nexport function arrayOrArrayLike(arg) {\n  return Array.prototype.slice.call(arg);\n}\n/**\n * Returns the last element of the given array.\n *\n * @param {Array} array An array.\n * @return {*} The last element of the array or undefined if there isn't one.\n */\n\nexport function lastOfArray(array) {\n  return array[array.length - 1];\n}\n/**\n * Returns the first element of the given array.\n *\n * @param {Array} array An array.\n * @return {*} The first element of the array or undefined if there isn't one.\n */\n\nexport function firstOfArray(array) {\n  return array[0];\n}\n/**\n * Like {@link Array.prototype.find}, but in reverse order.\n *\n * @param {Array} array An array.\n * @param {Function} fn Function to use for the test. The function will receive the array element as parameter.\n * @return {*} The first element which satisfies the test in the array by seeking for the element in reverse order\n *             (i.e. the last element of the array for which the test is satisfied).\n *             If no element satisfies the test, \"undefined\" is returned.\n */\n\nexport function arrayFindReverse(array, fn) {\n  let l = array.length;\n  let ret = void 0;\n\n  while (l) {\n    l--;\n\n    if (fn(array[l])) {\n      ret = array[l];\n      break;\n    }\n  }\n\n  return ret;\n}\n/**\n * Finds the maximum value of an array of numbers.\n *\n * @param {number[]} array An array of numbers.\n * @return {number|undefined} The maximum value of the array, or \"undefined\"\n *                            if the given array is empty.\n */\n\nexport const arrayMax = array => array.length ? array.reduce((carry, current) => current > carry ? current : carry, -Infinity) : void 0;\n/**\n * Finds the minimum value of an array of numbers.\n *\n * @param {number[]} array An array of numbers.\n * @return {number|undefined} The minimum value of the array, or \"undefined\"\n *                            if the given array is empty.\n */\n\nexport const arrayMin = array => array.length ? array.reduce((carry, current) => current < carry ? current : carry, +Infinity) : void 0;\n/**\n * Sorts an array of numbers returning a new array with the sorted\n * numbers (does not mutate the original).\n *\n * @param {number[]} arrayOfNums An array of numbers.\n * @param {boolean} [desc] True for descending order, false for ascending order (default).\n * @return {number[]} A new array with the sorted numbers.\n */\n\nexport const sortNums = (arrayOfNums, desc = false) => [...arrayOfNums].sort((a, b) => !desc // asc\n? a - b : // desc\nb - a);\n//# sourceMappingURL=array.js.map","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Bitwise utility functions.\n */\n\n/**\n * Turns nth bit off.\n *\n * @param {number} num A number.\n * @param {number} nth Nth bit to turn off (starting from 1 for the rightmost bit).\n * @return {number} New number with the nth bit turned off.\n */\nexport const turnNthBitOff = (num, nth) => num & ~(1 << nth - 1);\n/**\n * Turns nth bit on.\n *\n * @param {number} num A number.\n * @param {number} nth Nth bit to turn on (starting from 1 for the rightmost bit).\n * @return {number} New number with the nth bit turned off.\n */\n\nexport const turnNthBitOn = (num, nth) => num | 1 << nth - 1;\n/**\n * Toggles nth bit.\n *\n * @param {number} num A number.\n * @param {number} nth Nth bit to toggle (starting from 1 for the rightmost bit).\n * @return {number} New number with the nth bit toggled.\n */\n\nexport const toggleNthBit = (num, nth) => num ^ 1 << nth - 1;\n/**\n * Checks if nth bit is on.\n *\n * @param {number} num A number.\n * @param {number} nth Nth bit to check.\n * @param {number} 0 if the nth bit is off, otherwise a number greater than 0 if the nth bit is on.\n */\n\nexport const checkNthBitOn = (num, nth) => num & 1 << nth - 1;\n//# sourceMappingURL=bitwise.js.map","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Utility functions for callback handling (like debouncing, throttling).\n */\nimport { isUndefined } from \"./core\";\n/**\n * Delays execution of a callback and cancels a previously registered callback if it wasn't executed yet.\n */\n\nexport const delay = function () {\n  let timer = 0;\n  /**\n   * Inner function.\n   *\n   * @param {Function} callback The callback to execute.\n   * @param {number} ms Milliseconds to wait before executing the callback.\n   * @return {undefined}\n   */\n\n  return function (callback, ms) {\n    clearTimeout(timer);\n    timer = setTimeout(function () {\n      callback();\n    }, ms);\n  };\n}();\n/**\n * Debounces a function.\n *\n * @param {Function} fn A function.\n * @param {number} wait Wait interval in milliseconds.\n * @return {Function} A new function, debounced.\n */\n\nexport function debounce(fn, wait) {\n  let timer = void 0;\n  return function (...args) {\n    !isUndefined(timer) && clearTimeout(timer);\n    timer = setTimeout(function () {\n      fn(...args);\n    }, wait);\n  };\n}\n/**\n * Throttles a function.\n *\n * @see https://www.sitepoint.com/throttle-scroll-events/\n *\n * @param {Function} fn A function.\n * @param {number} wait Wait interval in milliseconds.\n * @return {Function} A new function, throttled.\n */\n\nexport function throttle(fn, wait) {\n  let time = Date.now();\n  return function (...args) {\n    if (time + wait - Date.now() < 0) {\n      fn(...args);\n      time = Date.now();\n    }\n  };\n}\n//# sourceMappingURL=callback.js.map","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Color-related utility functions.\n */\n\n/**\n * Gets a color's luminance.\n *\n * @param {number} color Color int value (RGB).\n * @return {number} An int greater than 160 if the color is considered dark and less than or\n *                  equal to 160 if the color is considered light.\n */\nexport function getLuminance(color) {\n  const c = parseInt(color, 16);\n  const r = (c & 0xff0000) >> 16;\n  const g = (c & 0x00ff00) >> 8;\n  const b = c & 0x0000ff;\n  return 0.299 * r + 0.587 * g + 0.114 * b;\n}\n//# sourceMappingURL=color.js.map","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Combinatorics utility functions.\n */\nimport { nestedMapSet, nestedMapHas, mapYield } from \"./core\";\nimport { arrayOrArrayLike } from \"./array\";\n/**\n * Yields all the combinations of an array without repetitions (binomial coefficient).\n *\n * @generator\n * @param {Array} items An array.\n * @param {number} numberOfItemsPerCombination The number of elements in each combination\n *                                             (this function assumes it to be less than \"items.length\"\n *                                             and greater than 0).\n * @param {boolean} yieldCopy True if the yielded combination should be a copy (default) or\n *                            the internal array used during the generation of the current combination.\n * @yields {Array} The next combination.\n */\n\nexport const yieldCombinationsWithoutRepetition = function* (items, numberOfItemsPerCombination, yieldCopy = true) {\n  const l = items.length;\n  const prefix = [];\n\n  const recurse = function* recurse(items, l, prefix, numberOfItemsPerCombination, nextIndex = 0) {\n    // Same as:\n    // if (nextIndex === numberOfItemsPerCombination) {\n    if (prefix.length === numberOfItemsPerCombination) {\n      // Base case:\n      yield yieldCopy ? arrayOrArrayLike(prefix) : prefix;\n    } else {\n      // Recurrent case:\n      for (let i = nextIndex; i < l && // Remaining needed items\n      numberOfItemsPerCombination - prefix.length <= // Remaining available items\n      l - i; i++) {\n        prefix.push(items[i]);\n        yield* recurse(items, l, prefix, numberOfItemsPerCombination, i + 1);\n        prefix.pop();\n      }\n    }\n  };\n\n  yield* recurse(items, l, prefix, numberOfItemsPerCombination);\n};\n/**\n * Generate unique, progressive and incremental combinations.\n *\n * @param {Array} items An array of items.\n * @return {Array[]} An array of arrays, each representing a unique progressive incremental combination.\n *                   An empty array is returned if the given items array is empty.\n */\n\nexport const uniqueProgressiveIncrementalCombinations = items => {\n  const len = items.length;\n\n  if (len === 0) {\n    return [];\n  }\n\n  const last = arrayOrArrayLike(items); // Shallow copy/clone of the given array.\n\n  if (len === 1) {\n    // [1] => [[1]]\n    return [last];\n  }\n\n  const ret = []; // [1], [2], [3], ..., [n]\n\n  items.map(item => ret.push([item]));\n\n  if (len > 2) {\n    // There  are at least three items.\n    for (let numberOfItemsPerCombination = 2; numberOfItemsPerCombination < len; numberOfItemsPerCombination++) {\n      for (const combination of yieldCombinationsWithoutRepetition(items, numberOfItemsPerCombination)) {\n        ret.push(combination);\n      }\n    }\n  }\n\n  ret.push(last);\n  return ret;\n};\n/**\n * Yields unique, progressive and incremental combinations.\n *\n * @generator\n * @param {Array} items An array of items.\n * @param {boolean} yieldCopy True if some of the yielded combinations should be a copy (default)\n *                         of the corresponding internal array used during the generation of the current combination\n *                         or that same array should be returned (if \"yieldCopy\" is \"false\").\n * @yields {Array} An array, each representing the next unique progressive incremental combination.\n *                 An empty array is yielded if the given items array is empty.\n */\n\nexport const yieldUniqueProgressiveIncrementalCombinations = function* (items, yieldCopy = true) {\n  const len = items.length;\n\n  if (len === 0) {\n    return;\n  }\n\n  const last = yieldCopy ? arrayOrArrayLike(items) : items; // Shallow copy/clone of the given array.\n\n  if (len === 1) {\n    // [1] => [[1]]\n    yield last;\n    return;\n  } // [1], [2], [3], ..., [n]\n\n\n  yield* mapYield(items, item => [item]);\n\n  if (len > 2) {\n    // There  are at least three items.\n    for (let numberOfItemsPerCombination = 2; numberOfItemsPerCombination < len; numberOfItemsPerCombination++) {\n      for (const combination of yieldCombinationsWithoutRepetition(items, numberOfItemsPerCombination, yieldCopy)) {\n        yield combination;\n      }\n    }\n  }\n\n  yield last;\n};\n/**\n * Yields all the subsequences of the given array of items.\n *\n * @generator\n * @param {Array} items An array of items to use to yield subsequences.\n * @yields {Array} The next subsequence.\n */\n\nexport const yieldAllSubsequences = function* (items) {\n  const l = items.length;\n\n  for (let i = 0; i <= l; i++) {\n    for (const combination of yieldCombinationsWithoutRepetition(items, i)) {\n      yield combination;\n    }\n  }\n};\n/**\n * Yields only the unique subsequences of the given array of items.\n *\n * @generator\n * @param {Array} items An array of items to use to yield subsequences.\n * @yields {Array} The next unique subsequence.\n */\n\nexport const yieldUniqueSubsequences = function* (items) {\n  const map = new Map();\n  yield [];\n\n  for (const subsequence of yieldAllSubsequences(items)) {\n    if (!nestedMapHas(map, subsequence)) {\n      nestedMapSet(map, subsequence, true);\n      yield subsequence;\n    }\n  }\n};\n/**\n * Yields all the permutations of the given array of items.\n *\n * @generator\n * @param {Array} items An array of items to use to yield permutations.\n * @param {boolean} yieldCopy True if the yielded permutation should be a copy (default) or\n *                            the internal array used during the generation of the current permutation.\n * @yields {Array} The next permutation.\n */\n\nexport const yieldPermutations = function* (items, yieldCopy = true) {\n  const currentPermutationPrefix = [];\n  const currentPermutationIndicesMap = {};\n\n  const permute = function* () {\n    if (currentPermutationPrefix.length === items.length) {\n      yield yieldCopy ? arrayOrArrayLike(currentPermutationPrefix) : currentPermutationPrefix;\n    } else {\n      for (let i = 0; i < items.length; i++) {\n        if (currentPermutationIndicesMap[i]) {\n          continue;\n        }\n\n        currentPermutationPrefix.push(items[i]);\n        currentPermutationIndicesMap[i] = true;\n        yield* permute();\n        delete currentPermutationIndicesMap[i];\n        currentPermutationPrefix.pop();\n      }\n    }\n  };\n\n  yield* permute();\n};\n//# sourceMappingURL=combinatorics.js.map","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Utility functions related to conversion of data from one format to another.\n */\n\n/**\n * Binary to decimal.\n *\n * @param {string} x Binary string.\n * @return {number} Decimal number.\n */\nexport const b2d = x => parseInt(x, 2);\n/**\n * Decimal to binary.\n *\n * @param {number} x Decimal number.\n * @return {string} Binary representation.\n */\n\nexport const d2b = x => x.toString(2);\n//# sourceMappingURL=convert.js.map","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @typechecks\n *\n */\n\n/**\n * @type {Function}\n */\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n/**\n * Function implementing \"Object.is\" behaviour.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n *\n * @param {*} x The first value to compare.\n * @param {*} y The second value to compare.\n * @return {boolean} A boolean indicating whether or not the two arguments are the same value.\n */\n\nexport function is(x, y) {\n  // SameValue algorithm\n  if (x === y) {\n    // Steps 1-5, 7-10\n    // Steps 6.b-6.e: +0 != -0\n    return x !== 0 || 1 / x === 1 / y;\n  } else {\n    // Step 6.a: NaN == NaN\n    return x !== x && y !== y;\n  }\n}\n/**\n * Checks whether a prop of an object equals in the other object (shallow comparison).\n *\n * @param {Object} objA The first object.\n * @param {Object} objB The second object.\n * @param {string} prop The name of the property.\n * @return {boolean} True if the value of \"prop\" in \"objA\" is shallowly equal to the value of \"prop\" in \"objB\".\n */\n\nexport function objectPropEqual(objA, objB, prop) {\n  return hasOwnProperty.call(objB, prop) && is(objA[prop], objB[prop]);\n}\n/**\n * Performs equality by iterating through keys on an object and returning \"false\"\n * when any key has values which are not strictly equal between the arguments.\n * Returns \"true\" when the values of all keys are strictly equal.\n *\n * @see https://stackoverflow.com/questions/22266826/how-can-i-do-a-shallow-comparison-of-the-properties-of-two-objects-with-javascri#answer-37636728\n *\n * @param {*} objA First object.\n * @param {*} objB Second object.\n * @return {boolean}\n */\n\nexport function shallowEqual(objA, objB) {\n  if (is(objA, objB)) {\n    return true;\n  }\n\n  if (typeof objA !== \"object\" || objA === null || typeof objB !== \"object\" || objB === null) {\n    return false;\n  }\n\n  const keysA = Object.keys(objA);\n  const keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  } // Test for A's keys different from B.\n\n\n  for (let i = 0; i < keysA.length; i++) {\n    const prop = keysA[i];\n\n    if (!objectPropEqual(objA, objB, prop)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n//# sourceMappingURL=compare.js.map","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\nimport { shallowEqual, objectPropEqual, is } from \"./compare\";\nexport { shallowEqual, objectPropEqual, is };\n/**\n * Core utility functions.\n */\n\n/**\n * Optional configuration with useful properties.\n *\n * @type {Object}\n */\n\nexport const config = {\n  uniqueIdPrefix: \"\",\n  elementUniqueIdPrefix: \"\",\n  checkNetworkURI: null\n};\n/**\n * Tests if an object is empty.\n *\n * @param {Object} obj The object to test.\n * @return {boolean} \"true\" if the given object is empty (does not have own properties), \"false\" otherwise.\n */\n\nexport function isObjectEmpty(obj) {\n  for (const prop in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n/**\n * @type {string}\n */\n\nconst objPrototypeToString = Object.prototype.toString.call({});\n/**\n * Tests if a variable is an object.\n *\n * @param {*} obj The variable to test.\n * @return {boolean} \"true\" if \"obj\" is indeed an object, \"false\" otherwise.\n */\n\nexport const isObject = function (obj) {\n  return objPrototypeToString === Object.prototype.toString.call(obj);\n};\n/**\n * Tests if a variable is a plain object (i.e. \"{}\", an object literal).\n *\n * @param {*} obj The variable to test.\n * @return {boolean} \"true\" if \"obj\" is a plain object, \"false\" otherwise.\n */\n\nexport const isPlainObject = obj => {\n  return obj !== null && typeof obj === \"object\" && obj.constructor === Object && isObject(obj);\n};\n/**\n * Tests to see whether something is an array or not.\n *\n * @param {*} something A variable to check whether it is an array or not.\n * @return {boolean} True if the parameter passed in is an array, false otherwise.\n */\n\nexport function isArray(something) {\n  return Object.prototype.toString.call(something) === Object.prototype.toString.call([]);\n}\n/**\n * Tests if the given value is callable.\n *\n * @param {*} v The value.\n * @return {boolean} True if callable, false otherwise.\n */\n\nexport function isCallable(v) {\n  return typeof v === \"function\";\n}\n/**\n * Tests if a variable is empty returning true for empty strings and empty arrays.\n *\n * @param {*} data The variable to test.\n * @return {boolean} True if the variable is empty, false otherwise.\n */\n\nexport function isEmpty(data) {\n  return !data || data.length === 0;\n}\n/**\n * Tests if a variable is empty or 0 (\"0\" string) returning true for empty strings,\n * empty arrays, the \"0\" string and empty values.\n *\n * @param {*} data The variable to test.\n * @return {boolean} True if the variable is empty or \"0\", false otherwise.\n */\n\nexport function isEmptyOr0(data) {\n  return !data || data === \"0\" || data.length === 0;\n}\n/**\n * Returns a reference to the global object.\n *\n * @return {Window|global} The global object (this function is cross-platform aware).\n */\n\nexport function getGlobalObject() {\n  return typeof global !== \"undefined\" ? global : window;\n}\n/**\n * @type {string}\n */\n\nconst JSUtlUniqueIdCounterProp = \"JSUtlUniqueIdCounterLEzKKl87QCDxwVH\";\n/**\n * Generates a unique ID which can be used as an \"id\" attribute.\n *\n * @param {string|undefined} [uniqueIdPrefix] Local unique ID prefix which overrides the prefix\n *                                            set on the \"config\" configuration object.\n * @return {string} The unique ID.\n */\n\nexport function uniqueId(uniqueIdPrefix = void 0) {\n  const globalObject = getGlobalObject();\n  globalObject[JSUtlUniqueIdCounterProp] = globalObject[JSUtlUniqueIdCounterProp] || 0;\n  globalObject[JSUtlUniqueIdCounterProp]++;\n  const uniqueIdCounter = globalObject[JSUtlUniqueIdCounterProp];\n  const uniqueId = (uniqueIdPrefix || config.uniqueIdPrefix) + uniqueIdCounter;\n  return uniqueId;\n}\n/**\n * Gets a nested value of an object given an array of nested property names (keys).\n *\n * @param {Object} data JS POJO object.\n * @param {Array} props Array of object nested keys.\n * @return {*} The leaf value.\n */\n\nexport function nestedPropertyValue(data, props) {\n  let root = data;\n\n  for (let i = 0; i < props.length; i++) {\n    const prop = props[i];\n    root = root[prop];\n  }\n\n  return root;\n}\n/**\n * Alias for \"nestedPropertyValue\".\n *\n * @alias\n */\n\nexport const getNestedPropertyValue = nestedPropertyValue;\n/**\n * Checks if a nested value of an object given an array of nested property names (keys) exists.\n *\n * @param {Object} data JS POJO object.\n * @param {Array} props Array of object nested keys.\n * @return {boolean} True if the nested key exists, false otherwise.\n */\n\nexport function hasNestedPropertyValue(data, props) {\n  if (!props.length) {\n    return false;\n  }\n\n  let root = data;\n\n  for (let i = 0; i < props.length; i++) {\n    const prop = props[i];\n\n    if (!root[prop]) {\n      return false;\n    }\n\n    root = root[prop];\n  }\n\n  return true;\n}\n/**\n * Sets a nested value of an object given an array of nested property names (keys).\n *\n * @param {Object} data JS POJO object.\n * @param {Array} props Array of object nested keys.\n * @param {*} value Leaf value.\n * @return {undefined}\n */\n\nexport function setNestedPropertyValue(data, props, value) {\n  if (!props.length) {\n    return;\n  }\n\n  let root = data;\n  let prev = null;\n\n  for (let i = 0; i < props.length; i++) {\n    const prop = props[i];\n\n    if (typeof root[prop] !== \"object\") {\n      root[prop] = {};\n    }\n\n    prev = root;\n    root = root[prop];\n  }\n\n  if (prev) {\n    prev[props[props.length - 1]] = value;\n  }\n}\n/**\n * Sets a nested value on a nested map.\n *\n * @param {Map|WeakMap} map A map or weak map.\n * @param {Array} keys Array of keys to traverse. Each key will lead to a nested map.\n * @param {*} value The value to set at the inner key.\n * @return {undefined}\n */\n\nexport const nestedMapSet = (map, keys, value) => {\n  let i = 0;\n  let current = map;\n\n  while (i < keys.length - 1) {\n    const key = keys[i];\n    const nested = current.get(key);\n\n    if (nested instanceof Map || nested instanceof WeakMap) {\n      current = nested;\n    } else {\n      const newMap = new Map();\n      current.set(key, newMap);\n      current = newMap;\n    }\n\n    i++;\n  }\n\n  current.set(keys[i], value);\n};\n/**\n * Tests if a map has the given nested keys.\n *\n * @param {Map|WeakMap} map A map or weak map.\n * @param {Array} keys Array of keys to check. Each key represents a nested map.\n * @return {boolean} \"true\" if all the nested keys exist, false otherwise.\n */\n\nexport const nestedMapHas = (map, keys) => {\n  let current = map;\n  let i = 0;\n  const l = keys.length;\n\n  while ((current instanceof Map || current instanceof WeakMap) && current.has(keys[i]) && i < l) {\n    current = current.get(keys[i]);\n    i++;\n  }\n\n  return i == l;\n};\n/**\n * Gets a value from a nested map.\n *\n * @param {Map|WeakMap} map A map or weak map.\n * @param {Array} keys Array of keys. Each key represents a nested map.\n * @return {*} The value of the map or \"undefined\" if there is no value for the given nested keys.\n */\n\nexport const nestedMapGet = (map, keys) => {\n  let current = map;\n  let i = 0;\n  const l = keys.length;\n\n  while ((current instanceof Map || current instanceof WeakMap) && current.has(keys[i]) && i < l) {\n    current = current.get(keys[i]);\n    i++;\n  }\n\n  return i == l ? current : void 0;\n};\n/**\n * @type {Symbol}\n */\n\nconst treeMapSubtree = Symbol(\"treeMapSubtree\");\n/**\n * Sets a nested value on a nested tree map.\n *\n * @param {Map|WeakMap} rootMap A map or weak map to use as the root.\n * @param {Array} keys Array of keys to traverse. Each key will lead to a nested node of the tree map.\n * @param {*} value The value to set at the inner nested key.\n * @return {undefined}\n */\n\nexport const nestedTreeMapSet = (rootMap, keys, value) => {\n  let i = 0;\n  let current = rootMap;\n  const MapConstructor = rootMap instanceof WeakMap ? WeakMap : Map;\n\n  while (i < keys.length - 1) {\n    const key = keys[i];\n    const nested = current.get(key);\n\n    if (nested) {\n      current = nested[treeMapSubtree] || (nested[treeMapSubtree] = new MapConstructor());\n    } else {\n      const newMap = new MapConstructor();\n      const node = {\n        [treeMapSubtree]: newMap,\n        value: void 0\n      };\n      current.set(key, node);\n      current = newMap;\n    }\n\n    i++;\n  }\n\n  const key = keys[i];\n  !current.has(key) ? current.set(key, {\n    value\n  }) : current.get(key).value = value;\n};\n/**\n * Tests if a tree map has the given nested keys.\n *\n * @param {Map|WeakMap} rootMap The root of the map or weak map.\n * @param {Array} keys Array of keys to check. Each key represents a nested node of the tree map.\n * @return {boolean} \"true\" if all the nested keys exist, false otherwise.\n */\n\nexport const nestedTreeMapHas = (rootMap, keys) => {\n  let current = rootMap;\n  let i = 0;\n  const l = keys.length;\n\n  while ((current instanceof Map || current instanceof WeakMap) && current.has(keys[i]) && i < l) {\n    current = current.get(keys[i])[treeMapSubtree];\n    i++;\n  }\n\n  return i == l;\n};\n/**\n * Gets a value from a nested tree map.\n *\n * @param {Map|WeakMap} rootMap The root of the map or weak map.\n * @param {Array} keys Array of keys. Each key represents a nested node of the tree map.\n * @return {*} The value of the tree map or \"undefined\" if there is no value for the given nested keys.\n */\n\nexport const nestedTreeMapGet = (rootMap, keys) => {\n  let current = rootMap;\n  let i = 0;\n  const lastIndex = keys.length - 1;\n\n  while ((current instanceof Map || current instanceof WeakMap) && current.has(keys[i]) && i < lastIndex) {\n    current = current.get(keys[i])[treeMapSubtree];\n    i++;\n  }\n\n  if (i === lastIndex && current) {\n    const lastKey = keys[i];\n\n    if (current.has(lastKey)) {\n      const nested = current.get(lastKey);\n      return nested.value;\n    }\n  }\n\n  return void 0;\n};\n/**\n * Yields values of an array mapping the yielded value.\n *\n * @generator\n * @param {Array} items An array of items.\n * @param {*} fn The function to call.\n *               The function will receive, in order the nth item,\n *               the index of the item in the array of items and the whole items array\n *               as parameters.\n * @param {*} thisArg Optional this arg of the called function (defaults to undefined).\n * @yields {*} The next yielded mapped item.\n */\n\nexport function* mapYield(items, fn, thisArg = void 0) {\n  items.map();\n  const boundFn = fn.bind(thisArg);\n\n  for (let i = 0; i < items.length; i++) {\n    yield boundFn(items[i], i, items);\n  }\n}\n/**\n * Compares two arrays deeply.\n *\n * @param {Array} arr1 First array.\n * @param {Array} arr2 Second array.\n * @return {boolean} True if they are equal (same indexes and same values), false otherwise.\n */\n\nexport function deepArrayCompare(arr1, arr2) {\n  if (arr1.length != arr2.length) {\n    return false;\n  }\n\n  const toString = Object.prototype.toString;\n  const arrayToStringStr = toString.call([]);\n\n  for (let i = 0; i < arr1.length; i++) {\n    if (!(i in arr2)) {\n      return false;\n    } else if (isPlainObject(arr1[i])) {\n      if (!isPlainObject(arr2[i]) || // eslint-disable-next-line @typescript-eslint/no-use-before-define\n      !deepObjectCompare(arr1[i], arr2[i])) {\n        return false;\n      }\n    } else if (arrayToStringStr === toString.call(arr1[i])) {\n      if (arrayToStringStr !== toString.call(arr2[i]) || !deepArrayCompare(arr1[i], arr2[i])) {\n        return false;\n      }\n    } else {\n      if (arr1[i] !== arr2[i]) {\n        return false;\n      }\n    }\n  }\n\n  return true;\n}\n/**\n * Compare two objects deeply.\n *\n * @param {Object} obj1 First object.\n * @param {Object} obj2 Second object.\n * @return {boolean} True if they are equal (same properties and same values), false otherwise.\n */\n\nexport function deepObjectCompare(obj1, obj2) {\n  const toString = Object.prototype.toString;\n  const arrayToStringStr = toString.call([]);\n\n  for (const property in obj1) {\n    if (!(property in obj2)) {\n      // `obj2[property]` does not contain the property of `obj1`.\n      return false;\n    } else if (isPlainObject(obj1[property])) {\n      // `obj1[property]` is an object.\n      if (!isPlainObject(obj2[property]) || !deepObjectCompare(obj1[property], obj2[property])) {\n        // `obj2[property]` is not an object or the branches are different.\n        return false;\n      }\n    } else if (arrayToStringStr === toString.call(obj1[property])) {\n      // `obj1[property]` is an array.\n      if (arrayToStringStr !== toString.call(obj2[property]) || !deepArrayCompare(obj1[property], obj2[property])) {\n        // `obj2[property]` is not an array or the two objects are different.\n        return false;\n      }\n    } else {\n      // `obj1[property]` is not an object and is not an array.\n      if (obj1[property] !== obj2[property]) {\n        return false;\n      }\n    }\n  } // `obj1` equals `obj2` (has the same properties and the same values).\n\n\n  return true;\n}\n/**\n * Nests the properties of an object using an array of props definitions and defaults.\n * Returns the leaf.\n * Example:\n *\n *      var obj = {};\n *      var nest = [{a: {}}, {b: {}}, {c: {}}, {d: {}}, {e: {}}, {f: {}}, {g: {}}, {h: {}} ];\n *      var leaf = nestedObjectConstructValue(obj, nest);\n *      leaf.i = 'i';\n *      leaf.l = { m: \"m\" };\n *      JSON.stringify(obj); // {\"a\":{\"b\":{\"c\":{\"d\":{\"e\":{\"f\":{\"g\":{\"h\":{\"i\":\"i\",\"l\":{\"m\":\"m\"}}}}}}}}}}\n *      nest = nest.concat([ {n: {}}, {o: {}}, {p: {}} ]);\n *      var pLeaf = nestedObjectConstructValue(obj, nest);\n *      pLeaf.q = 'q';\n *      nest = nest.concat([ {q: {}} ]);\n *      nestedObjectConstructValue(obj, nest); // 'q'\n *\n * @param {Object} root The root object.\n * @param {Array} nestedPropsDef The nexted props definitions.\n * @param {boolean} [isRootArrayIfRootFalsy] True if the root should be an array if the first argument \"root\" is falsy.\n * @return {*} The leaf.\n */\n\nexport function nestedObjectConstructValue(root, nestedPropsDef, isRootArrayIfRootFalsy) {\n  root = root || (isRootArrayIfRootFalsy ? [] : {});\n  let leaf = root;\n\n  for (let i = 0; i < nestedPropsDef.length; i++) {\n    const propDef = nestedPropsDef[i];\n    const propKey = Object.keys(propDef)[0];\n    const propDefault = propDef[propKey];\n    leaf[propKey] = leaf[propKey] || propDefault;\n    leaf = leaf[propKey];\n  }\n\n  return leaf;\n}\n/**\n * Clones an object deeply using the JSON API.\n *\n * @param {Object} obj The object to clone.\n * @return {Object} The cloned object.\n */\n\nexport function cloneDeeplyJSON(obj) {\n  return JSON.parse(JSON.stringify(obj));\n}\n/**\n * Tests whether the given value is a reference type or not.\n *\n * @param {*} value Any value which can be an object or a primitive type.\n * @return {boolean} True if the given value is a reference type, false otherwise.\n */\n\nexport function isReferenceType(value) {\n  return new Object(value) === value;\n}\n/**\n * Tests whether the given value is a primitive type or not.\n *\n * @param {*} value Any value which can be an object or a primitive type.\n * @return {boolean} True if the given value is a primitive type, false otherwise.\n */\n\nexport function isPrimitiveType(value) {\n  return new Object(value) !== value;\n}\n/**\n * Checks whether an object has a cyclic reference or not.\n *\n * @param {Object} obj The object to check for a cyclic reference.\n * @return {boolean} True if the object has a cyclic reference, false otherwise.\n */\n\nexport function hasCyclicReference(obj) {\n  const stackSet = [];\n  let detected = false;\n\n  function detect(obj) {\n    if (detected) {\n      return;\n    }\n\n    if (typeof obj !== \"object\") {\n      return;\n    }\n\n    const indexOfObj = stackSet.indexOf(obj);\n\n    if (indexOfObj !== -1) {\n      detected = true;\n      return;\n    }\n\n    stackSet.push(obj);\n\n    for (const k in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, k)) {\n        detect(obj[k]);\n      }\n    }\n\n    stackSet.splice(indexOfObj, 1);\n    return;\n  }\n\n  detect(obj);\n  return detected;\n}\n/**\n * Converts a type to its string representation.\n *\n * @param {*} type A variable.\n * @return {string} The string representation of \"type\".\n */\n\nexport function typeToStr(type) {\n  return Object.prototype.toString.call(type);\n}\n/**\n * Clones an object deeply and returns the clone.\n *\n * @param {Object} object The object to clone.\n * @return {Object} The clone.\n * @throws {Error} If a circular reference if even only one property is of an unkown type\n *                 (this should never happen) or a circular reference is detected.\n */\n\nexport function cloneObjDeeply(object) {\n  const newObject = new object.constructor();\n\n  for (const prop in object) {\n    // If the property is defined on the prototype, ignore it. We don't want to assign it for each clone instance.\n    if (!Object.prototype.hasOwnProperty.call(object, prop)) {\n      continue;\n    }\n\n    const property = object[prop];\n\n    if (isPrimitiveType(property)) {\n      newObject[prop] = property;\n    } else if (isReferenceType(property)) {\n      if (!hasCyclicReference(property)) {\n        const clone = cloneObjDeeply(property);\n        newObject[prop] = clone;\n      } else {\n        throw new Error(\"Circular reference detected inside of property '\" + prop + \"' (\" + typeToStr(property) + \") in object (\" + typeToStr(object) + \")\");\n      }\n    } else {\n      throw new Error(\"Oops! Unknown type for property '\" + prop + \"' (\" + typeToStr(property) + \") in object (\" + typeToStr(object) + \")\");\n    }\n  }\n\n  return newObject;\n}\n/**\n * Deep object extension implementation.\n * Nothing is returned, but the destination object will be modified and merged with the source object\n * so that properties of the source object which are objects will recursively merge with the corresponding\n * destination property while the other properties with all the other types will replace the properties of the\n * destination object.\n * Note that this method should not be used for inheritance via the Prototypal Combination Inheritance pattern.\n * Also, this method doesn't perform a deep object cloning, it just extends the destinationObject by adding properties\n * it doesn't have in a deep way.\n *\n * @param {Object} destinationObject The destination object which will be modified and merged with the source object.\n * @param {Object} sourceObject The source object which will be used to extend the destination object.\n * @return {undefined}\n */\n\nexport function deepObjectExtend(destinationObject, sourceObject) {\n  for (const property in sourceObject) {\n    if (sourceObject[property] && isPlainObject(sourceObject[property])) {\n      destinationObject[property] = destinationObject[property] || {};\n      deepObjectExtend(destinationObject[property], sourceObject[property]);\n    } else {\n      destinationObject[property] = sourceObject[property];\n    }\n  }\n}\n/**\n * Deep object cloning extension implementation. If the source objects contain a property with a reference type, a clone object\n * of the same type of that property will be created and then merged with the property object of the destination object.\n *\n * @param {Object} destinationObject The destination object which will be modified and merged with the source object.\n * @param {...Object} sourceObject One or more objects which will be used to extend the destination object.\n * @return {undefined}\n */\n\nexport function deepObjectCloningExtend(...args) {\n  const destinationObject = args[0];\n  let sourceObject;\n\n  for (let i = 1; args[i]; i++) {\n    sourceObject = args[i];\n\n    for (const property in sourceObject) {\n      if (sourceObject[property] && isPlainObject(sourceObject[property])) {\n        destinationObject[property] = destinationObject[property] || {};\n        deepObjectExtend(destinationObject[property], cloneObjDeeply(sourceObject[property]));\n      } else {\n        destinationObject[property] = sourceObject[property];\n      }\n    }\n  }\n}\n/**\n * Extends a destination object with the provided source objects.\n *\n * @param {Object} destinationObj The destination object.\n * @param {...Object} sourceObjects The source objects.\n * @return {Object} The destination object \"destinationObj\" given as parameter after extension.\n */\n\nexport function extend(destinationObj, ...sourceObjects) {\n  for (const sourceObject of sourceObjects) {\n    deepObjectExtend(destinationObj, sourceObject);\n  }\n\n  return destinationObj;\n}\n/**\n * Extends a destination object with the provided source objects.\n *\n * @param {Object} destinationObject The destination object.\n * @param {...*} rest The source objects with the last parameter being an array of rules,\n *                    each rule being a tuple array where the first element is an array of \"ORed\" property names (strings or numbers)\n *                    or regexes matching property names for which the corresponding values should be decorated\n *                    (or a single property name or regex matching a property name if the decoration should only happen on a single property),\n *                    and where the second element is a callback to execute for each value which is a value of a property\n *                    of a source object.\n *                    The callback has the following signature:\n *\n *                        (value: *, prop: string|number, parent: Object) => *|undefined\n *\n *                    The callback will receive the final value after extension, its associated property and the parent object\n *                    where that property is set with that value.\n *                    Its returned value will be used as the final value of the property for that object in \"destinationObject\".\n *\n *                    If the last parameter is not an array of rules, it will be treated as the last source object to use for the extension\n *                    (the \"extend\" function will be simply called under the hood without any decoration logic).\n * @return {Object} The destination object \"destinationObj\" given as parameter after extension and, if the callback is given\n *                  as the last parameter, after applying the given callback.\n */\n\nexport function extendDecorate(destinationObject, ...rest) {\n  const rules = rest[rest.length - 1];\n\n  if (isArray(rules)) {\n    rest.pop();\n    const sourceObjects = rest;\n    const initialRetValue = {};\n    const matchedRulesMap = new Map();\n    const callbacksMap = new Map();\n    const paths = [];\n\n    const mapKeys = (destinationObject, sourceObject, currentStack, currentPath) => {\n      for (const key in sourceObject) {\n        currentStack.push({\n          destinationObject,\n          sourceObject,\n          property: key,\n          path: [...currentPath, key]\n        });\n      }\n    };\n\n    const matchRule = (rule, property) => {\n      if (rule instanceof RegExp && typeof property === \"string\") {\n        return property.match(rule);\n      } else {\n        return rule === property;\n      }\n    };\n\n    const matchArrayRule = (arrayRule, property) => {\n      for (const rule of arrayRule) {\n        if (matchRule(rule, property)) {\n          return true;\n        }\n      }\n\n      return false;\n    };\n\n    const ruleMatches = (rule, property) => {\n      if (isArray(rule)) {\n        return matchArrayRule(rule, property);\n      } else {\n        return matchRule(rule, property);\n      }\n    };\n\n    const matchRules = property => {\n      if (!matchedRulesMap.has(property)) {\n        const callbacks = [];\n\n        for (const [rule, callback] of rules) {\n          if (ruleMatches(rule, property)) {\n            callbacks.push(callback);\n          }\n        }\n\n        matchedRulesMap.set(property, callbacks);\n      }\n\n      return matchedRulesMap.get(property);\n    };\n\n    for (const sourceObject of sourceObjects) {\n      const currentStack = [];\n      const currentPath = [];\n      mapKeys(destinationObject, sourceObject, currentStack, currentPath);\n\n      while (currentStack.length) {\n        const {\n          destinationObject,\n          sourceObject,\n          property,\n          path: currentPath\n        } = currentStack.pop();\n\n        if (sourceObject[property] && isPlainObject(sourceObject[property])) {\n          // \"sourceObject[property]\" is an object of class \"Object\".\n          destinationObject[property] = isPlainObject(destinationObject[property]) ? destinationObject[property] : {};\n          mapKeys(destinationObject[property], sourceObject[property], currentStack, currentPath);\n        } else {\n          // \"sourceObject[property]\" is not an object.\n          destinationObject[property] = sourceObject[property];\n        }\n\n        const callbacks = matchRules(property);\n\n        if (callbacks && callbacks.length) {\n          if (!nestedTreeMapHas(callbacksMap, currentPath)) {\n            paths.push([...currentPath]);\n          }\n\n          nestedTreeMapSet(callbacksMap, currentPath, callbacks.map(callback => retValue => path => {\n            const value = retValue === initialRetValue ? destinationObject[property] : retValue;\n            return callback(value, property, destinationObject, path);\n          }));\n        }\n      }\n    } // Decorating the final nested values.\n\n\n    for (let i = paths.length - 1; i >= 0; i--) {\n      const path = paths[i];\n      const callbacks = nestedTreeMapGet(callbacksMap, path) || [];\n      let retValue = initialRetValue;\n\n      for (const callback of callbacks) {\n        retValue = callback(retValue)(path);\n      }\n\n      if (retValue !== initialRetValue) {\n        setNestedPropertyValue(destinationObject, path, retValue);\n      }\n    }\n\n    return destinationObject;\n  } else {\n    return extend(destinationObject, ...rest);\n  }\n}\n/**\n * Like \"Array.prototype.includes\", but with type coercion.\n *\n * @param {Array} array The array.\n * @param {Anything} value The value.\n * @return {boolean} True if the value is included within the array (checking with type coercion`==`).\n */\n\nexport function includesTypeCoercion(array, value) {\n  for (const valueOfArray of array) {\n    if (valueOfArray == value) {\n      return true;\n    }\n  }\n\n  return false;\n}\n/**\n * Tests whether a value is undefined or not.\n *\n * @param {*} value A value\n * @return {boolean} True value is undefined, false otherwise.\n */\n\nexport function isUndefined(value) {\n  return typeof value === \"undefined\";\n}\n/**\n * Tests if the given value is an int.\n *\n * @param {*} value The value.\n * @return {boolean} True if value is an int, false otherwise.\n */\n\nexport function isInt(value) {\n  return Number.isInteger(value);\n}\n/**\n * Tests if the given string is an integer string.\n *\n * @param {*} a The string.\n * @return {boolean} True if the given string is an integer string, false otherwise.\n */\n\nexport function ctypeDigit(a) {\n  return Boolean(a.match(/^[0-9]+$/));\n}\n/**\n * Tests if the given value is an int or an integer string.\n *\n * @param {*} a The value.\n * @return {boolean} True if the value is an int or an integer string, false otherwise.\n */\n\nexport function isIntegerOrIntegerStr(a) {\n  return Number.isInteger(a) || ctypeDigit(a);\n}\n/**\n * Finds the index of a value in an array without type juggling\n * (i.e. like \"Array.prototype.indexOf\", but using \"==\" for equality comparison).\n *\n * @param {Array} array An array.\n * @param {*} value A value.\n * @return {number} -1 if the value is not in array, otherwise the index of value in array.\n */\n\nexport function findIndex(array, value) {\n  return array.findIndex(el => el == value);\n}\n/**\n * Returns the first value of the first property of an object.\n *\n * @param {Object} obj The object.\n * @return {*} The value of the first property of the given object.\n */\n\nexport function firstPropValue(obj) {\n  let prop;\n\n  for (prop in obj) {\n    break;\n  }\n\n  return obj[prop];\n}\n/**\n * Tests if a value is strictly a boolean \"true\".\n *\n * @param {*} value A value.\n * @return {boolean} \"true\" if the value is a boolean \"true\", \"false\" otherwise.\n */\n\nexport function isStrictlyTrue(value) {\n  return value === true;\n}\n/**\n * Tests if a value is truthy or not.\n *\n * @param {*} value The value.\n * @return {boolean} \"true\" if the value is truthy (evaluates to boolean \"true\"), \"false\" otherwise.\n */\n\nexport function isTruthy(value) {\n  return Boolean(value);\n}\n/**\n * Tests if all the given values are truthy.\n *\n * @param {...*} values The values.\n * @return {boolean} \"true\" if and only if all the values are truthy.\n */\n\nexport function allTruthy(...values) {\n  return values.every(isTruthy);\n}\n/**\n * Tests if all the given values are not undefined.\n *\n * @param {...*} values The values.\n * @return {boolean} \"true\" if and only if all the values are not undefined.\n */\n\nexport function allNotUndefined(...values) {\n  return values.every(value => typeof value !== \"undefined\");\n}\n/**\n * Tests if a string is a valid JSON string.\n *\n * @param {string} str A string.\n * @return {boolean} \"true\" if the string represents a valid JSON string, \"false\" otherwise.\n */\n\nexport function isJSONString(str) {\n  try {\n    JSON.parse(str);\n  } catch (e) {\n    return false;\n  }\n\n  return true;\n}\n/**\n * No-op function.\n *\n * @return {undefined}\n */\n// eslint-disable-next-line @typescript-eslint/no-empty-function\n\nexport function noOpFn() {}\n/**\n * Tests if a partial object is a subset of another object.\n *\n * @param {Object} obj An object.\n * @param {Object} partialObj A partial object which may not have all the keys of \"obj\"\n *                            or may even have different keys, or keys with different values.\n * @return {boolean} False if \"partialObj\" has a key which is not in \"obj\",\n *                   or has at least one key which is also in \"obj\" but with a different value\n *                   (shallow comparison), true otherwise.\n */\n\nexport function partialShallowEqual(obj, partialObj) {\n  return shallowEqual(Object.keys(partialObj).reduce((carry, key) => {\n    carry[key] = obj[key];\n    return carry;\n  }, {}), partialObj);\n}\n/**\n * Returns a shallow object diff, returning an object with two keys \"objA\" and \"objB\",\n * each containing an object with all the properties of one of the two objects which are not within\n * the other object, respectively.\n * If a property is on both objects but each object has a different value for that same property\n * (using shallow equality comparison), the returned property will be set on both objects with their\n * respective values.\n *\n * @param {Object} objA First object.\n * @param {Object} objB Second object.\n * @return {Object} An object containing the shallow diff, with two keys \"objA\" and \"objB\".\n */\n\nexport function shallowObjectDiff(objA, objB) {\n  const diff = {\n    objA: {},\n    objB: {}\n  };\n\n  if (shallowEqual(objA, objB)) {\n    return diff;\n  }\n\n  const keysA = Object.keys(objA);\n  const keysB = Object.keys(objB);\n\n  for (let i = 0; i < keysA.length; i++) {\n    const prop = keysA[i];\n\n    if (!objectPropEqual(objA, objB, prop)) {\n      diff.objA[prop] = objA[prop];\n\n      if (hasOwnProperty.call(objB, prop)) {\n        diff.objB[prop] = objB[prop];\n      }\n    }\n  }\n\n  for (let i = 0; i < keysB.length; i++) {\n    const prop = keysB[i];\n\n    if (!objectPropEqual(objB, objA, prop)) {\n      diff.objB[prop] = objB[prop];\n\n      if (hasOwnProperty.call(objA, prop)) {\n        diff.objA[prop] = objA[prop];\n      }\n    }\n  }\n\n  return diff;\n}\n/**\n * Casts a value to a string.\n *\n * @param {*} v A value.\n * @return {string} The string representation of the value.\n */\n\nexport function str(v) {\n  return \"\" + v;\n}\n/**\n * Maps an object, executing a function on each of its properties\n * returning a new mapped object.\n *\n * @param {Object} obj The object to map.\n * @param {Function} fn The function to use for the mapping.\n * @return {Object} The new mapped object.\n */\n\nexport const mapObject = (obj, fn) => Object.fromEntries(Object.entries(obj).map(([key, value], index) => [key, fn(value, key, index)]));\n/**\n * Selects the truthy properties of an object or the properties of an object\n * passing a test specified with a callback function.\n *\n * @param {Object} obj The input object.\n * @param {Function} fn A function which will receive two parameters:\n *\n *                          - value: The current value of the input object for a given property;\n *                          - prop: The name of the current property of the input object.\n *\n *                      The function will have to return a boolean \"true\" indicating that this value\n *                      and property has to be included in the returned object, or \"false\" otherwise.\n *\n * @return {Object} An object having only the properties which passed the test\n *                  implemented by the \"fn\" callback function.\n */\n\nexport const propSelection = (obj, fn = isTruthy) => Object.keys(obj).reduce((carry, key) => {\n  if (fn(obj[key], key)) {\n    carry[key] = obj[key];\n  }\n\n  return carry;\n}, {});\n/**\n * Returns all the properties of the given object traversing its prototype chain.\n *\n * @param {Object} obj The object.\n * @param {Object} [options] An object with options.\n * @param {?Object} [options.stopAtPrototype] The prototype in the chain at which to stop the traversing.\n *                                            Defaults to null, in which case the whole prototype chain will be traversed.\n * @param {boolean} [options.stopAtPrototypeInclude] Whether or not to include the properties of the given prototype at which to stop.\n *                                                   Works only if \"stopAtPrototype\" is set to a valid prototype object in the prototype chain\n *                                                   of \"obj\".\n *                                                   Defaults to true, in which case the properties of the prototype at which to stop will be included\n *                                                   in the returned array.\n * @return {string[]} An array of containing the names of the properties.\n */\n\nexport function prototypeChainProperties(obj, {\n  stopAtPrototype = null,\n  stopAtPrototypeInclude = true\n} = {}) {\n  let current = obj;\n  const map = {};\n  let isStopPrototype = false;\n  let stop = false;\n\n  while (!stop && current && (!isStopPrototype || stopAtPrototypeInclude)) {\n    if (isStopPrototype) {\n      stop = true;\n    }\n\n    const properties = Object.getOwnPropertyNames(current);\n    properties.map(property => map[property] = true);\n    current = Object.getPrototypeOf(current);\n\n    if (stopAtPrototype) {\n      isStopPrototype = current === stopAtPrototype;\n    }\n  }\n\n  const properties = Object.keys(map);\n  return properties;\n}\n//# sourceMappingURL=index.js.map","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Tests if the given value is a valid date.\n *\n * @param {*} value The value to test.\n * @return {boolean} True if it is a valid date, false otherwise.\n */\nexport function isValidDate(value) {\n  return Object.prototype.toString.call(value) === \"[object Date]\" && !isNaN(value.getTime());\n}\n/**\n * Tests if the given string is a valid datetime string (e.g. in ISO \"YYYY-MM-DD HH:ii:ss\" format).\n *\n * @param {string} str The given string.\n * @return {boolean} True if it is a valid datetime string, false otherwise.\n */\n\nexport function isValidDateTimeStr(str) {\n  return isValidDate(new Date(str));\n}\n//# sourceMappingURL=date.js.map","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\n/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Utility functions for functional programming.\n */\nimport { isObjectEmpty, isArray } from \"./core\";\nimport { arrayOrArrayLike } from \"./array\";\n/**\n * @type {string}\n */\n\nconst JSUtlCurryPlaceholderProp = \"JSUtlCurryPlaceholderPropRPecoyYmCYqZ2lE\";\n/**\n * Curry function placeholder.\n *\n * @type {Object}\n */\n\nexport const _ = {\n  [JSUtlCurryPlaceholderProp]: true\n};\n/**\n * @type {string}\n */\n\nconst JSUtlProceedCallingFnProp = \"JSUtlProceedCallingFnPropRBmGaAgOCgftF9t\";\n/**\n * Return value of \"onFnCall\" to call the curried function and return its value.\n *\n * @type {Object}\n */\n\nexport const proceedCallingFn = {\n  [JSUtlProceedCallingFnProp]: true\n};\n/**\n * Curries a function.\n *\n * @see https://medium.com/@kj_huang/implementation-of-lodash-curry-function-8b1024d71e3b\n *\n * @param {Function} fn A function to curry in order to return the curried version of the function.\n * @param {Object} [obj] An optional object with further properties to tweak the currying behaviour\n *                       and execute code while collecting the arguments of the curried function.\n * @param {number|undefined} [obj.arity] The arity of the function, i.e. its number of arguments.\n *                                       If omitted, \"fn.length\" will be used.\n * @param {Function|undefined} [obj.onEffectiveArgAdded] An optional callback to execute whenever a new effective argument\n *                                                       (not a placeholder) is added to the curried function.\n *                                                       The callback will receive an object with the following properties as argument:\n *\n *                                                           - addedArg: The effective argument added;\n *                                                           - args: An array with all the previously arguments collected so far\n *                                                                   without considering \"addedArg\";\n *                                                           - fn: The function \"fn\";\n *                                                           - curriedFn: The current curried function;\n *\n *                                                       The return value of the function is ignored.\n * @param {Function|undefined} [obj.onPlaceholder] An optional callback to execute whenever a new placeholder is added to the curried function.\n *                                                 The callback will receive an object with the following properties as argument:\n *\n *                                                     - args: An array with all the previously arguments collected so far\n *                                                             without considering \"addedArg\";\n *                                                     - fn: The function \"fn\";\n *                                                     - curriedFn: The current curried function;\n *\n *                                                 The return value of the function is ignored.\n * @param {Function|undefined} [obj.onFnCall] An optional callback to execute just before calling the \"fn\" function\n *                                            (i.e. when the \"fn\" function is ready to be called and all its arguments have been collected).\n *\n *                                            The callback will receive an object with the following properties as argument:\n *\n *                                                - args: The array of the effective arguments of the \"fn\" function;\n *                                                - fn: The function \"fn\" which was initially passed to \"curry\";\n *                                                - curriedFn: The current curried function;\n *\n *                                            This way, the code of the callback may decide what to do and may even call the function on its own\n *                                            and prevent the call from the caller side (i.e. within the \"curry\" function).\n *\n *                                            The callback must explicitly tell \"curry\" to call the function by returing \"proceedCallingFn\".\n *                                            If the callback returns any other value, then \"fn\" will not be called in \"curry\" and the return value\n *                                            of this callback will be returned.\n * @param {Function|undefined} [obj.onCurriedFnFirstCall] An optional callback to execute only the first time when the first curried function returned by \"curry\"\n *                                                        is invoked for the very first time with the very first argument or arguments.\n *\n *                                                        The callback will receive an object with the following properties as argument:\n *\n *                                                            - addedArgs: The arguments provided by the caller;\n *                                                            - fn: The \"fn\" function;\n *                                                            - curriedFn: The current curried function;\n *\n * @param {Function|undefined} [obj.onNewCurriedFn] An optional callback to execute initially and each time a new curried function is going to be returned.\n *\n *                                                  The callback will an object with the following properties as argument:\n *\n *                                                      - curriedFn: The current curried function (same as \"newCurriedFn\" when this callback is invoked\n *                                                                   for the very first time);\n *                                                      - newCurriedFn: The new curried function (will be the same as \"curriedFn\" when this callback is invoked\n *                                                                      for the very first time);\n *\n *\n * @return {Function} The curried version of the function.\n */\n\nexport const curry = (fn, {\n  arity = void 0,\n  onEffectiveArgAdded = void 0,\n  onPlaceholder = void 0,\n  onFnCall = void 0,\n  onCurriedFnFirstCall = void 0,\n  onNewCurriedFn = void 0\n} = {}) => {\n  let curriedFnFirstCall = true;\n  const expectedNumberOfArgs = typeof arity !== \"undefined\" ? arity : fn.length;\n  const nextParameterIndex = 0;\n  const placeholdersIndices = [];\n\n  const curriedInner = (expectedNumberOfArgs, nextParameterIndex, placeholdersIndices, ...args) => function curriedFn(...addedArgs) {\n    let newExpectedNumberOfArgs = expectedNumberOfArgs;\n    let newNextParameterIndex = nextParameterIndex;\n    let newPlaceholdersIndices = null;\n    let argsRequiredChange = false;\n    curriedFnFirstCall && (onCurriedFnFirstCall && onCurriedFnFirstCall({\n      addedArgs,\n      fn,\n      curriedFn\n    }) || true) && (curriedFnFirstCall = false);\n    let numberOfConsumablePlaceholders = placeholdersIndices.length;\n\n    for (const addedArg of addedArgs) {\n      !argsRequiredChange && (args = [...args]);\n      argsRequiredChange = true; // \"addedArg\" may be either a placeholder or an effective argument.\n\n      const isPlaceholder = addedArg ? addedArg[JSUtlCurryPlaceholderProp] === _[JSUtlCurryPlaceholderProp] : false;\n\n      if (numberOfConsumablePlaceholders > 0 && !isPlaceholder) {\n        // Argument is an effective argument consuming a previously set placeholder.\n        onEffectiveArgAdded && onEffectiveArgAdded({\n          addedArg,\n          args,\n          fn,\n          curriedFn\n        });\n        let argIndex;\n\n        if (newPlaceholdersIndices === null) {\n          const [firstIndex, ...rest] = placeholdersIndices;\n          argIndex = firstIndex;\n          newPlaceholdersIndices = rest;\n        } else {\n          argIndex = newPlaceholdersIndices.shift();\n        }\n\n        args[argIndex] = addedArg;\n        numberOfConsumablePlaceholders--;\n        newExpectedNumberOfArgs--;\n      } else {\n        if (isPlaceholder) {\n          // Argument is a new placeholder.\n          if (newPlaceholdersIndices === null) {\n            newPlaceholdersIndices = placeholdersIndices.concat(newNextParameterIndex);\n          } else {\n            newPlaceholdersIndices.push(newNextParameterIndex);\n          }\n\n          onPlaceholder && onPlaceholder({\n            args,\n            fn,\n            curriedFn\n          });\n        } else {\n          // Argument is an effective argument.\n          newExpectedNumberOfArgs--;\n          onEffectiveArgAdded && onEffectiveArgAdded({\n            addedArg,\n            args,\n            fn,\n            curriedFn\n          });\n        }\n\n        args[newNextParameterIndex] = addedArg;\n        newNextParameterIndex++;\n      }\n    } // eslint-disable-next-line @typescript-eslint/no-use-before-define\n\n\n    return curried.call(null, curriedFn, newExpectedNumberOfArgs, newNextParameterIndex, newPlaceholdersIndices === null ? [...placeholdersIndices] : newPlaceholdersIndices, ...args);\n  };\n\n  const curried = (curriedFn, expectedNumberOfArgs, nextParameterIndex, placeholdersIndices, ...args) => {\n    if (expectedNumberOfArgs <= 0) {\n      if (onFnCall) {\n        const shouldCallCurriedFn = onFnCall({\n          args,\n          fn,\n          curriedFn\n        });\n\n        if (shouldCallCurriedFn && shouldCallCurriedFn[JSUtlProceedCallingFnProp] === proceedCallingFn[JSUtlProceedCallingFnProp]) {\n          return fn(...args);\n        } else {\n          return shouldCallCurriedFn;\n        }\n      } else {\n        return fn(...args);\n      }\n    } else {\n      const newCurried = curriedInner(expectedNumberOfArgs, nextParameterIndex, placeholdersIndices, ...args);\n      onNewCurriedFn && onNewCurriedFn({\n        curriedFn,\n        newCurriedFn: newCurried\n      });\n      return newCurried;\n    }\n  };\n\n  const newCurried = curriedInner(expectedNumberOfArgs, nextParameterIndex, placeholdersIndices);\n  onNewCurriedFn && onNewCurriedFn({\n    curriedFn: newCurried,\n    newCurriedFn: newCurried\n  });\n  return newCurried;\n};\n/**\n * Curries a POJO function, i.e. a function having only a single POJO (Plain Old JavaScript Object)\n * as parameter (a function with named arguments).\n *\n * Each object passed to the returned curried function will be merged with the final object\n * to pass to the function \"fn\" when finally calling it.\n *\n * @param {Function} fn A function to curry in order to return the curried version of the function.\n * @param {Object} [obj] An optional object with further properties to tweak the currying behaviour\n *                       and execute code while collecting the POJO objects which will construct\n *                       the final POJO object to pass to the curried function after plugging the curried POJO function.\n * @param {string} [obj.plugPropertyName] The name of the property which instructs that it's time to call the function.\n * @param {boolean} [obj.plugPropertyMustBeTruthy] By default, it is enough that the property with \"obj.plugPropertyName\" name\n *                                                 is set on the object passed to the curried function to instruct it to call\n *                                                 \"fn\".\n *                                                 If this property is set to \"true\", the property with \"plugPropertyName\" name\n *                                                 will also have to be truthy.\n * @param {Function} [obj.onPOJOArgMerged] An optional callback to execute right after merging the next POJO argument with the so far accumulated POJO object.\n *                                         The callback will an object with the following properties as argument:\n *\n *                                             - POJOArg: The given POJO argument;\n *                                             - POJO: the so far merged POJO object merged with the given \"POJOArg\";\n *                                             - fn: The \"fn\" function;\n *                                             - curriedFn: The current curried function;\n *\n * @param {Function} [obj.onFnCall] An optional callback to execute just before calling the \"fn\" function\n *                                  (i.e. when the \"fn\" function is ready to be called and has been plugged and all\n *                                  of its POJO object argument properties have been collected).\n *\n *                                  The callback will receive an object with the following properties as argument:\n *\n *                                      - POJO: The callback will receive the function \"fn\" POJO argument (an object) as its first argument;\n *                                      - fn: The \"fn\" function;\n *                                      - curriedFn: The current curried function;\n *\n *                                  This way, the code of the callback may decide what to do and may even call the function on its own\n *                                  and prevent the call from the caller side (i.e. within the \"POJOCurry\" function).\n *\n *                                  The callback must explicitly tell \"POJOCurry\" to call the function by returing \"proceedCallingFn\"\n *                                  If the callback returns any other value, then \"fn\" will not be called in \"POJOCurry\" and the return value\n *                                  of this callback will be returned.\n * @param {Function|undefined} [obj.onCurriedFnFirstCall] An optional callback to execute only the first time when the first curried function returned by \"curry\"\n *                                                        is invoked for the very first time with the very first POJO argument.\n *\n *                                                        The callback will receive an object with the following properties as argument:\n *\n *                                                            - POJOArg: The given POJO argument yet to merge with the internal final POJO;\n *                                                            - fn: The \"fn\" function;\n *                                                            - curriedFn: The current curried function;\n *\n * @param {Function|undefined} [obj.onNewCurriedFn] An optional callback to execute initially and each time a new curried function is going to be returned.\n *\n *                                                  The callback will receive an object with the following properties as argument:\n *\n *                                                      - curriedFn: The current curried function (same as \"newCurriedFn\" when this callback is invoked\n *                                                                   for the very first time);\n *                                                      - newCurriedFn: The new curried function (will be the same as \"curriedFn\" when this callback is invoked\n *                                                                      for the very first time);\n *\n * @return {Function} The curried version of the function.\n */\n\nexport const POJOCurry = (fn, {\n  plugPropertyName = \"plugCurried\",\n  plugPropertyMustBeTruthy = false,\n  onPOJOArgMerged = void 0,\n  onFnCall = void 0,\n  onCurriedFnFirstCall = void 0,\n  onNewCurriedFn = void 0\n} = {}) => {\n  const POJO = {};\n  let curriedFnFirstCall = true;\n\n  const curriedInner = accPOJO => function curriedFn(POJOArg) {\n    curriedFnFirstCall && (onCurriedFnFirstCall && onCurriedFnFirstCall({\n      POJOArg,\n      fn,\n      curriedFn\n    }) || true) && (curriedFnFirstCall = false);\n    let POJO = Object.assign({}, accPOJO, POJOArg || {});\n\n    if (Object.prototype.hasOwnProperty.call(POJO, plugPropertyName) && (!plugPropertyMustBeTruthy || POJO[plugPropertyName])) {\n      const {\n        [plugPropertyName]: POJOArgIgnoredProperty\n      } = POJOArg,\n            rest = _objectWithoutProperties(POJOArg, [plugPropertyName].map(_toPropertyKey));\n\n      const {\n        [plugPropertyName]: POJOIgnoredProperty\n      } = POJO,\n            POJORest = _objectWithoutProperties(POJO, [plugPropertyName].map(_toPropertyKey));\n\n      POJO = POJORest;\n\n      if (!isObjectEmpty(rest)) {\n        onPOJOArgMerged && onPOJOArgMerged({\n          POJOArg: rest,\n          POJO,\n          fn,\n          curriedFn\n        });\n      }\n\n      let shouldCallCurriedFn = true;\n      let ret = void 0;\n\n      if (onFnCall) {\n        ret = onFnCall({\n          POJO,\n          fn,\n          curriedFn\n        });\n        shouldCallCurriedFn = ret ? ret[JSUtlProceedCallingFnProp] === proceedCallingFn[JSUtlProceedCallingFnProp] : false;\n      }\n\n      if (shouldCallCurriedFn) {\n        return fn(POJO);\n      } else {\n        return ret;\n      }\n    } else {\n      onPOJOArgMerged && onPOJOArgMerged({\n        POJOArg,\n        POJO,\n        fn,\n        curriedFn\n      });\n      const newCurried = curriedInner(POJO);\n      onNewCurriedFn && onNewCurriedFn({\n        curriedFn,\n        newCurriedFn: newCurried\n      });\n      return newCurried;\n    }\n  };\n\n  const newCurried = curriedInner(POJO);\n  onNewCurriedFn && onNewCurriedFn({\n    curriedFn: newCurried,\n    newCurriedFn: newCurried\n  });\n  return newCurried;\n};\n/**\n * A utility function which composes functions or higher order functions.\n *\n * @param {...Function|...Function[]} fns A list of functions or higher order functions or arrays of functions\n *                                        (arrays will be flattened) to compose.\n * @return {Function|undefined} A function composed of all the functions or higher order functions\n *                              used for composition.\n *                              If no functions are given, \"undefined\" will be returned.\n */\n\nexport const compose = (...fns) => (...args) => {\n  let outerArgs = args;\n  let hoFn = void 0;\n  fns = fns.flat(1);\n\n  for (let i = fns.length - 1; i >= 0; i--) {\n    const fn = fns[i];\n    hoFn = fn(...outerArgs);\n    outerArgs = [hoFn];\n  }\n\n  return hoFn;\n};\n/**\n * A utility function which pipes functions.\n *\n * @param {...Function|...Function[]} fns A list of functions or arrays of functions (arrays will be flattened)\n *                                        to pipe.\n * @return {Function} A function representing the pipe.\n *                    If not functions are given, \"undefined\" will be returned.\n */\n\nexport const pipe = (...functions) => (...args) => {\n  functions = functions.flat(1);\n  return functions.length ? functions.reduce((arg, fn) => [fn(...arg)], args)[0] : void 0;\n};\n/**\n * Returns a function which lets picking the properties of an object.\n *\n * @param {...string|...number} props The properties to pick.\n * @return {Function} A function which if called picks the \"props\" properties from its argument object\n *                    and returns a new object with the picked properties.\n */\n\nexport const pick = (...props) => o => props.reduce((a, e) => _objectSpread(_objectSpread({}, a), {}, {\n  [e]: o[e]\n}), {});\n/**\n * Lifts two functions using a binary function which takes their results as arguments.\n *\n * @param {Function} binaryFn A binary function (i.e. a function which takes two arguments).\n * @return {Function} A higher order function which has to be called with the first function as argument (\"firstFn\")\n *                    and returns another higher order function which has to be called with the second function as argument (\"secondFn\").\n *                    Then, the returned function will take the parameters to pass to the two functions (\"firstFn\" and \"secondFn\")\n *                    and return the result of calling \"binaryFn\" with the result of those functions given as parameters.\n */\n\nexport const liftBinaryFn = binaryFn => firstFn => secondFn => (...params) => binaryFn(firstFn(...params), secondFn(...params));\n/**\n * Applies an array of functions to a list of values.\n *\n * @param {Function[]} fns An array of functions.\n * @return {Function} A function which if called with a list of values, will pass the list to each function of \"fns\"\n *                    and return an array with the values after applying each of the original \"fns\" to its parameters.\n */\n\nexport const juxt = fns => (...values) => fns.map(fn => fn(...values));\n/**\n * Converges a multi-arg function.\n *\n * @param {Function} multiArgFn A multi-arg function.\n * @param {Function[]} fns An array of functions to converge.\n *                         Each function will receive the parameter passed to the function returned\n *                         by this higher order function (i.e. \"params\").\n * @return {Function} A function which, if called, will pass its arguments to each of the functions in \"fns\"\n *                    and pass each result of those functions to the multi-arg function \"multiArgFn\",\n *                    returning its result.\n */\n\nexport const converge = (multiArgFn, fns) => (...params) => multiArgFn(...fns.map(fn => fn(...params)));\n/**\n * Executes a callback if a POJO object has a property.\n *\n * @param {Object} POJO A POJO object.\n * @return {(prop: string|number) => (fn: Function) => *} A function which receives the property\n *                                                        and returns and returns a function receiving the callback\n *                                                        function (\"fn\") to execute.\n */\n\nexport const execIfPOJOHas = POJO => prop => fn => Object.prototype.hasOwnProperty.call(POJO, prop) && fn(POJO[prop], POJO);\n/**\n * Executes a callback with the existent properties of an object.\n *\n * @param {...string|...number} props The properties to check for existence.\n * @return {(o: Object) => (fn: (existentProps: string[]|number[]) => *) => *} A function which receives the POJO object for which to check for the given properties\n *                                                                             and returns a function receiving a callback which will receive the existent properties\n *                                                                             of the object as parameter.\n */\n\nexport const execWithExistentProps = (...props) => o => fn => fn(props.filter(prop => Object.prototype.hasOwnProperty.call(o, prop)));\n/**\n * Loops through the values of a generator and returns an array with its mapped\n * values mapped with the given callback.\n *\n * @param {GeneratorFunction} gen A generator function.\n * @return {(args: ...*) => (fn: (val: *) => *) => Array} A function which takes the arguments for the generator and returns\n *                                                        another function which takes the callback to use to map each\n *                                                        value of the generator returning an array with all the mapped values of the generator.\n */\n\nexport const forGen = gen => (...args) => fn => {\n  const generator = gen(...args);\n  const arr = [];\n\n  for (const value of generator) {\n    const res = fn(value);\n    arr.push(res);\n  }\n\n  return arr;\n};\n/**\n * Flattens an array (its first dimension, at most).\n *\n * @param {Array} arr An array.\n * @return {Array} A new flattened array.\n */\n\nexport const flatten = arr => Array.prototype.concat.apply([], arr);\n/**\n * Flattens an array with any dimension.\n *\n * @param {Array} arr An array.\n * @param {number} dimension The flattening dimension (defaults to 1, but can be greater, even \"Infinity\").\n * @return {Array} The flattened array.\n */\n\nexport const flattenDeep = (arr, dimension = 1) => {\n  return dimension > 0 ? arr.reduce((acc, val) => acc.concat(isArray(val) ? flattenDeep(val, dimension - 1) : val), []) : arrayOrArrayLike(arr);\n};\n/**\n * Computes the cartesian product of the given sets.\n *\n * @param  {...Array} sets The sets to use to compute the cartesian product.\n * @return {Array} The cartesian product of the given sets.\n */\n\nexport const cartesianProduct = (...sets) => sets.reduce((acc, set) => flatten(acc.map(x => set.map(y => [...x, y]))), [[]]);\n/**\n * Identity function.\n *\n * @see https://en.wikipedia.org/wiki/Identity_function\n *\n * @param {*} value Any value.\n * @return {*} The same passed value.\n */\n\nexport const identityFn = value => value;\n/**\n * Identity function for multiple args returning an array of those args.\n *\n * @param  {...*} args The args.\n * @return {Array} The same args returned in an array.\n */\n\nexport const identityArgsFn = (...args) => args;\n//# sourceMappingURL=fn.js.map","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Utility functions related to Google.\n */\n\n/**\n * Determines the best zoom level for a Google map.\n *\n * @param {google.maps.LatLngBounds} bounds The bounds.\n * @param {Object} mapDim JS POJO with the properties height and width.\n * @param {number} mapDim.height The height of the map's div.\n * @param {number} mapDim.width The width of the map's div.\n * @return {number} The best zoom level.\n */\nexport function googleMapBestZoomLevelFromBounds(bounds, mapDim) {\n  const WORLD_DIM = {\n    height: 256,\n    width: 256\n  };\n  const ZOOM_MAX = 21;\n\n  function latRad(lat) {\n    const sin = Math.sin(lat * Math.PI / 180);\n    const radX2 = Math.log((1 + sin) / (1 - sin)) / 2;\n    return Math.max(Math.min(radX2, Math.PI), -Math.PI) / 2;\n  }\n\n  function zoom(mapPx, worldPx, fraction) {\n    return Math.floor(Math.log(mapPx / worldPx / fraction) / Math.LN2);\n  }\n\n  const ne = bounds.getNorthEast();\n  const sw = bounds.getSouthWest();\n  const latFraction = (latRad(ne.lat()) - latRad(sw.lat())) / Math.PI;\n  const lngDiff = ne.lng() - sw.lng();\n  const lngFraction = (lngDiff < 0 ? lngDiff + 360 : lngDiff) / 360;\n  const latZoom = zoom(mapDim.height, WORLD_DIM.height, latFraction);\n  const lngZoom = zoom(mapDim.width, WORLD_DIM.width, lngFraction);\n  return Math.min(latZoom, lngZoom, ZOOM_MAX);\n}\n//# sourceMappingURL=google.js.map","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Hashing-related utility functions.\n */\n\n/**\n * Computes a hash of an array of strings (the order of strings does not matter).\n *\n * NOTE: An array with duplicate values given as parameter to this function\n *       may yield to a hash which would collide with other hashes computed\n *       on different arrays with this same function.\n *       Therefore is on behalf of the caller to be sure that \"array\" contains\n *       unique strings.\n *\n * @param {string[]} array An array of strings.\n * @return {number} A number representing the hash code of the array.\n */\nexport function stringHashArray(array) {\n  let code = 0;\n\n  for (let i = 0; i < array.length; i++) {\n    let n = 0;\n\n    for (let j = 0; j < array[i].length; j++) {\n      n = n * 251 ^ array[i].charCodeAt(j);\n    }\n\n    code ^= n;\n  }\n\n  return code;\n}\n/**\n * Returns the hash of a string.\n *\n * @see https://stackoverflow.com/questions/7616461/generate-a-hash-from-string-in-javascript#answer-7616484\n *\n * @param {string} str The string.\n * @return {number} The hash code of the string, represented as a number.\n */\n\nexport const hashString = str => {\n  let hash = 0,\n      i,\n      chr;\n\n  if (str.length === 0) {\n    return hash;\n  }\n\n  for (i = 0; i < str.length; i++) {\n    chr = str.charCodeAt(i);\n    hash = (hash << 5) - hash + chr;\n    hash |= 0; // Convert to 32 bit integer.\n  }\n\n  return hash;\n};\n/**\n * A one-pass algorithm to compute the hash of a series of unique strings incrementally.\n *\n * NOTE: Duplicate values given as parameter to this function\n *       may yield to a hash which would collide with other hashes computed\n *       on different string series with this same function.\n *       Therefore is on behalf of the caller to be sure that the series of strings will be unique\n *       while calling this function incrementally.\n *\n * @param {string} str The string.\n * @param {number} [hash] The previous hash computed with this same function if this call is the continuation\n *                        of the unique string series.\n * @return {number} The next hash.\n */\n\nexport function onePassStringHash(str, hash = 0) {\n  let nextHash = hash;\n  let n = 0;\n\n  for (let j = 0; j < str.length; j++) {\n    n = n * 251 ^ str.charCodeAt(j);\n  }\n\n  nextHash ^= n;\n  return nextHash;\n}\n//# sourceMappingURL=hash.js.map","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Utility functions related to iterators, generators and iterations.\n */\n\n/**\n * Yields all the numbers of the specified range\n * (including \"start\" and \"limit\" if they fall in the range while stepping\n * with \"step\").\n *\n * @generator\n * @param {number} start An int specifying the start of the range.\n * @param {number} limit An int specifying the limit of the range.\n * @param {number} step An int specifying the step to take within each value of the range.\n * @yield {number} The next number of the range.\n */\nexport function* xrange(start, limit, step = 1) {\n  if (start < limit) {\n    if (step <= 0) {\n      throw new RangeError(\"Step must be a positive int greater than 0.\");\n    }\n\n    for (let i = start; i <= limit; i += step) {\n      yield i;\n    }\n  } else {\n    if (step >= 0) {\n      throw new RangeError(\"Step must be a negative int greater than 0.\");\n    }\n\n    for (let i = start; i >= limit; i += step) {\n      yield i;\n    }\n  }\n}\n//# sourceMappingURL=iterator.js.map","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Utility functions related to the coordinates of a map.\n */\n\n/**\n * Clamps a latitude value so that it is always between -90 and 90.\n *\n * Latitude ranges between -90 and 90 degrees, inclusive.\n * Values above or below this range will be clamped to the range [-90, 90].\n * This means that if the value specified is less than -90, it will be set to -90.\n * And if the value is greater than 90, it will be set to 90.\n *\n * @param {number|string} lat Latitude. Either a number or a string which can be casted to a number.\n * @return {number} Latitude, clamped.\n */\nexport const clampLat = lat => Number(lat < -90 ? -90 : lat > 90 ? 90 : lat);\n/**\n * Wraps a longitude value so that it is always between -180 and 180.\n *\n * Longitude ranges between -180 and 180 degrees, inclusive.\n * Values above or below this range will be wrapped so that they fall within the range.\n * For example, a value of -190 will be converted to 170.\n * A value of 190 will be converted to -170.\n * This reflects the fact that longitudes wrap around the globe.\n *\n * @param {number|string} lng Longitude. Either a number or a string which can be casted to a number.\n * @return {number} lng Longitude, wrapped.\n */\n\nexport const wrapLng = lng => {\n  lng = Number(lng);\n\n  while (lng > 180) {\n    lng -= 360;\n  }\n\n  while (lng < -180) {\n    lng += 360;\n  }\n\n  return lng;\n};\n/**\n * Normalizes a latitude so that it is within the range [0, 180].\n *\n * 1. normalizeLat(90) === 0;\n * 2. normalizeLat(0) === 90;\n * 3. normalizeLat(-90) === 180;\n *\n * @param {number|string} lat Latitude. Either a number or a string which can be casted to a number.\n * @return {number} Latitude, normalized.\n */\n\nexport const normalizeLat = lat => {\n  lat = clampLat(lat);\n\n  if (lat >= 0) {\n    // 1. + 2.\n    return 90 - lat;\n  } else {\n    // 3.\n    return 90 + Math.abs(lat);\n  }\n};\n/**\n * Normalizes a longitude so that it is within the range [0, 360].\n *\n * 1. normalizeLng(-180) === 0;\n * 2. normalizeLng(0) === 180;\n * 3. normalizeLng(180) === 360;\n *\n * @param {number} lng Longitude. Either a number or a string which can be casted to a number.\n * @return {number} Longitude, normalized.\n */\n\nexport const normalizeLng = lng => {\n  lng = wrapLng(lng);\n  return lng + 180;\n};\n//# sourceMappingURL=map-coordinates.js.map","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Mathematical utility functions.\n */\n\n/**\n * Rounds a number.\n *\n * @param {number} number The number to round.\n * @param {number} precision The decimal precision.\n * @return {number} The rounded number.\n */\nexport function round(number, precision = 0) {\n  const factor = Math.pow(10, precision);\n  return Math.round(number * factor) / factor;\n}\n/**\n * Sums two or more numbers.\n *\n * @param {...number} numbers The numbers to sum.\n * @return {number} The sum.\n */\n\nexport function sum(...numbers) {\n  return numbers.reduce((carry, num) => carry + num);\n}\n/**\n * Integer division (without decimal part).\n *\n * @param {number} num A number.\n * @param {number} divideBy The number by which to divide \"num\".\n * @return {number} The result of the integer division.\n */\n\nexport function intDiv(num, divideBy) {\n  return Math.floor(num / divideBy);\n}\n/**\n * Tests if a number is even.\n *\n * @param {number} num A number.\n * @return {boolean} True if even, false if odd.\n */\n\nexport function isEven(num) {\n  return num % 2 === 0;\n}\n/**\n * Tests if a number is odd.\n *\n * @param {number} num A number.\n * @return {boolean} True if odd, false if even.\n */\n\nexport function isOdd(num) {\n  return !isEven(num);\n}\n//# sourceMappingURL=math.js.map","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Utility functions for filenames and paths.\n */\n\n/**\n * Returns the basename of a path.\n *\n * @param {string} path A path.\n * @return {string} The basename of the given path.\n */\nexport function basename(path) {\n  return path.split(/[\\\\/]/).pop();\n}\n/**\n * Returns info about a path.\n *\n * @param {string} path The path.\n * @param {number} [options] Optioanl options flag.\n */\n\nexport function pathinfo(path, options) {\n  //  discuss at: http://locutus.io/php/pathinfo/\n  // original by: Nate\n  //  revised by: Kevin van Zonneveld (http://kvz.io)\n  // improved by: Brett Zamir (http://brett-zamir.me)\n  // improved by: Dmitry Gorelenkov\n  //    input by: Timo\n  //      note 1: Inspired by actual PHP source: php5-5.2.6/ext/standard/string.c line #1559\n  //      note 1: The way the bitwise arguments are handled allows for greater flexibility\n  //      note 1: & compatability. We might even standardize this\n  //      note 1: code and use a similar approach for\n  //      note 1: other bitwise PHP functions\n  //      note 1: Locutus tries very hard to stay away from a core.js\n  //      note 1: file with global dependencies, because we like\n  //      note 1: that you can just take a couple of functions and be on your way.\n  //      note 1: But by way we implemented this function,\n  //      note 1: if you want you can still declare the PATHINFO_*\n  //      note 1: yourself, and then you can use:\n  //      note 1: pathinfo('/www/index.html', PATHINFO_BASENAME | PATHINFO_EXTENSION);\n  //      note 1: which makes it fully compliant with PHP syntax.\n  //   example 1: pathinfo('/www/htdocs/index.html', 1)\n  //   returns 1: '/www/htdocs'\n  //   example 2: pathinfo('/www/htdocs/index.html', 'PATHINFO_BASENAME')\n  //   returns 2: 'index.html'\n  //   example 3: pathinfo('/www/htdocs/index.html', 'PATHINFO_EXTENSION')\n  //   returns 3: 'html'\n  //   example 4: pathinfo('/www/htdocs/index.html', 'PATHINFO_FILENAME')\n  //   returns 4: 'index'\n  //   example 5: pathinfo('/www/htdocs/index.html', 2 | 4)\n  //   returns 5: {basename: 'index.html', extension: 'html'}\n  //   example 6: pathinfo('/www/htdocs/index.html', 'PATHINFO_ALL')\n  //   returns 6: {dirname: '/www/htdocs', basename: 'index.html', extension: 'html', filename: 'index'}\n  //   example 7: pathinfo('/www/htdocs/index.html')\n  //   returns 7: {dirname: '/www/htdocs', basename: 'index.html', extension: 'html', filename: 'index'}\n  let opt = \"\";\n  let realOpt = \"\";\n  let optName = \"\";\n  let optTemp = 0;\n  const tmpArr = {};\n  let cnt = 0;\n  let i = 0;\n  let haveBasename = false;\n  let haveExtension = false;\n  let haveFilename = false; // Input defaulting & sanitation\n\n  if (!path) {\n    return false;\n  }\n\n  if (!options) {\n    options = \"PATHINFO_ALL\";\n  } // Initialize binary arguments. Both the string & integer (constant) input is\n  // allowed\n\n\n  const OPTS = {\n    PATHINFO_DIRNAME: 1,\n    PATHINFO_BASENAME: 2,\n    PATHINFO_EXTENSION: 4,\n    PATHINFO_FILENAME: 8,\n    PATHINFO_ALL: 0\n  }; // PATHINFO_ALL sums up all previously defined PATHINFOs (could just pre-calculate)\n\n  for (optName in OPTS) {\n    if (Object.prototype.hasOwnProperty.call(OPTS, optName)) {\n      OPTS.PATHINFO_ALL = OPTS.PATHINFO_ALL | OPTS[optName];\n    }\n  }\n\n  if (typeof options !== \"number\") {\n    // Allow for a single string or an array of string flags\n    options = [].concat(options);\n\n    for (i = 0; i < options.length; i++) {\n      // Resolve string input to bitwise e.g. 'PATHINFO_EXTENSION' becomes 4\n      if (OPTS[options[i]]) {\n        optTemp = optTemp | OPTS[options[i]];\n      }\n    }\n\n    options = optTemp;\n  } // Internal Functions\n\n\n  const _getExt = function (path) {\n    const str = path + \"\";\n    const dotP = str.lastIndexOf(\".\") + 1;\n    return !dotP ? false : dotP !== str.length ? str.substr(dotP) : \"\";\n  }; // Gather path infos\n\n\n  if (options & OPTS.PATHINFO_DIRNAME) {\n    const dirName = path.replace(/\\\\/g, \"/\").replace(/\\/[^/]*\\/?$/, \"\"); // dirname\n\n    tmpArr.dirname = dirName === path ? \".\" : dirName;\n  }\n\n  if (options & OPTS.PATHINFO_BASENAME) {\n    if (haveBasename === false) {\n      haveBasename = basename(path);\n    }\n\n    tmpArr.basename = haveBasename;\n  }\n\n  if (options & OPTS.PATHINFO_EXTENSION) {\n    if (haveBasename === false) {\n      haveBasename = basename(path);\n    }\n\n    if (haveExtension === false) {\n      haveExtension = _getExt(haveBasename);\n    }\n\n    if (haveExtension !== false) {\n      tmpArr.extension = haveExtension;\n    }\n  }\n\n  if (options & OPTS.PATHINFO_FILENAME) {\n    if (haveBasename === false) {\n      haveBasename = basename(path);\n    }\n\n    if (haveExtension === false) {\n      haveExtension = _getExt(haveBasename);\n    }\n\n    if (haveFilename === false) {\n      haveFilename = haveBasename.slice(0, haveBasename.length - (haveExtension ? haveExtension.length + 1 : haveExtension === false ? 0 : 1));\n    }\n\n    tmpArr.filename = haveFilename;\n  } // If array contains only 1 element: return string\n\n\n  cnt = 0;\n\n  for (opt in tmpArr) {\n    if (Object.prototype.hasOwnProperty.call(tmpArr, opt)) {\n      cnt++;\n      realOpt = opt;\n    }\n  }\n\n  if (cnt === 1) {\n    return tmpArr[realOpt];\n  } // Return full-blown array\n\n\n  return tmpArr;\n}\n/**\n * Returns the extension of a filename.\n *\n * @param {string} filename The filename.\n * @return {string} The extension of the given filename.\n */\n\nexport function filenameExtension(filename) {\n  const extension = pathinfo(filename, \"PATHINFO_EXTENSION\");\n\n  if (typeof extension !== \"string\") {\n    return \"\";\n  }\n\n  return extension;\n}\n/**\n * Returns the dirname of a path.\n *\n * @param {string} path A path.\n * @return {string} The dirname of the given path.\n */\n\nexport function dirname(path) {\n  //  discuss at: http://locutus.io/php/dirname/\n  // original by: Ozh\n  // improved by: XoraX (http://www.xorax.info)\n  //   example 1: dirname('/etc/passwd')\n  //   returns 1: '/etc'\n  //   example 2: dirname('c:/Temp/x')\n  //   returns 2: 'c:/Temp'\n  //   example 3: dirname('/dir/test/')\n  //   returns 3: '/dir'\n  return path.replace(/\\\\/g, \"/\").replace(/\\/[^/]*\\/?$/, \"\");\n}\n//# sourceMappingURL=path.js.map","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Promise-related utility functions.\n */\nimport { uniqueId, isArray } from \"./core\";\n/**\n * Creates a new timeout promise which will resolve after the given milliseconds timeout.\n *\n * @param {number} delayMs Delay in milliseconds after which the promise will resolve.\n * @param {*} [value] Optional value to resolve with.\n * @return {Promise} A new promise which resolves right after \"delayMs\" have elapsed.\n */\n\nexport function timeout(delayMs, value) {\n  return new Promise(resolve => setTimeout(resolve, delayMs, value));\n}\n/**\n * Creates a new promise with a minimum delay before it is fulfilled.\n *\n * @param {Promise} promise A promise.\n * @param {number} minDelay Minumum delay in milliseconds.\n * @return {Promise} A new promise which resolves with the given value of the given promise\n *                   or rejects with the rejected value of the promise if it rejects.\n */\n\nexport function minDelayPromise(promise, minDelay) {\n  return Promise.all([promise, timeout(minDelay)]).then(([value]) => {\n    return value;\n  }).catch(e => {\n    throw e;\n  });\n}\n/**\n * Resolves a promise with an optional fallback which fires if the promise does not resolve\n * under a certain time constraint.\n *\n * @param {Object} obj An object.\n * @param {Promise} obj.promise A promise.\n * @param {number} obj.maxDelayMs Max delay in milliseconds to wait before executing \"onFallback\" code if the time elapses.\n * @param {Function} obj.onFallback Function to execute if the given \"promise\" takes more than \"maxDelayMs\" to resolve.\n * @param {number} obj.fallbackMinDelayMs Number of milliseconds to wait if the fallback code gets executed before resolving the promise.\n * @return {Promise} A promise which resolves with the value of \"promise\" or rejects with the error of the given \"promise\".\n */\n\nexport function maxDelayFallbackPromise({\n  promise,\n  maxDelayMs,\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  onFallback = () => {},\n  fallbackMinDelayMs\n} = {}) {\n  const uniqueIdentifier = uniqueId();\n  return Promise.race([promise, timeout(maxDelayMs).then(() => uniqueIdentifier)]).then(value => {\n    if (value === uniqueIdentifier) {\n      onFallback();\n      return minDelayPromise(promise, fallbackMinDelayMs);\n    } else {\n      return value;\n    }\n  });\n}\n/**\n * Applies an async operation to a promise returning a new one.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Using_promises#Composition\n *\n * @param {Promise} acc A promise.\n * @param {Function} onfulfilled Fulfilled callback.\n * @param {Function} onrejected Rejected callback.\n * @return {Promise} A new promise.\n */\n\nexport const applyAsync = (acc, onfulfilled, onrejected) => {\n  return typeof onrejected !== \"undefined\" ? acc.then(onfulfilled, onrejected) : acc.then(onfulfilled);\n};\n/**\n * Composes functions which are run subsequently\n * (sequential composition) using promises.\n *\n * This function is useful when a chain of operations is known ahead of time\n * and they must be executed subsequently.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Using_promises#Composition\n *\n * @param {...(Function|Array)} funcs The functions (fulfilled callbacks). An array can be given and it MUST have\n *                                    the fulfilled callback at index 0 and the reject callback at index 1.\n * @return {Function} A new function that accepts an initial value to be passed through the composition pipeline.\n *                    If the returned function is called, it will return a Promise which represents the chain formed\n *                    by the promises composed subsequently.\n */\n\nexport const composeAsync = (...funcs) => x => {\n  return funcs.reduce((acc, func) => {\n    let promise;\n\n    if (isArray(func)) {\n      // Item at index 0 is the fulfilled callback,\n      // while the item at index 1 is the reject callback.\n      promise = applyAsync(acc, func[0], func[1]);\n    } else {\n      promise = applyAsync(acc, func);\n    }\n\n    return promise;\n  }, Promise.resolve(x));\n};\n//# sourceMappingURL=promise.js.map","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Utility functions providing random functionality.\n */\n\n/**\n * Generates a random string.\n *\n * @param {number} length The length of the string to return.\n * @return {string} The random string.\n */\nexport function randomStr(length) {\n  let result = \"\";\n  const characters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n  const charactersLength = characters.length;\n\n  for (let i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n\n  return result;\n}\n/**\n * Generates a random int between min and max (both included).\n *\n * @param {number} min Min int value.\n * @param {number} max Max int value.\n * @return {number} A random int between min and max.\n */\n\nexport function randomInt(min = 0, max = Number.MAX_SAFE_INTEGER) {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n/**\n * Returns a random float (using \"Math.random()\") not equal to the given value.\n *\n * @param {number} value The given value.\n * @return {number} A random float not equal to value.\n */\n\nexport function randomDifferentFromValue(value) {\n  let ret = Math.random();\n\n  while (value == ret) {\n    ret = Math.random();\n  }\n\n  return ret;\n}\n/**\n * @type {Array}\n */\n\nlet noncanonicalUUIDCounter = 1;\n/**\n * Generates a new UUID.\n *\n * @see https://github.com/tastejs/todomvc/blob/gh-pages/examples/react/js/utils.js\n *\n * @return {string} The UUID.\n */\n\nexport function uuid() {\n  let i, random;\n  let uuid = \"\";\n\n  for (i = 0; i < 32; i++) {\n    random = Math.random() * 16 | 0;\n\n    if (i === 8 || i === 12 || i === 16 || i === 20) {\n      uuid += \"-\";\n    }\n\n    uuid += (i === 12 ? 4 : i === 16 ? random & 3 | 8 : random).toString(16);\n  }\n\n  return uuid;\n}\n/**\n * Generates a new noncanonical UUID. This noncanonical UUID has a further\n * int prefixed by \"-\" which is concatenated to a canonical UUID at the end\n * of the canonical UUID before returning this noncanonical UUID.\n * The int starts with 1 and increments every time this function is called.\n *\n * @return {string} A noncanonical UUID.\n */\n\nexport function noncanonicalUUID() {\n  const UUID = uuid();\n  return UUID + \"-\" + noncanonicalUUIDCounter++;\n}\n/**\n * Shuffles an array randomly modifing the given array.\n *\n * @param {Array} array The input array.\n * @return {Array} A reference to the same array given as input,\n *                 but with its elements randomly shuffled.\n */\n\nconst shuffleArrayRandomly = array => {\n  let i = array.length,\n      temporaryValue,\n      randomIndex;\n\n  while (0 !== i) {\n    randomIndex = Math.floor(Math.random() * i);\n    i--;\n    temporaryValue = array[i];\n    array[i] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n};\n/**\n * Returns an array with the elements of the given array randomly shuffled.\n *\n * @param {Array} array An array.\n * @return {Array} A new array with the same elements of the input array, but randomly shuffled.\n */\n\n\nexport function randomArrayShuffle(array) {\n  return shuffleArrayRandomly(Object.keys(array)).map(i => array[i]);\n}\n//# sourceMappingURL=rand.js.map","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Statistics-related utility functions.\n */\nimport { sum, intDiv, isOdd } from \"./math\";\nimport { sortNums } from \"./array\";\n/**\n * Computes the mean of the given numbers.\n *\n * @param {...number} numbers The numbers.\n * @return {number} The mean.\n */\n\nexport function mean(...numbers) {\n  return sum(...numbers) / numbers.length;\n}\n/**\n * Computes the median of the given numbers.\n *\n * @param {...number} numbers The numbers.\n * @return {number} The median value.\n */\n\nexport function median(...numbers) {\n  const sorted = sortNums(numbers);\n  const middleIndex = intDiv(sorted.length, 2);\n  return isOdd(sorted.length) ? sorted[middleIndex] : mean(sorted[middleIndex - 1], sorted[middleIndex]);\n}\n/**\n * Computes the min deviation from a value.\n *\n * @param {number} value A value.\n * @return {(...numbers: number[]) => number} A function receiving the numbers to use to compute the minimum deviation\n *                                            from \"value\".\n */\n\nexport const minAbsDeviationFromValue = value => (...numbers) => {\n  let minAbsDeviation = Infinity;\n  numbers.map(num => {\n    const deviation = Math.abs(num - value);\n\n    if (deviation < minAbsDeviation) {\n      minAbsDeviation = deviation;\n    }\n  });\n  return minAbsDeviation;\n};\n/**\n * Computes the min deviation from a value excluding that value from the numbers received.\n *\n * @param {number} value A value.\n * @return {(...numbers: number[]) => number} A function receiving the numbers to use to compute the minimum deviation\n *                                            from \"value\" exluding \"value\".\n */\n\nexport const minAbsDeviationFromExcludedValue = value => (...numbers) => minAbsDeviationFromValue(value)(...numbers.filter(num => num !== value));\n//# sourceMappingURL=stats.js.map","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Utility functions for working with strings.\n */\nimport { isArray } from \"./core\";\n/**\n * Escapes special characters for a JS regex.\n *\n * @see https://stackoverflow.com/questions/3115150/how-to-escape-regular-expression-special-characters-using-javascript#answer-9310752\n *\n * @param {string} text The string to escape.\n * @return {string} The same string with special regex characters escaped.\n */\n\nexport function escapeRegExp(text) {\n  return text.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, \"\\\\$&\");\n}\n/**\n * Trim characters from the beginning and end of a string.\n *\n * @param {string} str The string.\n * @param {string} characterMask Character mask.\n * @param {Object} options Options.\n * @param {Object.boolean} options.shouldTrimLeft \"true\" to trim left (defaults to \"true\" if omitted).\n * @param {Object.boolean} options.shouldTrimRight \"true\" to trim right (defaults to \"true\" if omitted).\n * @return {string} The trimmed string.\n */\n\nexport function trimCharacterMask(str, characterMask, options = {}) {\n  if (typeof characterMask === \"undefined\") {\n    characterMask = \" \";\n  }\n\n  const escapedCharacterMask = escapeRegExp(characterMask);\n  const shouldTrimLeft = typeof options.shouldTrimLeft === \"undefined\" || options.shouldTrimLeft;\n  const shouldTrimRight = typeof options.shouldTrimRight === \"undefined\" || options.shouldTrimRight;\n  const regexParts = [];\n\n  if (shouldTrimLeft) {\n    regexParts[regexParts.length] = \"^[\" + escapedCharacterMask + \"]+\";\n  }\n\n  if (shouldTrimRight) {\n    regexParts[regexParts.length] = \"[\" + escapedCharacterMask + \"]+$\";\n  }\n\n  const regex = new RegExp(regexParts.join(\"|\"), \"gm\");\n  return str.replace(regex, \"\");\n}\n/**\n * Trim characters from the beginning and end of a string using an array\n * of regex characters.\n *\n * @param {string} str The string.\n * @param {string} regexCharacters Regex characters.\n * @param {string} additionalModifiers Additional regex modifiers.\n * @return {string} The trimmed string.\n */\n\nexport function trimCharacterRegex(str, regexCharacters, additionalModifiers) {\n  if (typeof regexCharacters === \"undefined\") {\n    regexCharacters = [\"\\\\s\"];\n  }\n\n  additionalModifiers = additionalModifiers || \"\";\n  const regex = new RegExp(\"(^(\" + regexCharacters.join(\"|\") + \")+)|((\" + regexCharacters.join(\"|\") + \")+$)\", \"g\" + additionalModifiers);\n  return str.replace(regex, \"\");\n}\n/**\n * Alias of \"trimCharacterMask\".\n * Trim characters from the beginning and end of a string.\n *\n * @param {string} str The string.\n * @param {string} characterMask Character mask.\n * @return {string} The trimmed string.\n */\n\nexport function trim(str, characterMask) {\n  return trimCharacterMask(str, characterMask);\n}\n/**\n * Trim characters from the beginning of a string.\n *\n * @param {string} str The string.\n * @param {string} characterMask Character mask.\n * @return {string} The left-trimmed string.\n */\n\nexport function trimLeft(str, characterMask) {\n  return trimCharacterMask(str, characterMask, {\n    shouldTrimLeft: true,\n    shouldTrimRight: false\n  });\n}\n/**\n * Trim characters from the end of a string.\n *\n * @param {string} str The string.\n * @param {string} characterMask Character mask.\n * @return {string} The right-trimmed string.\n */\n\nexport function trimRight(str, characterMask) {\n  return trimCharacterMask(str, characterMask, {\n    shouldTrimLeft: false,\n    shouldTrimRight: true\n  });\n}\n/**\n * Concats the values of an array with an outer separator using an inner separator\n * for first nesting level arrays.\n *\n * E.g.:\n *\n *     concatWithInnerOuterSeparators([\"a\", \"value\", [\"with\", \"nested\", \"value\"], \"etc\"], \" # \", \" $ \")\n *     // Returns:\n *     \"a # value # with $ nested $ value # etc\"\n *\n * @param {Array<string>|Array<Array<string>>} arrayToConcat An array of strings or arrays or strings.\n * @param {string} outerSeparator Outer separator.\n * @param {string} innerSeparator Inner separator.\n * @return {string} The concatenated string.\n */\n\nexport function concatWithInnerOuterSeparators(arrayToConcat, outerSeparator, innerSeparator) {\n  const toConcatFinally = [];\n\n  for (const value of arrayToConcat) {\n    if (isArray(value)) {\n      toConcatFinally[toConcatFinally.length] = trim(value.join(innerSeparator), innerSeparator);\n    } else {\n      toConcatFinally[toConcatFinally.length] = value;\n    }\n  }\n\n  const ret = trim(toConcatFinally.join(outerSeparator), outerSeparator);\n  return ret;\n}\n/**\n * Returns an array of options with a value and a label string.\n *\n * @param {Object} obj An object with parameters.\n * @param {Object[]} obj.arrayOfObjects An array of objects.\n * @param {string[]|Array.<string|string[]>} obj.concatObjectProps Properties, keys of each object to use for the label\n *                                                                 and to concat with \"outerSeparator\".\n *                                                                 A nested array of properties can be used to specify an inner\n *                                                                 part of the label to concat using the \"innerSeparator\".\n * @param {string} obj.valueProp Name of the property which value has to be used for the value property\n *                               of the returned array of objects.\n * @param {string} obj.outerSeparator Outer separator.\n * @param {string} obj.innerSeparator Inner separator.\n * @return {Object[]} Array of objects, each object with two properties:\n *\n *                        - \"value\": The value of the object;\n *                        - \"label\": The label of the object.\n *\n */\n\nexport function optionsValueLabel({\n  arrayOfObjects,\n  concatObjectProps,\n  valueProp = \"id\",\n  outerSeparator = \" \",\n  innerSeparator = \" \"\n}) {\n  const options = [];\n\n  for (const obj of arrayOfObjects) {\n    const arrayToConcat = [];\n\n    for (const prop of concatObjectProps) {\n      if (isArray(prop)) {\n        arrayToConcat[arrayToConcat.length] = prop.map(propName => obj[propName]);\n      } else {\n        arrayToConcat[arrayToConcat.length] = obj[prop];\n      }\n    }\n\n    options[options.length] = {\n      value: obj[valueProp],\n      label: concatWithInnerOuterSeparators(arrayToConcat, outerSeparator, innerSeparator)\n    };\n  }\n\n  return options;\n}\n/**\n * Tests if a string starts with another\n *\n * @param {string} haystack The haystack string.\n * @param {string} needle The needle string.\n * @return {boolean} True if the haystack string starts with needle, false otherwise.\n */\n\nexport function startsWith(haystack, needle) {\n  return haystack.indexOf(needle, 0) === 0;\n}\n/**\n * Makes the first character of the given string uppercase.\n *\n * @param {string} string A string.\n * @return {string} The string with its first character made uppercase.\n */\n\nexport function ucaseFirst(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n//# sourceMappingURL=string.js.map","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Time-related utility functions.\n */\n\n/**\n * Returns the current Unix time in seconds.\n *\n * @return {number} Current Unix time in seconds.\n */\nexport function time() {\n  const d = new Date();\n  const seconds = Math.round(d.getTime() / 1000);\n  return seconds;\n}\n/**\n * Returns the time string approximated to the nearest microsecond\n * corresponding the given Unix timestamp in milliseconds\n * in the format \"HH:mm:ss.ms\".\n *\n * @param {number} [ms] The time in microseconds to convert into a string.\n *                      If omitted, the current time will be used.\n * @return {string} The time string.\n */\n\nexport function msToTime(ms) {\n  const date = new Date(ms || new Date().getTime());\n  const isoDate = new Date(date.getTime() - date.getTimezoneOffset() * 60000).toISOString();\n  return isoDate.slice(11, -1);\n}\n/**\n * Converts milliseconds to seconds.\n *\n * @param {number} millisec Number of milliseconds.\n * @return {number} The milliseconds in seconds.\n */\n\nexport function millisecToSec(millisec) {\n  return millisec * 0.001;\n}\n//# sourceMappingURL=time.js.map","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Web application (browser) utility functions.\n */\nimport { config, uniqueId, isEmpty, isJSONString, isPlainObject } from \"./core\";\n/**\n * Builds a form data instance or object recursively.\n *\n * @see https://stackoverflow.com/questions/22783108/convert-js-object-to-form-data#answer-42483509\n *\n * @param {FormData|Object} formData Form data instance or JS POJO object.\n * @param {Array|Object} data JS POJO object or array with the form data to use to build the forma data.\n * @param {boolean} [shouldEncodeURIComponent] Optionally instructs the function if the parameters should be encoded\n *                                             (keys and values) using \"encodeURIComponent\".\n * @param {string} [parentKey] Parent key for nested parameters (used internally for recursion).\n * @return {undefined}\n */\n\nfunction buildFormData(formData, data, shouldEncodeURIComponent, parentKey) {\n  if (data && typeof data === \"object\" && !(data instanceof Date) && !(data instanceof File)) {\n    Object.keys(data).forEach(key => {\n      buildFormData(formData, data[key], shouldEncodeURIComponent, parentKey ? `${parentKey}[${key}]` : shouldEncodeURIComponent ? encodeURIComponent(key) : key);\n    });\n  } else {\n    // Leaf value.\n    const value = data == null ? \"\" : shouldEncodeURIComponent ? encodeURIComponent(data) : data;\n    formData instanceof FormData ? formData.append(parentKey, value) : formData[parentKey] = value;\n  }\n}\n/**\n * Constructs a query string from the given data.\n * This method works with nested objects/arrays.\n *\n * @param {Array|Object} data The object.\n * @return {string} The query string.\n */\n\n\nexport function buildQueryString(data) {\n  const formData = {};\n  buildFormData(formData, data, true); // \"true\" instructs the function to encode URI parts (keys and values).\n\n  const parts = [];\n\n  for (const prop in formData) {\n    parts.push(prop + \"=\" + formData[prop]);\n  }\n\n  return parts.join(\"&\");\n}\n/**\n * Converts an object (array or JS POJO object) to a form data instance.\n *\n * @param {Array|Object} data The data (array or POJO object).\n * @return {FormData} A form data instance.\n */\n\nexport function formData(data) {\n  const formData = new FormData();\n  buildFormData(formData, data);\n  return formData;\n}\n/**\n * Returns a new XMLHttpRequest or ActiveXObject object.\n *\n * @return {XMLHttpRequest|ActiveXObject}\n */\n\nexport const xhr = () => window.ActiveXObject && new window.ActiveXObject(\"Microsoft.XMLHTTP\") || new XMLHttpRequest();\n/**\n * Checks whether the network is reachable or not.\n *\n * @param {string} URI An eventual URI to use for the request.\n *                     NOTE: If omitted, then \"config.checkNetworkURI\" will be used,\n *                           or, if \"config.checkNetworkURI\" is not set,\n *                           the website's hostname will be used.\n *                           Also, in every case, A GET query string with a random parameter\n *                           is always appended to the URI.\n * @return {Promise} A promise which resolves to \"true\" if the network is reachable and to \"false\" otherwise.\n *                   Note that the returned promise always resolves to \"true\" when this code runs on localhost.\n */\n\nexport function checkNetwork(URI = null) {\n  // Handle IE and more capable browsers.\n  const xhrObj = xhr();\n  return new Promise(resolve => {\n    // Issue request and handle response.\n    try {\n      xhrObj.onreadystatechange = () => {\n        if (xhrObj.readyState == 4) {\n          resolve(xhrObj.status >= 200 && (xhrObj.status < 300 || xhrObj.status === 304));\n        }\n      }; // Open new request as a HEAD to the root hostname with a random param to bust the cache.\n\n\n      xhrObj.open(\"HEAD\", (URI || config.checkNetworkURI || \"//\" + window.location.hostname + (window.location.port != 80 ? \":\" + window.location.port : \"\")) + \"?rand=\" + Math.floor((1 + Math.random()) * 0x10000), // 0x10000 = 2^16\n      true);\n      xhrObj.send();\n    } catch (error) {\n      resolve(false);\n    }\n  });\n}\n/**\n * Returns a promise which resolves when the network is available.\n *\n * NOTE: If the network is available, the promise will resolve almost immediately.\n *\n * @param {number} intervalMillisecs An interval in milliseconds to wait before the next network check.\n * @return {Promise} A promise.\n */\n\nexport function waitNetwork(intervalMillisecs = 3000) {\n  return new Promise(resolve => {\n    checkNetwork().then(isNetworkReachable => {\n      if (isNetworkReachable) {\n        resolve();\n      } else {\n        const interval = setInterval(() => {\n          checkNetwork().then(isNetworkReachable => {\n            if (isNetworkReachable) {\n              clearInterval(interval);\n              resolve();\n            }\n          });\n        }, intervalMillisecs);\n      }\n    });\n  });\n}\n/**\n * Sets a cookie value.\n *\n * @see https://www.w3schools.com/js/js_cookies.asp\n *\n * @param {string} cname The cookie name.\n * @param {string} cvalue The cookie value.\n * @param {number|undefined} exdays Number of days after which the cookie expires,\n *                                  or \"undefined\" to make the cookie expire at the end of the session.\n * @return {undefined}\n */\n\nexport function setCookie(cname, cvalue, exdays) {\n  let expires = \"\";\n\n  if (exdays) {\n    const d = new Date();\n    d.setTime(d.getTime() + exdays * 24 * 60 * 60 * 1000);\n    expires = \"expires=\" + d.toUTCString() + \";\";\n  }\n\n  document.cookie = cname + \"=\" + cvalue + \";\" + expires + \"path=/\";\n}\n/**\n * Gets a cookie value.\n *\n * @see https://www.w3schools.com/js/js_cookies.asp\n *\n * @param {string} cname The cookie name.\n * @return {string|undefined} The cookie value or \"undefined\", if not set.\n */\n\nexport function getCookie(cname) {\n  const name = cname + \"=\";\n  const ca = document.cookie.split(\";\");\n\n  for (let i = 0; i < ca.length; i++) {\n    let c = ca[i];\n\n    while (c.charAt(0) == \" \") {\n      c = c.substring(1);\n    }\n\n    if (c.indexOf(name) == 0) {\n      return c.substring(name.length, c.length);\n    }\n  }\n\n  return void 0;\n}\n/**\n * Unsets a cookie.\n *\n * @param {string} cname The cookie name.\n * @return {undefined}\n */\n\nexport function unsetCookie(cname) {\n  setCookie(cname, \"\", -365);\n}\n/**\n * Tests whether a DOM element is in viewport or not.\n *\n * @param {Element} elem The DOM element.\n * @return {boolean} True if it is in viewport, false otherwise.\n */\n\nexport function isInViewport(elem) {\n  const bounding = elem.getBoundingClientRect();\n  return bounding.top >= 0 && bounding.left >= 0 && bounding.bottom <= (window.innerHeight || document.documentElement.clientHeight) && bounding.right <= (window.innerWidth || document.documentElement.clientWidth);\n}\n/**\n * Tests if a DOM element is scrolled into the scrollable view of its parent scrollable container.\n *\n * @param {Element} elem The DOM element to test.\n * @param {Element} holder The DOM element of the scrollable container of the DOM element to test.\n * @param {number|Function} minPx Minimum number of pixels of the element's height which must be scrolled into the view\n *                                in order to consider the element to be scrolled into view.\n *                                If a function is given, it will receive the element's bounding client rect as the first argument\n *                                as well as the holder element's bounding client rect as the second argument and must return\n *                                the minimum number of pixels.\n * @return {boolean} True if the given element is scrolled into view, false otherwise.\n */\n\nexport function isScrolledIntoView(el, holder, minPx = 1) {\n  const elRect = el.getBoundingClientRect();\n  const holderRect = holder.getBoundingClientRect();\n  const {\n    top,\n    bottom,\n    height\n  } = elRect;\n\n  const minPxNumberFn = () => typeof minPx === \"function\" ? minPx(elRect, holderRect) : minPx;\n\n  let bottomDiff;\n  return top <= holderRect.top ? holderRect.top - top + minPxNumberFn() <= height : (bottomDiff = bottom - holderRect.bottom) < 0 ? true : holderRect.bottom >= top && minPx ? holderRect.bottom - top >= minPxNumberFn() : bottomDiff <= height;\n}\n/**\n * Tests if a DOM element has a vertical scrollbar.\n *\n * @param {Element} elem The DOM element.\n * @return {boolean} True it has a vertical scrollbar, false otherwise.\n */\n\nexport function hasVerticalScrollbar(elem) {\n  const hasVerticalScrollbar = elem.scrollHeight > elem.clientHeight;\n  return hasVerticalScrollbar;\n}\n/**\n * Tests if a DOM element has a horizontal scrollbar.\n *\n * @param {Element} elem The DOM element.\n * @return {boolean} True it has a horizontal scrollbar, false otherwise.\n */\n\nexport function hasHorizontalScrollbar(elem) {\n  const hasHorizontalScrollbar = elem.scrollWidth > elem.clientWidth;\n  return hasHorizontalScrollbar;\n}\n/**\n * Generates a unique ID which can be used for an element.\n *\n * @param {string|undefined} [elementUniqueIdPrefix] Local unique ID prefix which overrides the prefix\n *                                                   set on the \"config\" configuration object.\n * @return {string} The element unique ID.\n */\n\nexport function elementUniqueId(elementUniqueIdPrefix = void 0) {\n  const uniqueElementIdSuffix = uniqueId();\n  return (elementUniqueIdPrefix || config.elementUniqueIdPrefix) + uniqueElementIdSuffix;\n}\n/**\n * Gets the computed style of an element.\n *\n * @param {Element} element DOM element.\n * @return {CSSStyleDeclaration} The computed style.\n */\n\nexport function getElementComputedStyle(element) {\n  return window.getComputedStyle(element);\n}\n/**\n * Gets element's inner dimensions (height and width without padding).\n *\n * @param {Element} element An element.\n * @return {Object} An object with \"width\" and \"height\" properties.\n */\n\nexport function elementInnerDimensions(element) {\n  const computedStyle = getElementComputedStyle(element);\n  let elementHeight = element.clientHeight; // Height with padding.\n\n  let elementWidth = element.clientWidth; // Width with padding\n\n  elementHeight -= parseFloat(computedStyle.paddingTop) + parseFloat(computedStyle.paddingBottom);\n  elementWidth -= parseFloat(computedStyle.paddingLeft) + parseFloat(computedStyle.paddingRight);\n  return {\n    width: elementWidth,\n    height: elementHeight\n  };\n}\n/**\n * @type {HTMLTextAreaElement}\n */\n\nlet countTextareaLinesBuffer;\n/**\n * Returns the number of lines in a textarea, including wrapped lines.\n *\n * @see https://stackoverflow.com/questions/28905965/textarea-how-to-count-wrapped-lines-rows#answer-45252226\n *\n * @param {HTMLTextAreaElement} textarea A textarea element. Note that the textarea should have an integer line height\n *                                       to avoid rounding errors.\n */\n\nexport function countTextareaLines(textarea) {\n  if (countTextareaLinesBuffer == null) {\n    countTextareaLinesBuffer = document.createElement(\"textarea\");\n    countTextareaLinesBuffer.style.border = \"none\";\n    countTextareaLinesBuffer.style.height = \"0\";\n    countTextareaLinesBuffer.style.overflow = \"hidden\";\n    countTextareaLinesBuffer.style.padding = \"0\";\n    countTextareaLinesBuffer.style.position = \"absolute\";\n    countTextareaLinesBuffer.style.left = \"0\";\n    countTextareaLinesBuffer.style.top = \"0\";\n    countTextareaLinesBuffer.style.zIndex = \"-1\";\n    document.body.appendChild(countTextareaLinesBuffer);\n  }\n\n  const cs = window.getComputedStyle(textarea);\n  const pl = parseInt(cs.paddingLeft);\n  const pr = parseInt(cs.paddingRight);\n  let lh = parseInt(cs.lineHeight); // `cs.lineHeight` may return 'normal', which means line height = font size.\n\n  if (isNaN(lh)) lh = parseInt(cs.fontSize); // Copy content width.\n\n  countTextareaLinesBuffer.style.width = textarea.clientWidth - pl - pr + \"px\"; // Copy text properties.\n\n  countTextareaLinesBuffer.style.font = cs.font;\n  countTextareaLinesBuffer.style.letterSpacing = cs.letterSpacing;\n  countTextareaLinesBuffer.style.whiteSpace = cs.whiteSpace;\n  countTextareaLinesBuffer.style.wordBreak = cs.wordBreak;\n  countTextareaLinesBuffer.style.wordSpacing = cs.wordSpacing;\n  countTextareaLinesBuffer.style.wordWrap = cs.wordWrap; // Copy value.\n\n  countTextareaLinesBuffer.value = textarea.value;\n  let result = Math.floor(countTextareaLinesBuffer.scrollHeight / lh);\n\n  if (result == 0) {\n    result = 1;\n  }\n\n  return result;\n}\n/**\n * Checks if the scroll of an element is on the bottom.\n *\n * @param {Element} DOMNode Element.\n * @return {boolean} True if the scroll is on the bottom, false otherwise.\n */\n\nexport function isScrollOnBottom(DOMNode) {\n  const ret = DOMNode.scrollTop + DOMNode.offsetHeight >= DOMNode.scrollHeight;\n  return ret;\n}\n/**\n * Returns the default browser's vertical scrollbar width.\n *\n * @return {Number} The scrollbar width.\n */\n\nexport function getVerticalScrollBarWidth() {\n  const scrollDiv = document.createElement(\"div\");\n  scrollDiv.className = \"vertical-scrollbar-measure\";\n  const sheet = document.createElement(\"style\");\n  sheet.innerHTML = \"div.vertical-scrollbar-measure { width: 100px; height: 100px; overflow: scroll; position: absolute; top: -9999px; }\";\n  document.body.appendChild(sheet);\n  document.body.appendChild(scrollDiv);\n  const scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n  document.body.removeChild(scrollDiv);\n  const sheetParent = sheet.parentNode;\n  sheetParent.removeChild(sheet);\n  return scrollbarWidth;\n}\n/**\n * Tests if an element with \"text-overflow: ellipsis;\" has the ellipsis active\n * and therefore its text is truncated.\n *\n * @param {Element} e The DOM element.\n * @return {boolean} True if ellipsis are present, false otherwise.\n */\n\nexport function isEllipsisActive(e) {\n  return e.offsetWidth < e.scrollWidth;\n}\n/**\n * A fallback function to copy a text to clipboard.\n *\n * @param {string} text The text to copy.\n * @param {Function} [onSuccess] An optional callback to execute on success.\n * @param {Function} [onFailure] An optional callback to execute on failure.\n * @return {undefined}\n */\n\nfunction fallbackCopyTextToClipboard(text, onSuccess, onFailure) {\n  const bodyScrollTop = document.documentElement.scrollTop || document.body.scrollTop;\n  const textArea = document.createElement(\"textarea\");\n  textArea.value = text;\n  document.body.appendChild(textArea);\n  textArea.focus();\n  textArea.select();\n\n  try {\n    const successful = document.execCommand(\"copy\");\n\n    if (successful) {\n      onSuccess && onSuccess();\n    } else {\n      onFailure && onFailure();\n    }\n  } catch (err) {\n    onFailure && onFailure(err);\n  }\n\n  document.body.removeChild(textArea) && document.documentElement.scrollTop && (document.documentElement.scrollTop = bodyScrollTop) || (document.body.scrollTop = bodyScrollTop);\n}\n/**\n * Copies a text to clipboard.\n *\n * @param {string} text The text to copy.\n * @param {Function} [onSuccess] An optional callback to execute on success.\n * @param {Function} [onFailure] An optional callback to execute on failure.\n * @return {undefined}\n */\n\n\nexport function copyTextToClipboard(text, onSuccess, onFailure) {\n  if (!navigator.clipboard) {\n    fallbackCopyTextToClipboard(text, onSuccess, onFailure);\n    return;\n  }\n\n  navigator.clipboard.writeText(text).then(function () {\n    onSuccess && onSuccess();\n  }, function (err) {\n    onFailure && onFailure(err);\n  });\n}\n/**\n * Asynchronously invokes a callback multiple times, each in its own animation frame.\n *\n * @param {number} n The number of times the callback should be invoked.\n * @param {Function} callback The callback to invoke.\n * @return {*} The identifier of the first animation frame or \"n\" if it is falsy during the outermost call.\n */\n\nexport const rAFLooper = (n, callback) => n && window.requestAnimationFrame(() => (callback(), rAFLooper(--n, callback)));\n/**\n * Requests a predefined number of animation frames and executes a callback after.\n *\n * @param {number} count The number of animation frames to request before executing the callback.\n * @param {Function} callback The callback to execute after \"count\" animation frames have been requested.\n * @return {number} The identifier of the first animation frame.\n */\n\nexport const nestedRAF = (count, callback) => {\n  let c = count || 1;\n\n  const innerCallback = () => {\n    c--;\n\n    if (!c) {\n      callback();\n      return;\n    }\n\n    window.requestAnimationFrame(innerCallback);\n  };\n\n  return window.requestAnimationFrame(innerCallback);\n};\n/**\n * Returns the raw contents of the URI fragment (i.e. everything after the hash (\"#\") character).\n *\n * @param {string} URIFragment The URI fragment.\n * @return {string} The raw contents of the URI fragment.\n */\n\nexport function getRawURIFragment(URIFragment) {\n  const fragment = (URIFragment || window.location.hash).replace(/^#/, \"\");\n  return fragment;\n}\n/**\n * Returns the decoded contents of a URI fragment (i.e. everything after the hash (\"#\") character).\n *\n * @param {string} URIFragment The URI fragment.\n * @return {string} The contents of the URI fragment, decoded.\n */\n\nexport function getDecodedURIFragment(URIFragment) {\n  const fragment = decodeURIComponent(getRawURIFragment(URIFragment));\n  return fragment;\n}\n/**\n * Appends an encoded JSON fragment to a URI.\n *\n * @param {string} URI The URI.\n * @param {*} data Data to encode in JSON format.\n */\n\nexport function appendEncodedJSONFragmentToURI(URI, data) {\n  return URI + \"#\" + encodeURIComponent(JSON.stringify(data));\n}\n/**\n * Returnes the decoded JSON data eventually stored in the URI fragment.\n *\n * @param {*} defaultData Default data to return if either the URI fragment is missing or\n *                        the content of the URI fragment is not a valid JSON-encoded string.\n * @return {*} The decoded JSON data or \"defaultData\".\n */\n\nexport function getDecodedJSONFromFragmentURI(defaultData = null) {\n  const fragment = window.location.hash;\n\n  if (!isEmpty(fragment)) {\n    const decodedFragment = getDecodedURIFragment(fragment);\n\n    if (isJSONString(decodedFragment)) {\n      return JSON.parse(decodedFragment);\n    }\n  }\n\n  return defaultData;\n}\n/**\n * Parses a multidimensional query string and returns an object with the parsed args.\n *\n * @see https://stackoverflow.com/questions/8648892/convert-url-parameters-to-a-javascript-object#answer-44713056\n *\n * @param {string} str The query string.\n * @param {Object} [array] The base object to use (or a new object if omitted or falsy).\n * @return {Object} The object with the parsed data.\n */\n\nexport function parseQueryStringArgsMultiDim(str, array) {\n  if (!str) {\n    str = window.location.search.substr(1);\n  }\n\n  let i, j, ct, p, lastObj, obj, undef, chr, tmp, key, value, postLeftBracketPos, keys, keysLen;\n\n  const strArr = String(str).replace(/^&/, \"\").replace(/&$/, \"\").split(\"&\"),\n        sal = strArr.length,\n        fixStr = function (str) {\n    return decodeURIComponent(str.replace(/\\+/g, \"%20\"));\n  };\n\n  if (!array) {\n    array = {};\n  }\n\n  for (i = 0; i < sal; i++) {\n    tmp = strArr[i].split(\"=\");\n    key = fixStr(tmp[0]);\n    value = tmp.length < 2 ? \"\" : fixStr(tmp[1]);\n\n    while (key.charAt(0) === \" \") {\n      key = key.slice(1);\n    }\n\n    if (key.indexOf(\"\\x00\") > -1) {\n      key = key.slice(0, key.indexOf(\"\\x00\"));\n    }\n\n    if (key && key.charAt(0) !== \"[\") {\n      keys = [];\n      postLeftBracketPos = 0;\n\n      for (j = 0; j < key.length; j++) {\n        if (key.charAt(j) === \"[\" && !postLeftBracketPos) {\n          postLeftBracketPos = j + 1;\n        } else if (key.charAt(j) === \"]\") {\n          if (postLeftBracketPos) {\n            if (!keys.length) {\n              keys.push(key.slice(0, postLeftBracketPos - 1));\n            }\n\n            keys.push(key.substr(postLeftBracketPos, j - postLeftBracketPos));\n            postLeftBracketPos = 0;\n\n            if (key.charAt(j + 1) !== \"[\") {\n              break;\n            }\n          }\n        }\n      }\n\n      if (!keys.length) {\n        keys = [key];\n      }\n\n      for (j = 0; j < keys[0].length; j++) {\n        chr = keys[0].charAt(j);\n\n        if (chr === \" \" || chr === \".\" || chr === \"[\") {\n          keys[0] = keys[0].substr(0, j) + \"_\" + keys[0].substr(j + 1);\n        }\n\n        if (chr === \"[\") {\n          break;\n        }\n      }\n\n      obj = array;\n\n      for (j = 0, keysLen = keys.length; j < keysLen; j++) {\n        key = keys[j].replace(/^['\"]/, \"\").replace(/['\"]$/, \"\");\n        lastObj = obj;\n\n        if (key !== \"\" && key !== \" \" || j === 0) {\n          if (obj[key] === undef) {\n            obj[key] = {};\n          }\n\n          obj = obj[key];\n        } else {\n          // To insert new dimension\n          ct = -1;\n\n          for (p in obj) {\n            if (Object.prototype.hasOwnProperty.call(obj, p)) {\n              if (+p > ct && p.match(/^\\d+$/g)) {\n                ct = +p;\n              }\n            }\n          }\n\n          key = ct + 1;\n        }\n      }\n\n      lastObj[key] = value;\n    }\n  }\n  /* ===== */\n\n  /*\n   * This code converts the object properties to arrays if they are objects with consecutive integer keys\n   * from 0 to n, where n is the number of properties of that object minus one\n   * (i.e. it converts meaningful objects which are to be interpreted as arrays to arrays).\n   */\n\n\n  const fnNormalizeObjToArrayIfPropsAreConsecutiveIntsFrom0 = function (obj) {\n    const keys = Object.keys(obj);\n    const truthMap = {};\n\n    for (let i = 0; i < keys.length; i++) {\n      truthMap[i] = true;\n    }\n\n    const array = [];\n\n    for (let i = 0; i < keys.length; i++) {\n      const prop = keys[i] + \"\";\n\n      if (!prop.match(/^[0-9]+$/)) {\n        return obj;\n      }\n\n      const intProp = Number(prop);\n\n      if (truthMap[intProp]) {\n        array[intProp] = obj[prop];\n        delete truthMap[intProp];\n      } else {\n        return obj;\n      }\n    }\n\n    if (Object.keys(truthMap).length === 0) {\n      return array;\n    } else {\n      return obj;\n    }\n  };\n\n  const fnNormalizeToArrayIfNeeded = function fnNormalizeToArrayIfNeeded(obj) {\n    for (const prop in obj) {\n      if (isPlainObject(obj[prop])) {\n        obj[prop] = fnNormalizeObjToArrayIfPropsAreConsecutiveIntsFrom0(obj[prop]);\n        fnNormalizeToArrayIfNeeded(obj[prop]);\n      }\n    }\n  };\n  /* /===== */\n\n\n  fnNormalizeToArrayIfNeeded(array);\n  return array;\n}\n/**\n * Gets the query string arguments of the current location in a multidimensional fashion\n * (multidimension-aware).\n *\n * @return {Object} An object representing the query string arguments.\n */\n\nexport function getQueryStringArgsMultiDim() {\n  const obj = {};\n  parseQueryStringArgsMultiDim(location.search.substring(1), obj);\n  return obj;\n}\n/**\n * Focuses an input without scrolling.\n *\n * @see https://stackoverflow.com/questions/4963053/focus-to-input-without-scrolling\n *\n * @param {Element} elem The DOM element.\n */\n\nexport const cursorFocus = function (elem) {\n  let x, y; // More sources for scroll x, y offset.\n\n  if (typeof window.pageXOffset !== \"undefined\") {\n    x = window.pageXOffset;\n    y = window.pageYOffset;\n  } else if (typeof window.scrollX !== \"undefined\") {\n    x = window.scrollX;\n    y = window.scrollY;\n  } else if (document.documentElement && typeof document.documentElement.scrollLeft !== \"undefined\") {\n    x = document.documentElement.scrollLeft;\n    y = document.documentElement.scrollTop;\n  } else {\n    x = document.body.scrollLeft;\n    y = document.body.scrollTop;\n  }\n\n  elem.focus();\n\n  if (typeof x !== \"undefined\") {\n    window.scrollTo(x, y);\n  }\n};\n//# sourceMappingURL=web.js.map","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nexport default class Advice {\n  constructor(fn) {\n    this.fn = fn;\n  }\n}\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport Advice from \"./Advice\";\n\nexport default class AfterAdvice extends Advice {}\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport Advice from \"./Advice\";\n\nexport default class AroundAdvice extends Advice {}\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport Advice from \"./Advice\";\n\nexport default class BeforeAdvice extends Advice {}\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport pigretto from \"../pigretto\";\nimport get from \"../pointcuts/shorthands/get\";\n\n/**\n * @type {Symbol}\n */\nconst queueTupleProp = Symbol(\"queueTupleProp\");\n\n/**\n * @type {Symbol}\n */\nconst dataProp = Symbol(\"dataProp\");\n\n/**\n * @type {Function}\n */\nconst dummyNoOp = () => {\n  // Just a dummy no-op function. Required when the Proxy API is polyfilled with proxy-polyfill (https://github.com/GoogleChrome/proxy-polyfill/)\n};\n\n/**\n * Builtin function using pigretto's API to create a POJO promiser,\n * i.e. a proxy object with syntactic sugar which lets creating a queue of properties to resolve\n * and resolves to an object with those same properties and their respective resolved values.\n *\n * @see https://gist.github.com/jasuperior/5d339f9c2572b3bb52d487de4086a3b2\n *\n * @param {Object} obj A POJO object where each property refers to a value to use as is or to a promise\n *                     resolving to the value to use for that property.\n * @param {Object} options Options.\n * @param {boolean} [options.mutateTargetOnSettledPromiseQueue] Whether or not to mutate the original given \"obj\" POJO object\n *                                                              with the resolved values or not (defaults to false,\n *                                                              i.e. it does not mutate the original \"obj\" POJO object).\n * @return {Proxy} A new proxy object for the given target which supports this builtin feature.\n */\nexport default function POJOPromiser(\n  obj,\n  { mutateTargetOnSettledPromiseQueue = false } = {}\n) {\n  const originalTarget = obj;\n\n  // This is needed because the Proxy API may be polyfilled with proxy-polyfill (https://github.com/GoogleChrome/proxy-polyfill/).\n  // Cloning \"obj\" allows setting properties on the target clone.\n  const target = {\n    ...obj,\n  };\n\n  const that = {\n    [queueTupleProp]: void 0,\n    [dataProp]: {},\n  };\n  const rules = {\n    [\"/.?/\"]: get().around(function () {\n      const { property: prop, target } = this;\n\n      if (prop === \"then\" && that[queueTupleProp]) {\n        // If \"then\" is accessed, and there is something in the queue.\n        const [queuedProp, queuedPromise] = that[queueTupleProp];\n        const promise = queuedPromise.then(data => {\n          const obj = that[dataProp]; // Resolved data from last promise.\n          obj[queuedProp] = data;\n          return new Promise(resolve => {\n            that[dataProp] = {}; // Erase data.\n            that[queueTupleProp] = void 0; // Clear queue.\n            resolve(obj); // Resolve promise queue.\n            if (obj && mutateTargetOnSettledPromiseQueue) {\n              // Assign resolved values to the original target, so that properties which value is a promise will be replaced with the resolved value.\n              Object.assign(originalTarget, obj);\n            }\n          });\n        });\n        const then = promise.then.bind(promise);\n        return then;\n      }\n\n      let promise;\n\n      if (!(target[prop] instanceof Promise) && prop !== \"then\") {\n        // If the prop is not \"then\" or a promise, i.e. it is a real value.\n        if (that[queueTupleProp]) {\n          // If there is a queue.\n          const [queuedProp, queuedPromise] = that[queueTupleProp];\n          const obj = that[dataProp];\n          promise = queuedPromise.then(data => {\n            // Resolve last promise.\n            obj[queuedProp] = data;\n            return Promise.resolve(target[prop]);\n          });\n        } else {\n          // Otherwise, simply create a new promise with value.\n          that[dataProp] = {};\n          promise = Promise.resolve(target[prop]);\n        }\n      }\n\n      if (that[queueTupleProp]) {\n        // If it is a promise and there is a queue.\n        const [queuedProp, queuedPromise] = that[queueTupleProp];\n        const obj = that[dataProp];\n        promise = queuedPromise.then(data => {\n          // Resolve last promise.\n          obj[queuedProp] = data;\n          return target[prop];\n        });\n      } else if (!promise) {\n        // target[prop] is of course a promise here (invariant).\n        that[dataProp] = {};\n        promise = target[prop];\n      }\n\n      that[queueTupleProp] = [prop, promise]; // Save the promise and the property in the queue.\n      // All alternations ensure that no matter what the value, a promise which must be resolved is always given.\n      target.then = dummyNoOp;\n      const pigrettarget = pigretto(target, rules);\n      return pigrettarget;\n    }),\n  };\n  target.then = dummyNoOp;\n  const pigrettarget = pigretto(target, rules);\n  return pigrettarget;\n}\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Builtin function using pigretto's API to create an array which allows the usage of negative indices\n * to retrieve its data, where -1 indicates the last element of the array (same as `array.length - 1`).\n *\n * @param {Array} array An array to use as the target object for this builtin.\n * @param {Object} options Options.\n * @param {boolean} [options.wrap] Whether or not to wrap if the negative index is greater than the length of the array.\n *                                 Defaults to true, in which case an array like `arrayWithNegativeIndices(['a', 'b', 'c'])[-5]`\n *                                 will wrap and return 'b', even though `Math.abs(-5) > ['a', 'b', 'c'].length`.\n *                                 If this option were set to false, then undefined would be returned for `arrayWithNegativeIndices(['a', 'b', 'c'])[-5]`.\n * @return {Proxy} The proxy object for the given array.\n */\nexport default function arrayWithNegativeIndices(array, { wrap = true } = {}) {\n  return new Proxy(array, {\n    get: function (target, propKey) {\n      let numberPropKey = Number(propKey);\n      if (\n        !Number.isNaN(numberPropKey) &&\n        Number.isInteger(numberPropKey) &&\n        numberPropKey < 0\n      ) {\n        const absNumberPropKey = Math.abs(numberPropKey);\n        if (wrap || absNumberPropKey <= target.length) {\n          numberPropKey = target.length - (absNumberPropKey % target.length);\n          propKey = String(numberPropKey === target.length ? 0 : numberPropKey);\n        }\n      }\n      return target[propKey];\n    },\n  });\n}\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport pigretto from \"../pigretto\";\nimport call from \"../pointcuts/shorthands/call\";\nimport set from \"../pointcuts/shorthands/set\";\nimport get from \"../pointcuts/shorthands/get\";\nimport escapeStringRegexp from \"escape-string-regexp\";\n\n/**\n * Builtin function using pigretto's API to implement lazy loading for objects.\n *\n * @param {Object} target A target object to lazy load. Lazy loading in this case means deferring an operation on the object\n *                        when it is used for the very first time by the client code.\n * @param {Object} options The options of the lazy loading.\n * @param {Function} onceCallback The callback to execute only once before performing the very first operation on the given \"target\"\n *                                when the given \"target\" is used for the very first time.\n *                                This callback is mandatory (otherwise it doesn't make sense to use \"lazy()\" at all)\n *                                and allows e.g. to perform a heavy initialization operation lazily on the underlying target object.\n * @param {Object} [options.ignoredTypes] The types which prototypes to ignore when going up the prototype chain in order to identify\n *                                        which prototypes to intercept when lazy loading.\n *                                        By default, only the properties set on the \"Object\" prototype will be ignored.\n *                                        This option can be used e.g. to avoid the performance of a heavy lazy initialization\n *                                        when calling the methods of a parent class of the given \"target\" object.\n * @param {boolean} [options.interceptConstructor] Whether or not to intercept the getting/setting of the \"constructor\" property.\n *                                                 Defaults to \"false\", meaning that when getting/setting \"target.constructor\",\n *                                                 this operation will not trigger the underlying lazy loading.\n * @param {string[]} [options.propertiesToIgnore] Property names or method names to ignore for lazy loading.\n * @param {Array} [options.pointcuts] Array of pointcut shorthands to use for interception and lazy loading.\n *                                    By default, only \"call\", \"get\" and \"set\" pointcuts will be used.\n *                                    Other pointcut shorthands (e.g. \"apply\", \"construct\") will be ignored, if passed.\n * @return {Proxy} A new proxy object for the given target which supports this builtin feature.\n */\nexport default function lazyObject(\n  target,\n  {\n    onceCallback,\n    ignoredTypes = [Object],\n    interceptConstructor = false,\n    propertiesToIgnore = [],\n    pointcuts = [call, get, set],\n  } = {}\n) {\n  let hasCall = false,\n    hasGet = false,\n    hasSet = false;\n  const rules = [];\n  const propertiesMap = {};\n  const constructorsToIgnore = ignoredTypes.map(\n    Type => Type.prototype.constructor\n  );\n\n  let current = target;\n  let currentIsProto = false;\n  while (current) {\n    const constructor = current.constructor;\n    if (!currentIsProto || !constructorsToIgnore.includes(constructor)) {\n      const properties = Reflect.ownKeys(current);\n      properties.map(\n        property =>\n          (propertiesMap[property] = {\n            isMethod:\n              property !== \"constructor\" &&\n              typeof target[property] === \"function\",\n          })\n      );\n    }\n    current = Object.getPrototypeOf(current);\n    currentIsProto = true;\n  }\n  propertiesToIgnore.map(\n    propertyToIgnore => delete propertiesMap[propertyToIgnore]\n  );\n  !interceptConstructor && delete propertiesMap[\"constructor\"];\n\n  pointcuts.map(pointcut => {\n    if (pointcut === call) {\n      hasCall = true;\n    } else if (pointcut === get) {\n      hasGet = true;\n    } else if (pointcut === set) {\n      hasSet = true;\n    }\n  });\n\n  const properties = Object.keys(propertiesMap);\n  let firstOperation = true;\n  const callback = function (...args) {\n    if (firstOperation) {\n      firstOperation = false;\n      onceCallback.apply(this, args);\n    }\n  };\n  const escape = names => names.map(escapeStringRegexp);\n  const regex = escapedNames => new RegExp(`^(${escapedNames.join(\"|\")})$`);\n  const addRule = regex => pointcut =>\n    rules.push([regex, pointcut().before(callback)]);\n  if (hasCall) {\n    const methodNames = properties.filter(\n      property => propertiesMap[property].isMethod\n    );\n    const escapedMethodNames = escape(methodNames);\n    addRule(regex(escapedMethodNames))(call);\n  }\n  if (hasGet || hasSet) {\n    const propertyNames = properties.filter(\n      property => !propertiesMap[property].isMethod\n    );\n    const escapedPropertyNames = escape(propertyNames);\n    hasGet && addRule(regex(escapedPropertyNames))(get);\n    hasSet && addRule(regex(escapedPropertyNames))(set);\n  }\n\n  const pigrettarget = pigretto(target, rules);\n  return pigrettarget;\n}\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport pigretto from \"../pigretto\";\nimport get from \"../pointcuts/shorthands/get\";\nimport set from \"../pointcuts/shorthands/set\";\nimport { prototypeChainProperties, typeToStr } from \"js-utl\";\n\n/**\n * Builtin function using pigretto's API to throw an error when an unknown property is accessed on the given target\n * (both for read and write operations).\n *\n * @param {Object} target The target object.\n * @param {Object} options Options.\n * @param {boolean} [options.dynamic] Whether or not to check against the current properties of the target on each property access (dynamic, default).\n *                                    If set to false, then only the properties of the target object at the time this builtin function is called will be\n *                                    treated as known and used for the check when determining if a property is unknown.\n * @param {?Error|Function} [options.errorToThrow] The error to throw or null (default) or a function returning an error instance to throw.\n *                                                 If null, a default error will be thrown when trying to access an unknown property.\n *                                                 If a function is given, the function will receive an object with the following properties as parameter:\n *\n *                                                     - target (Object): The target object;\n *                                                     - propertyName (string): The name of the unknown property;\n *                                                     - targetTypeToStr (string): The type of the target (e.g. \"[object Object]\");\n *                                                     - defaultErrorMessage (string): A default error message which can be used for the custom error;\n *\n * @param {Object} [options.prototypeChainPropertiesOptions] Further options passed to the \"prototypeChainProperties\" function of js-utl (used internally).\n *                                                           See the \"prototypeChainProperties\" function of the js-utl package (https://github.com/tonix-tuft/js-utl)\n *                                                           for the available options.\n * @return {Proxy} A new proxy object for the given target which supports this builtin feature.\n */\nexport default function throwErrorForUnknownProperty(\n  target,\n  {\n    dynamic = true,\n    errorToThrow = null,\n    ...prototypeChainPropertiesOptions\n  } = {}\n) {\n  const regex = /.?/;\n  let map = {};\n  const mapProperties = () => {\n    const props = prototypeChainProperties(\n      target,\n      prototypeChainPropertiesOptions\n    );\n    map = props.reduce((acc, prop) => !(acc[prop] = true) || acc, {});\n  };\n  !dynamic && mapProperties();\n  const assertFn = function () {\n    const propertyName = this.property;\n    const targetTypeToStr = typeToStr(target);\n    const defaultErrorMessage = `Accessing unknown property \"${propertyName}\" of object ${targetTypeToStr}.`;\n    dynamic && mapProperties();\n    if (!map[propertyName]) {\n      errorToThrow = errorToThrow\n        ? typeof errorToThrow === \"function\"\n          ? errorToThrow({\n              target,\n              propertyName,\n              targetTypeToStr,\n              defaultErrorMessage,\n            })\n          : errorToThrow\n        : new Error(defaultErrorMessage);\n      throw errorToThrow;\n    }\n  };\n  const pigrettarget = pigretto(target, [\n    [regex, get().before(assertFn)],\n    [regex, set().before(assertFn)],\n  ]);\n  return pigrettarget;\n}\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport trapHandlerForRules from \"../trap/trapHandlerForRules\";\n\n/**\n * Factory function to generate a new handler object for the given proxy rules.\n *\n * @param {Object|Array} proxyRules The proxy rules.\n * @return {Object} The handler object for the given proxy rules.\n */\nexport default function handlerFactory(proxyRules) {\n  const handler = trapHandlerForRules(proxyRules);\n  return handler;\n}\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport pigretto from \"./pigretto\";\nimport applyRule from \"./rules/applyRule\";\nimport constructRule from \"./rules/constructRule\";\nimport call from \"./pointcuts/shorthands/call\";\nimport get from \"./pointcuts/shorthands/get\";\nimport set from \"./pointcuts/shorthands/set\";\nimport apply from \"./pointcuts/shorthands/apply\";\nimport construct from \"./pointcuts/shorthands/construct\";\nimport lazyObject from \"./builtin/lazyObject\";\nimport throwErrorForUnknownProperty from \"./builtin/throwErrorForUnknownProperty\";\nimport POJOPromiser from \"./builtin/POJOPromiser\";\nimport arrayWithNegativeIndices from \"./builtin/arrayWithNegativeIndices\";\n\n/*\n * Mapping the API properties to the pigretto function.\n */\npigretto.pointcuts = {};\n[\n  [\"call\", call],\n  [\"get\", get],\n  [\"set\", set],\n  [\"applyRule\", applyRule],\n  [\"apply\", apply],\n  [\"constructRule\", constructRule],\n  [\"construct\", construct],\n].map(([prop, val]) => (pigretto.pointcuts[prop] = val));\n\npigretto.builtin = {};\n[\n  [\"lazyObject\", lazyObject],\n  [\"throwErrorForUnknownProperty\", throwErrorForUnknownProperty],\n  [\"POJOPromiser\", POJOPromiser],\n  [\"arrayWithNegativeIndices\", arrayWithNegativeIndices],\n].map(([prop, val]) => (pigretto.builtin[prop] = val));\n\nexport default pigretto;\nexport { call, get, set, applyRule, apply, constructRule, construct };\nexport {\n  lazyObject,\n  throwErrorForUnknownProperty,\n  POJOPromiser,\n  arrayWithNegativeIndices,\n};\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport handlerFactory from \"./factory/handlerFactory\";\n\n/**\n * Generates a new pigretto proxy object.\n *\n * A pigretto proxy object lets proxying and advising the following operations:\n *\n *    - Calling a method (`call()` method);\n *    - Getting a property (`get()` method);\n *    - Setting a property (`set()` method);\n *    - Calling a function (`[applyRule]` symbol property with `apply()` method);\n *    - Constructing a new object via the \"new\" keyword (`[constructRule]` symbol property with `construct()`).\n *\n * @param {*} target A function, a constructor function or an object to proxy.\n * @param {Object|Array} proxyRules The proxy rules.\n *                                  This parameter can be:\n *\n *                                      - An object containing proxy rules as keys and pointcuts with advices as values;\n *\n *                                      - An array of rules, each rule either being an object with proxy rules as keys\n *                                        and advices as values or a tuple of two elements: an array of rules of the same\n *                                        type or a single rule as the first element and a pointcut with advices for those rules or\n *                                        that rule as the second element;\n *\n * @return {Proxy} A new proxy object for the given target.\n */\nexport default function pigretto(target, proxyRules) {\n  const handler = handlerFactory(proxyRules);\n  const proxy = new Proxy(target, handler);\n  return proxy;\n}\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport Pointcut from \"./Pointcut\";\nimport BeforeAdvice from \"../advices/BeforeAdvice\";\nimport AfterAdvice from \"../advices/AfterAdvice\";\nimport AroundAdvice from \"../advices/AroundAdvice\";\n\nexport default class FunctionCallPointcut extends Pointcut {\n  /**\n   * Register a before advice for this pointcut.\n   *\n   * @param {Function} adviceFn The advice function. A function which receives the parameters\n   *                            of the underlying proxied function before calling it.\n   * @return {FunctionCallPointcut} This pointcut (fluent interface).\n   */\n  before(adviceFn) {\n    this.advices.push(new BeforeAdvice(adviceFn));\n    return this;\n  }\n\n  /**\n   * Register an after advice for this pointcut.\n   *\n   * @param {Function} adviceFn The advice function. A higher-order function which will receive\n   *                            the parameters of the proxied function and MUST return a function\n   *                            which will receive the return value of the underlying proxied function\n   *                            as parameter.\n   * @return {FunctionCallPointcut} This pointcut (fluent interface).\n   */\n  after(adviceFn) {\n    this.advices.push(new AfterAdvice(adviceFn));\n    return this;\n  }\n\n  /**\n   * Register an around advice for this pointcut.\n   *\n   * @param {Function} adviceFn The advice function. A higher-order function which will receive the \"proceed\"\n   *                            function as parameter and which MUST return a function which will receive the parameters\n   *                            of the underlying proxied function.\n   *                            If the advice function proceeds, the callback given to \"proceed\" will receive\n   *                            the return value to return to the caller or may return another value\n   *                            instead of the current return value.\n   * @return {FunctionCallPointcut} This pointcut (fluent interface).\n   */\n  around(adviceFn) {\n    this.advices.push(new AroundAdvice(adviceFn));\n    return this;\n  }\n}\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport Pointcut from \"./Pointcut\";\nimport BeforeAdvice from \"../advices/BeforeAdvice\";\nimport AfterAdvice from \"../advices/AfterAdvice\";\nimport AroundAdvice from \"../advices/AroundAdvice\";\n\nexport default class MethodCallPointcut extends Pointcut {\n  /**\n   * Register a before advice for this pointcut.\n   *\n   * @param {Function} adviceFn The advice function. A function which receives the parameters\n   *                            of the underlying proxied method call.\n   * @return {MethodCallPointcut} This pointcut (fluent interface).\n   */\n  before(adviceFn) {\n    this.advices.push(new BeforeAdvice(adviceFn));\n    return this;\n  }\n\n  /**\n   * Register an after advice for this pointcut.\n   *\n   * @param {Function} adviceFn The advice function. A higher-order function which will receive\n   *                            the parameters of the proxied method and MUST return a function\n   *                            which will receive the return value of the underlying proxied function\n   *                            as parameter.\n   * @return {MethodCallPointcut} This pointcut (fluent interface).\n   */\n  after(adviceFn) {\n    this.advices.push(new AfterAdvice(adviceFn));\n    return this;\n  }\n\n  /**\n   * Register an around advice for this pointcut.\n   *\n   * @param {Function} adviceFn The advice function. A higher-order function which will receive the \"proceed\"\n   *                            function as parameter and which MUST return a function which will receive the parameters\n   *                            of the underlying proxied method.\n   *                            If the advice function proceeds by calling the \"proceed\" function, the callback given to \"proceed\" will receive\n   *                            the return value to return to the caller or may return another value\n   *                            instead of the current return value.\n   * @return {MethodCallPointcut} This pointcut (fluent interface).\n   */\n  around(adviceFn) {\n    this.advices.push(new AroundAdvice(adviceFn));\n    return this;\n  }\n}\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport Pointcut from \"./Pointcut\";\nimport BeforeAdvice from \"../advices/BeforeAdvice\";\nimport AfterAdvice from \"../advices/AfterAdvice\";\nimport AroundAdvice from \"../advices/AroundAdvice\";\n\nexport default class ObjectConstructionPointcut extends Pointcut {\n  /**\n   * Register a before advice for this pointcut.\n   *\n   * @param {Function} adviceFn The advice function. A function which receives the constructor parameters\n   *                            of the underlying proxied object construction.\n   * @return {ObjectConstructionPointcut} This pointcut (fluent interface).\n   */\n  before(adviceFn) {\n    this.advices.push(new BeforeAdvice(adviceFn));\n    return this;\n  }\n\n  /**\n   * Register an after advice for this pointcut.\n   *\n   * @param {Function} adviceFn The advice function. A higher-order function which will receive\n   *                            the parameters of the proxied object construction and MUST return a function\n   *                            which will receive the instance object created by the underlying proxied\n   *                            object construction.\n   * @return {ObjectConstructionPointcut} This pointcut (fluent interface).\n   */\n  after(adviceFn) {\n    this.advices.push(new AfterAdvice(adviceFn));\n    return this;\n  }\n\n  /**\n   * Register an around advice for this pointcut.\n   *\n   * @param {Function} adviceFn The advice function. A higher-order function which will receive the \"proceed\"\n   *                            function as parameter and which MUST return a function which will receive the constructor parameters\n   *                            of the underlying object construction.\n   *                            If the advice function proceeds, the callback given to \"proceed\" will receive\n   *                            the instance object to return to the caller or may return another instance\n   *                            instead of the current one.\n   * @return {ObjectConstructionPointcut} This pointcut (fluent interface).\n   */\n  around(adviceFn) {\n    this.advices.push(new AroundAdvice(adviceFn));\n    return this;\n  }\n}\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nexport default class Pointcut {\n  advices = [];\n}\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport Pointcut from \"./Pointcut\";\nimport BeforeAdvice from \"../advices/BeforeAdvice\";\nimport AfterAdvice from \"../advices/AfterAdvice\";\nimport AroundAdvice from \"../advices/AroundAdvice\";\n\nexport default class PropertyGettingPointcut extends Pointcut {\n  /**\n   * Register a before advice for this pointcut.\n   *\n   * @param {Function} adviceFn The advice function. A function to execute before getting a property.\n   * @return {PropertyGettingPointcut} This pointcut (fluent interface).\n   */\n  before(adviceFn) {\n    this.advices.push(new BeforeAdvice(adviceFn));\n    return this;\n  }\n\n  /**\n   * Register an after advice for this pointcut.\n   *\n   * @param {Function} adviceFn The advice function.\n   *                            A function which will receive the current value of the property.\n   * @return {PropertyGettingPointcut} This pointcut (fluent interface).\n   */\n  after(adviceFn) {\n    this.advices.push(new AfterAdvice(adviceFn));\n    return this;\n  }\n\n  /**\n   * Register an around advice for this pointcut.\n   *\n   * @param {Function} adviceFn The advice function. A higher-order function which will receive the \"proceed\"\n   *                            function as parameter and which MUST return a function to execute before getting a property.\n   *                            If the advice function proceeds, the callback given to \"proceed\" will receive\n   *                            the value of the property to return to the caller or may return another value\n   *                            to return to the caller instead of the one passed as argument.\n   * @return {PropertyGettingPointcut} This pointcut (fluent interface).\n   */\n  around(adviceFn) {\n    this.advices.push(new AroundAdvice(adviceFn));\n    return this;\n  }\n}\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport Pointcut from \"./Pointcut\";\nimport BeforeAdvice from \"../advices/BeforeAdvice\";\nimport AfterAdvice from \"../advices/AfterAdvice\";\nimport AroundAdvice from \"../advices/AroundAdvice\";\n\nexport default class PropertySettingPointcut extends Pointcut {\n  /**\n   * Register a before advice for this pointcut.\n   *\n   * @param {Function} adviceFn The advice function. A function to execute before setting a property\n   *                            which will receive the previous property value.\n   * @return {PropertySettingPointcut} This pointcut (fluent interface).\n   */\n  before(adviceFn) {\n    this.advices.push(new BeforeAdvice(adviceFn));\n    return this;\n  }\n\n  /**\n   * Register an after advice for this pointcut.\n   *\n   * @param {Function} adviceFn The advice function. A higher-order function which will receive\n   *                            the previous value of the property and MUST return a new function\n   *                            which will receive the new property value set on the object's property.\n   * @return {PropertySettingPointcut} This pointcut (fluent interface).\n   */\n  after(adviceFn) {\n    this.advices.push(new AfterAdvice(adviceFn));\n    return this;\n  }\n\n  /**\n   * Register an around advice for this pointcut.\n   *\n   * @param {Function} adviceFn The advice function. A higher-order function which will receive the \"proceed\"\n   *                            function as parameter and which MUST return a function which will receive the previous value of the property.\n   *                            If the advice function proceeds, the callback given to \"proceed\" will receive\n   *                            the new value of the property to return in order to set it on the object\n   *                            or may return another value to set it on the object's property.\n   * @return {PropertySettingPointcut} This pointcut (fluent interface).\n   */\n  around(adviceFn) {\n    this.advices.push(new AroundAdvice(adviceFn));\n    return this;\n  }\n}\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport FunctionCallPointcut from \"../FunctionCallPointcut\";\n\n/**\n * Returns a new function call pointcut.\n *\n * @return {FunctionCallPointcut} A function call pointcut.\n */\nexport default function apply() {\n  return new FunctionCallPointcut();\n}\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport MethodCallPointcut from \"../MethodCallPointcut\";\n\n/**\n * Returns a new method call pointcut.\n *\n * @return {MethodCallPointcut} A method call pointcut.\n */\nexport default function call() {\n  return new MethodCallPointcut();\n}\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport ObjectConstructionPointcut from \"../ObjectConstructionPointcut\";\n\n/**\n * Returns a new object construction pointcut.\n *\n * @return {ObjectConstructionPointcut} An object construction pointcut.\n */\nexport default function construct() {\n  return new ObjectConstructionPointcut();\n}\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport PropertyGettingPointcut from \"../PropertyGettingPointcut\";\n\n/**\n * Returns a new property getting pointcut.\n *\n * @return {PropertyGettingPointcut} A property getting pointcut.\n */\nexport default function get() {\n  return new PropertyGettingPointcut();\n}\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport PropertySettingPointcut from \"../PropertySettingPointcut\";\n\n/**\n * Returns a new property setting pointcut.\n *\n * @return {PropertySettingPointcut} A property setting pointcut.\n */\nexport default function set() {\n  return new PropertySettingPointcut();\n}\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport Rule from \"./Rule\";\n\nexport default class ExactRule extends Rule {\n  constructor(property) {\n    super();\n    this.property = property;\n  }\n\n  matches(effectiveProperty) {\n    return this.property === effectiveProperty;\n  }\n}\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport Rule from \"./Rule\";\n\nexport default class ORedRule extends Rule {\n  constructor(rules) {\n    super();\n    this.rules = rules;\n  }\n\n  matches(effectivePropertyName) {\n    for (const rule of this.rules) {\n      if (rule.matches(effectivePropertyName)) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport Rule from \"./Rule\";\n\nexport default class RegexRule extends Rule {\n  constructor(regex) {\n    super();\n    // This line prevents interference with the statefulness of the RegExp object.\n    this.regex = new RegExp(regex);\n  }\n\n  matches(effectivePropertyName) {\n    // This line resets the state of the RegExp object.\n    this.regex.lastIndex = 0;\n    return (\n      typeof effectivePropertyName !== \"symbol\" &&\n      this.regex.test(effectivePropertyName)\n    );\n  }\n}\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nexport default class Rule {}\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * @type {Symbol}\n */\nconst applyRule = Symbol(\"applyRule\");\nexport default applyRule;\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * @type {Symbol}\n */\nconst constructRule = Symbol(\"constructRule\");\nexport default constructRule;\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport declarativeFactory from \"declarative-factory\";\nimport { isArray } from \"js-utl\";\nimport ORedRule from \"../ORedRule\";\nimport RegexRule from \"../RegexRule\";\nimport ExactRule from \"../ExactRule\";\n\nconst REGEX_STRING_TOKEN = \"/\";\n\nconst regexRule = regex => new RegexRule(regex);\n\nconst exactRule = property => new ExactRule(property);\n\nconst parseSingle = ruleToParse => {\n  let factoryParam = ruleToParse;\n  const factory = declarativeFactory([\n    [() => ruleToParse instanceof RegExp, regexRule],\n    [\n      () => {\n        if (typeof ruleToParse !== \"string\") {\n          return false;\n        }\n        const initialRegexStringToken = ruleToParse.indexOf(REGEX_STRING_TOKEN);\n        const lastRegexStringToken = ruleToParse.lastIndexOf(\n          REGEX_STRING_TOKEN\n        );\n        if (initialRegexStringToken === 0 && lastRegexStringToken > 0) {\n          const stringLiteralRegex = ruleToParse.substring(\n            1,\n            lastRegexStringToken\n          );\n          const flags =\n            ruleToParse.substring(lastRegexStringToken + 1) || void 0;\n          factoryParam = new RegExp(stringLiteralRegex, flags);\n          return true;\n        }\n        return false;\n      },\n      regexRule\n    ],\n    exactRule\n  ]);\n  return factory(factoryParam);\n};\n\nconst parseMultiple = rulesToParse => {\n  const rules = [];\n  for (const ruleToParse of rulesToParse) {\n    const rule = parseSingle(ruleToParse);\n    rules.push(rule);\n  }\n  return new ORedRule(rules);\n};\n\nexport default function parseRule(rule) {\n  const parse = declarativeFactory([\n    [isArray(rule), parseMultiple],\n    parseSingle\n  ]);\n  return parse(rule);\n}\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport declarativeFactory from \"declarative-factory\";\nimport { isArray } from \"js-utl\";\n\nconst objectRulesGenerator = function*(proxyRules) {\n  const ruleKeys = Reflect.ownKeys(proxyRules);\n  for (const ruleKey of ruleKeys) {\n    const pointcut = proxyRules[ruleKey];\n    yield { rule: ruleKey, pointcut };\n  }\n};\n\nconst arrayRulesGenerator = function*(proxyRules) {\n  for (const proxyRule of proxyRules) {\n    if (isArray(proxyRule)) {\n      // Tuple.\n      const [rule, pointcut] = proxyRule;\n      yield { rule, pointcut };\n    } else {\n      // Object.\n      yield* objectRulesGenerator(proxyRule);\n    }\n  }\n};\n\n/**\n * A generator for proxy rules.\n *\n * @param {Object|Array} proxyRules An array of proxy rules or object with rules as keys.\n * @yields {Object} The next rule object, having two keys:\n *\n *                      - rule: The rule, as-is (as given by the client code);\n *                      - pointcut: The pointcut associated with that rule.\n *\n */\nexport default function* rulesGenerator(proxyRules) {\n  const generator = declarativeFactory([\n    [isArray(proxyRules), arrayRulesGenerator],\n    objectRulesGenerator\n  ]);\n  yield* generator(proxyRules);\n}\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport declarativeFactory from \"declarative-factory\";\nimport MethodCallPointcut from \"../pointcuts/MethodCallPointcut\";\nimport PropertyGettingPointcut from \"../pointcuts/PropertyGettingPointcut\";\nimport PropertySettingPointcut from \"../pointcuts/PropertySettingPointcut\";\nimport FunctionCallPointcut from \"../pointcuts/FunctionCallPointcut\";\nimport ObjectConstructionPointcut from \"../pointcuts/ObjectConstructionPointcut\";\nimport ExactRule from \"../rules/ExactRule\";\nimport applyRule from \"../rules/applyRule\";\nimport constructRule from \"../rules/constructRule\";\nimport apply from \"../pointcuts/shorthands/apply\";\nimport construct from \"../pointcuts/shorthands/construct\";\nimport BeforeAdvice from \"../advices/BeforeAdvice\";\nimport AroundAdvice from \"../advices/AroundAdvice\";\nimport CallTrapExecutor from \"./executors/CallTrapExecutor\";\nimport GetTrapExecutor from \"./executors/GetTrapExecutor\";\nimport SetTrapExecutor from \"./executors/SetTrapExecutor\";\nimport ApplyTrapExecutor from \"./executors/ApplyTrapExecutor\";\nimport ConstructTrapExecutor from \"./executors/ConstructTrapExecutor\";\nimport { isUndefined } from \"js-utl\";\n\nexport default class Trap {\n  advices = {\n    // Requires matching (get trap). Requires distribution.\n    call: [],\n\n    // Requires matching (get trap). Requires distribution.\n    get: [],\n\n    // Requires matching (set trap). Requires distribution.\n    set: [],\n\n    // Does not require matching (apply trap). Requires distribution.\n    apply: [],\n\n    // Does not require matching (construct trap). Requires distribution.\n    construct: []\n  };\n\n  distributedAdvices = {\n    call: { before: void 0, around: void 0, after: void 0 },\n    get: { before: void 0, around: void 0, after: void 0 },\n    set: { before: void 0, around: void 0, after: void 0 },\n    apply: { before: void 0, around: void 0, after: void 0 },\n    construct: { before: void 0, around: void 0, after: void 0 }\n  };\n\n  matchedDistributedAdvices = {\n    call: new Map(),\n    get: new Map(),\n    set: new Map()\n  };\n\n  trapExecutors = {\n    call: new CallTrapExecutor(),\n    get: new GetTrapExecutor(),\n    set: new SetTrapExecutor(),\n    apply: new ApplyTrapExecutor(),\n    construct: new ConstructTrapExecutor()\n  };\n\n  /**\n   * @private\n   */\n  hasAtLeastOneAdviceOfPointcutType(pointcutType) {\n    return !!this.advices[pointcutType].length;\n  }\n\n  /**\n   * @private\n   */\n  addAdvices(pointcutType, rule, advices = []) {\n    advices.map(advice =>\n      this.advices[pointcutType].push({\n        rule,\n        advice\n      })\n    );\n  }\n\n  /**\n   * @private\n   */\n  lazilyDistributeAdvices(pointcutType) {\n    if (isUndefined(this.distributedAdvices[pointcutType].before)) {\n      this.distributedAdvices[pointcutType].before = [];\n      this.distributedAdvices[pointcutType].around = [];\n      this.distributedAdvices[pointcutType].after = [];\n      for (const { rule, advice } of this.advices[pointcutType]) {\n        const subKey = declarativeFactory([\n          [() => advice instanceof BeforeAdvice, \"before\"],\n          [() => advice instanceof AroundAdvice, \"around\"],\n          \"after\"\n        ]);\n        this.distributedAdvices[pointcutType][subKey].push({ rule, advice });\n      }\n    }\n  }\n\n  /**\n   * For \"call\", \"get\" and \"set\" advices.\n   *\n   * @private\n   */\n  lazilyMatchAdvices(pointcutType, property) {\n    this.lazilyDistributeAdvices(pointcutType);\n    const map = this.matchedDistributedAdvices[pointcutType];\n    if (!map.has(property)) {\n      const node = {\n        before: [],\n        around: [],\n        after: []\n      };\n      map.set(property, node);\n      const beforeAdvices = this.distributedAdvices[pointcutType].before;\n      const aroundAdvices = this.distributedAdvices[pointcutType].around;\n      const afterAdvices = this.distributedAdvices[pointcutType].after;\n      const match = advices => key => {\n        for (const { rule, advice } of advices) {\n          const matches = rule.matches(property);\n          if (matches) {\n            node[key].push({ rule, advice });\n          }\n        }\n      };\n      match(beforeAdvices)(\"before\");\n      match(aroundAdvices)(\"around\");\n      match(afterAdvices)(\"after\");\n    }\n  }\n\n  /**\n   * Adds a pointcut and its associated rule to this trap.\n   * If a pointcut is of an unknown type, it will be ignored.\n   *\n   * @param {Pointcut|Function} pointcut The pointcut or a function (for implicit apply and construct pointcuts).\n   * @param {Rule} rule The rule.\n   * @return {Trap} This trap object.\n   */\n  addPointcutRule(pointcut, rule) {\n    const isImplicitBeforeAdvice = () =>\n      typeof pointcut === \"function\" && rule instanceof ExactRule;\n    const pointcutType = declarativeFactory([\n      [() => pointcut instanceof MethodCallPointcut, \"call\"],\n      [() => pointcut instanceof PropertyGettingPointcut, \"get\"],\n      [() => pointcut instanceof PropertySettingPointcut, \"set\"],\n      [\n        () => {\n          const isImplicit =\n            isImplicitBeforeAdvice() && rule.property === applyRule;\n          if (isImplicit || pointcut instanceof FunctionCallPointcut) {\n            if (isImplicit) {\n              pointcut = apply().before(pointcut);\n            }\n            return true;\n          }\n          return false;\n        },\n        \"apply\"\n      ],\n      [\n        () => {\n          const isImplicit =\n            isImplicitBeforeAdvice() && rule.property === constructRule;\n          if (isImplicit || pointcut instanceof ObjectConstructionPointcut) {\n            if (isImplicit) {\n              pointcut = construct().before(pointcut);\n            }\n            return true;\n          }\n          return false;\n        },\n        \"construct\"\n      ]\n    ]);\n    if (pointcutType) {\n      const { advices } = pointcut;\n      this.addAdvices(pointcutType, rule, advices);\n    }\n    return this;\n  }\n\n  hasGets() {\n    return (\n      this.hasAtLeastOneAdviceOfPointcutType(\"call\") ||\n      this.hasAtLeastOneAdviceOfPointcutType(\"get\")\n    );\n  }\n\n  hasSets() {\n    return this.hasAtLeastOneAdviceOfPointcutType(\"set\");\n  }\n\n  hasApplies() {\n    return this.hasAtLeastOneAdviceOfPointcutType(\"apply\");\n  }\n\n  hasConstructs() {\n    return this.hasAtLeastOneAdviceOfPointcutType(\"construct\");\n  }\n\n  get(target, property, receiver) {\n    // Method call and property access (getting) advices.\n    this.lazilyMatchAdvices(\"get\", property);\n    this.lazilyMatchAdvices(\"call\", property);\n    const {\n      before: getBefore,\n      around: getAround,\n      after: getAfter\n    } = this.matchedDistributedAdvices.get.get(property);\n    const propertyValue = this.trapExecutors.get.execute(\n      [target, property, receiver],\n      getBefore,\n      getAround,\n      getAfter\n    );\n\n    const {\n      before: callBefore,\n      around: callAround,\n      after: callAfter\n    } = this.matchedDistributedAdvices.call.get(property);\n    const returnValue = this.trapExecutors.call.execute(\n      [target, property, receiver, propertyValue],\n      callBefore,\n      callAround,\n      callAfter\n    );\n\n    return returnValue;\n  }\n\n  set(target, property, value, receiver) {\n    // Property access (setting) advices.\n    this.lazilyMatchAdvices(\"set\", property);\n    const { before, around, after } = this.matchedDistributedAdvices.set.get(\n      property\n    );\n    return this.trapExecutors.set.execute(\n      [target, property, value, receiver],\n      before,\n      around,\n      after\n    );\n  }\n\n  apply(target, thisArg, argumentsList) {\n    // Function call advices.\n    this.lazilyDistributeAdvices(\"apply\");\n    const { before, around, after } = this.distributedAdvices.apply;\n    return this.trapExecutors.apply.execute(\n      [target, thisArg, argumentsList],\n      before,\n      around,\n      after\n    );\n  }\n\n  construct(target, argumentsList, newTarget) {\n    // Object construction via the \"new\" keyword advices.\n    this.lazilyDistributeAdvices(\"construct\");\n    const { before, around, after } = this.distributedAdvices.construct;\n    return this.trapExecutors.construct.execute(\n      [target, argumentsList, newTarget],\n      before,\n      around,\n      after\n    );\n  }\n}\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport TrapExecutor from \"./TrapExecutor\";\nimport reflectApply from \"../reflect/reflectApply\";\nimport { withFunctionTrapExecutor } from \"./behaviours/withFunctionTrapExecutor\";\n\nexport default withFunctionTrapExecutor(\n  class ApplyTrapExecutor extends TrapExecutor {\n    getTrapArgsArgumentsListIndex() {\n      return 2;\n    }\n\n    executeBeforeAdvice([target, thisArg, argumentsList], advice, rule) {\n      const context = {\n        target,\n        thisArg,\n        rule,\n      };\n      advice.fn.apply(context, argumentsList);\n    }\n\n    executeAroundAdvice(\n      [target, thisArg, argumentsList],\n      advice,\n      rule,\n      proceed\n    ) {\n      const context = {\n        target,\n        thisArg,\n        rule,\n      };\n      return advice.fn.call(context, proceed).apply(context, argumentsList);\n    }\n\n    executeAfterAdvice(\n      [target, thisArg, argumentsList],\n      advice,\n      rule,\n      returnValue\n    ) {\n      const context = {\n        target,\n        thisArg,\n        rule,\n      };\n      advice.fn.call(context, ...argumentsList).apply(context, [returnValue]);\n    }\n\n    performUnderlyingOperation([target, thisArg, argumentsList]) {\n      const returnValue = reflectApply(target, thisArg, argumentsList);\n      return returnValue;\n    }\n\n    executeProceedCallback(\n      [target, thisArg, argumentsList],\n      rule,\n      returnValue,\n      callback\n    ) {\n      const context = {\n        target,\n        thisArg,\n        rule,\n        argumentsList,\n      };\n      return callback.apply(context, [returnValue]);\n    }\n  }\n);\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport TrapExecutor from \"./TrapExecutor\";\nimport { withFunctionTrapExecutor } from \"./behaviours/withFunctionTrapExecutor\";\nimport { isEmpty } from \"js-utl\";\n\nexport default withFunctionTrapExecutor(\n  class CallTrapExecutor extends TrapExecutor {\n    getTrapArgsArgumentsListIndex() {\n      return 4;\n    }\n\n    execute(\n      [target, property, receiver, propertyValue],\n      before,\n      around,\n      after\n    ) {\n      if (\n        typeof propertyValue === \"function\" &&\n        [before, around, after].some(advices => !isEmpty(advices))\n      ) {\n        const superExecute = trapArgs => {\n          return super.execute(trapArgs, before, around, after);\n        };\n        const wrapperFn = function (...args) {\n          let boundThis;\n          if (this !== receiver) {\n            boundThis = this;\n          } else {\n            boundThis = target;\n          }\n          propertyValue = propertyValue.bind(boundThis);\n          const trapArgs = [target, property, receiver, propertyValue, args];\n          return superExecute(trapArgs);\n        };\n        return wrapperFn;\n      }\n      return propertyValue;\n    }\n\n    executeBeforeAdvice(\n      [target, property, receiver, , argumentsList],\n      advice,\n      rule\n    ) {\n      const context = {\n        target,\n        property,\n        receiver,\n        rule,\n      };\n      advice.fn.apply(context, argumentsList);\n    }\n\n    executeAroundAdvice(\n      [target, property, receiver, , argumentsList],\n      advice,\n      rule,\n      proceed\n    ) {\n      const context = {\n        target,\n        property,\n        receiver,\n        rule,\n      };\n      return advice.fn.call(context, proceed).apply(context, argumentsList);\n    }\n\n    executeAfterAdvice(\n      [target, property, receiver, , argumentsList],\n      advice,\n      rule,\n      returnValue\n    ) {\n      const context = {\n        target,\n        property,\n        receiver,\n        rule,\n      };\n      advice.fn.call(context, ...argumentsList).apply(context, [returnValue]);\n    }\n\n    performUnderlyingOperation([, , , originalFn, argumentsList]) {\n      const returnValue = originalFn(...argumentsList);\n      return returnValue;\n    }\n\n    executeProceedCallback(\n      [target, property, receiver, , argumentsList],\n      rule,\n      returnValue,\n      callback\n    ) {\n      const context = {\n        target,\n        property,\n        receiver,\n        rule,\n        argumentsList,\n      };\n      return callback.apply(context, [returnValue]);\n    }\n  }\n);\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport TrapExecutor from \"./TrapExecutor\";\nimport reflectConstruct from \"../reflect/reflectConstruct\";\nimport { withFunctionTrapExecutor } from \"./behaviours/withFunctionTrapExecutor\";\n\nexport default withFunctionTrapExecutor(\n  class ConstructTrapExecutor extends TrapExecutor {\n    getTrapArgsArgumentsListIndex() {\n      return 1;\n    }\n\n    executeBeforeAdvice([target, argumentsList, newTarget], advice, rule) {\n      const context = {\n        target,\n        newTarget,\n        rule,\n      };\n      advice.fn.apply(context, argumentsList);\n    }\n\n    executeAroundAdvice(\n      [target, argumentsList, newTarget],\n      advice,\n      rule,\n      proceed\n    ) {\n      const context = {\n        target,\n        newTarget,\n        rule,\n      };\n      return advice.fn.call(context, proceed).apply(context, argumentsList);\n    }\n\n    executeAfterAdvice(\n      [target, argumentsList, newTarget],\n      advice,\n      rule,\n      instance\n    ) {\n      const context = {\n        target,\n        newTarget,\n        rule,\n      };\n      advice.fn.call(context, ...argumentsList).apply(context, [instance]);\n    }\n\n    performUnderlyingOperation([target, argumentsList, newTarget]) {\n      const instance = reflectConstruct(target, argumentsList, newTarget);\n      return instance;\n    }\n\n    executeProceedCallback(\n      [target, argumentsList, newTarget],\n      rule,\n      instance,\n      callback\n    ) {\n      const context = {\n        target,\n        newTarget,\n        rule,\n        argumentsList,\n      };\n      return callback.apply(context, [instance]);\n    }\n  }\n);\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport TrapExecutor from \"./TrapExecutor\";\nimport reflectGet from \"../reflect/reflectGet\";\n\nexport default class GetTrapExecutor extends TrapExecutor {\n  executeBeforeAdvice([target, property, receiver], advice, rule) {\n    const context = {\n      target,\n      property,\n      receiver,\n      rule\n    };\n    advice.fn.apply(context);\n  }\n\n  executeAroundAdvice([target, property, receiver], advice, rule, proceed) {\n    const context = {\n      target,\n      property,\n      receiver,\n      rule\n    };\n    return advice.fn.apply(context, [proceed]);\n  }\n\n  executeAfterAdvice(\n    [target, property, receiver],\n    advice,\n    rule,\n    propertyValue\n  ) {\n    const context = {\n      target,\n      property,\n      receiver,\n      rule\n    };\n    advice.fn.apply(context, [propertyValue]);\n  }\n\n  performUnderlyingOperation([target, property, receiver]) {\n    const propertyValue = reflectGet(target, property, receiver);\n    return propertyValue;\n  }\n\n  executeProceedCallback(\n    [target, property, receiver],\n    rule,\n    propertyValue,\n    callback\n  ) {\n    const context = {\n      target,\n      property,\n      receiver,\n      rule\n    };\n    return callback.apply(context, [propertyValue]);\n  }\n}\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport TrapExecutor from \"./TrapExecutor\";\nimport reflectSet from \"../reflect/reflectSet\";\nimport reflectGet from \"../reflect/reflectGet\";\n\nexport default class SetTrapExecutor extends TrapExecutor {\n  previousPropertyValueMap = {};\n  returnNewPropertyValueMap = {};\n  updateWasSuccessfulMap = {};\n\n  startExecutionContext([target, property, , receiver]) {\n    if (\n      !Object.prototype.hasOwnProperty.call(\n        this.previousPropertyValueMap,\n        this.execContextID\n      )\n    ) {\n      const previousPropertyValue = reflectGet(target, property, receiver);\n      this.previousPropertyValueMap[this.execContextID] = previousPropertyValue;\n      this.returnNewPropertyValueMap[this.execContextID] = void 0;\n      this.updateWasSuccessfulMap[this.execContextID] = false;\n    }\n  }\n\n  endExecutionContext([, , ,]) {\n    delete this.previousPropertyValueMap[this.execContextID];\n    delete this.returnNewPropertyValueMap[this.execContextID];\n    delete this.updateWasSuccessfulMap[this.execContextID];\n  }\n\n  executeBeforeAdvice([target, property, value, receiver], advice, rule) {\n    const previousPropertyValue = this.previousPropertyValueMap[\n      this.execContextID\n    ];\n    const context = {\n      target,\n      property,\n      value,\n      receiver,\n      rule,\n    };\n    advice.fn.apply(context, [previousPropertyValue]);\n  }\n\n  executeAroundAdvice(\n    [target, property, value, receiver],\n    advice,\n    rule,\n    proceed\n  ) {\n    const previousPropertyValue = this.previousPropertyValueMap[\n      this.execContextID\n    ];\n    const context = {\n      target,\n      property,\n      value,\n      receiver,\n      rule,\n    };\n    return advice.fn\n      .call(context, proceed)\n      .apply(context, [previousPropertyValue]);\n  }\n\n  executeAfterAdvice(\n    [target, property, value, receiver],\n    advice,\n    rule,\n    updateWasSuccessful\n  ) {\n    const previousPropertyValue = this.previousPropertyValueMap[\n      this.execContextID\n    ];\n    const newPropertyValue = this.returnNewPropertyValueMap[this.execContextID];\n    const context = {\n      target,\n      property,\n      value,\n      receiver,\n      rule,\n      updateWasSuccessful,\n    };\n    advice.fn\n      .call(context, previousPropertyValue)\n      .apply(context, [newPropertyValue]);\n  }\n\n  performUnderlyingOperation([target, property, value, receiver]) {\n    const updateWasSuccessful = reflectSet(target, property, value, receiver);\n    this.updateWasSuccessfulMap[this.execContextID] = updateWasSuccessful;\n    this.returnNewPropertyValueMap[this.execContextID] = value;\n    return value;\n  }\n\n  executeProceedCallback(\n    [target, property, value, receiver],\n    rule,\n    newPropertyValue,\n    callback\n  ) {\n    const context = {\n      target,\n      property,\n      value,\n      receiver,\n      rule,\n    };\n    const returnValue = callback.apply(context, [newPropertyValue]);\n    return returnValue;\n  }\n\n  return([target, property, , receiver], returnValue) {\n    if (returnValue !== this.returnNewPropertyValueMap[this.execContextID]) {\n      this.performUnderlyingOperation([\n        target,\n        property,\n        returnValue,\n        receiver,\n      ]);\n    }\n    return this.updateWasSuccessfulMap[this.execContextID];\n  }\n}\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { isArray } from \"js-utl\";\n\n/**\n * @type {Symbol}\n */\nconst noReturnValue = Symbol(\"noReturnValue\");\n\nexport default class TrapExecutor {\n  execContextStack = [];\n  execContextID = -1;\n\n  execute(trapArgs, before, around, after) {\n    this.newExecutionContext();\n    this.setUpExecutionContext(before, around);\n    this.startExecutionContext(trapArgs);\n    this.beforePhase(trapArgs, before);\n    this.aroundPhase(trapArgs, around);\n    const returnValue = this.proceedPhase(trapArgs);\n    this.afterPhase(trapArgs, after, returnValue);\n    this.endExecutionContext(trapArgs);\n    this.cleanUpExecutionContext();\n    return returnValue;\n  }\n\n  /**\n   * @private\n   */\n  newExecutionContext() {\n    const context = {\n      proceeds: [],\n      hasAtLeastOneAroundAdvice: false,\n      hasAtLeastOneBeforeAdvice: false,\n      returnValue: noReturnValue\n    };\n    this.execContextStack.push(context);\n    this.execContextID++;\n  }\n\n  /**\n   * @private\n   */\n  setUpExecutionContext(before, around) {\n    this.execContextStack[\n      this.execContextID\n    ].hasAtLeastOneBeforeAdvice = !!before.length;\n    this.execContextStack[\n      this.execContextID\n    ].hasAtLeastOneAroundAdvice = !!around.length;\n  }\n\n  /* eslint-disable no-unused-vars, @typescript-eslint/no-empty-function */\n  startExecutionContext(trapArgs) {}\n  /* eslint-enable no-unused-vars, @typescript-eslint/no-empty-function */\n\n  /* eslint-disable no-unused-vars, @typescript-eslint/no-empty-function */\n  endExecutionContext(trapArgs) {}\n  /* eslint-enable no-unused-vars, @typescript-eslint/no-empty-function */\n\n  /**\n   * @private\n   */\n  cleanUpExecutionContext() {\n    this.execContextStack.pop();\n    this.execContextID--;\n  }\n\n  /**\n   * @private\n   */\n  unsupportedMultipleProceeds(advice, rule) {\n    // eslint-disable-next-line no-console\n    console.error(\n      \"pigretto - Multiple proceeds for the same advice are not supported, subsequent proceed has been ignored.\",\n      \"\\n\\tadvice: \",\n      advice,\n      \"\\n\\trule: \",\n      rule\n    );\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  executeBeforeAdvice(trapArgs, advice, rule) {\n    throw new Error(\n      `pigretto - ${this.constructor.name} trap executor does not implement \"executeBeforeAdvice\".`\n    );\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  executeAroundAdvice(trapArgs, advice, rule, proceed) {\n    throw new Error(\n      `pigretto - ${this.constructor.name} trap executor does not implement \"executeAroundAdvice\".`\n    );\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  executeAfterAdvice(trapArgs, advice, rule, returnValue) {\n    throw new Error(\n      `pigretto - ${this.constructor.name} trap executor does not implement \"executeAfterAdvice\".`\n    );\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  performUnderlyingOperation(trapArgs) {\n    throw new Error(\n      `pigretto - ${this.constructor.name} trap executor does not implement \"performUnderlyingOperation\".`\n    );\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  executeProceedCallback(trapArgs, rule, returnValue, callback) {\n    throw new Error(\n      `pigretto - ${this.constructor.name} trap executor does not implement \"executeProceedCallback\".`\n    );\n  }\n\n  /**\n   * @private\n   */\n  beforePhase(trapArgs, before) {\n    for (const { rule, advice } of before) {\n      this.executeBefore(trapArgs, advice, rule);\n    }\n  }\n\n  /**\n   * @private\n   */\n  executeBefore(trapArgs, advice, rule) {\n    this.executeBeforeAdvice(trapArgs, advice, rule);\n  }\n\n  /**\n   * @private\n   */\n  aroundPhase(trapArgs, around) {\n    for (const { rule, advice } of around) {\n      this.executeAround(trapArgs, advice, rule);\n      if (\n        this.execContextStack[this.execContextID].returnValue !== noReturnValue\n      ) {\n        break;\n      }\n    }\n  }\n\n  /**\n   * @private\n   */\n  executeAround(trapArgs, advice, rule) {\n    let hasProceeded = false;\n    const proceed = (params = void 0, fn = void 0) => {\n      if (hasProceeded) {\n        this.unsupportedMultipleProceeds(advice, rule);\n        return;\n      }\n      hasProceeded = true;\n      let finalParams = void 0;\n      let finalFn = void 0;\n      if (isArray(params)) {\n        finalParams = params;\n        finalFn = typeof fn === \"function\" ? fn : void 0;\n      } else if (typeof params === \"function\") {\n        finalFn = params;\n      }\n      this.execContextStack[this.execContextID].proceeds.push({\n        params: finalParams,\n        fn: finalFn,\n        rule\n      });\n    };\n    const returnValue = this.executeAroundAdvice(\n      trapArgs,\n      advice,\n      rule,\n      proceed\n    );\n    if (!hasProceeded) {\n      this.execContextStack[this.execContextID].returnValue = returnValue;\n    }\n  }\n\n  /**\n   * @private\n   */\n  afterPhase(trapArgs, after, returnValue) {\n    for (const { rule, advice } of after) {\n      this.executeAfter(trapArgs, advice, rule, returnValue);\n    }\n  }\n\n  /**\n   * @private\n   */\n  executeAfter(trapArgs, advice, rule, returnValue) {\n    this.executeAfterAdvice(trapArgs, advice, rule, returnValue);\n  }\n\n  /**\n   * @private\n   */\n  proceedPhase(trapArgs) {\n    if (\n      this.execContextStack[this.execContextID].returnValue !== noReturnValue\n    ) {\n      return this.return(\n        trapArgs,\n        this.execContextStack[this.execContextID].returnValue\n      );\n    }\n    let returnValue = this.performUnderlyingOperation(trapArgs);\n    for (const { fn: callback, rule } of this.execContextStack[\n      this.execContextID\n    ].proceeds) {\n      if (typeof callback === \"function\") {\n        returnValue = this.executeProceedCallback(\n          trapArgs,\n          rule,\n          returnValue,\n          callback\n        );\n      }\n    }\n    return this.return(trapArgs, returnValue);\n  }\n\n  return(trapArgs, returnValue) {\n    return returnValue;\n  }\n}\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nexport const throwErrorIfDoesNotImplement = (\n  context,\n  methodName,\n  constructorFn\n) => {\n  if (typeof context[methodName] !== \"function\") {\n    throw new Error(\n      `pigretto - ${constructorFn.name} trap executor does not implement \"${methodName}\".`\n    );\n  }\n};\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { isArray, isUndefined } from \"js-utl\";\nimport { throwErrorIfDoesNotImplement } from \"./common/throwErrorIfDoesNotImplement\";\n\nexport const withFunctionTrapExecutor = superclass => {\n  const NewClass = class extends superclass {\n    executedAtLeastOnce = false;\n    lastProceedWithParamsIndexMap = {};\n    finalTrapArgsMap = {};\n\n    startExecutionContext(trapArgs) {\n      !this.executedAtLeastOnce &&\n        throwErrorIfDoesNotImplement(\n          superclass.prototype,\n          \"startExecutionContext\",\n          superclass\n        );\n      super.startExecutionContext(trapArgs);\n      if (\n        !this.executedAtLeastOnce &&\n        !Object.prototype.hasOwnProperty.call(this, \"execContextID\")\n      ) {\n        throw new Error(\n          `pigretto - ${superclass.name} trap executor does not have \"execContextID\" property.`\n        );\n      }\n      this.lastProceedWithParamsIndexMap[this.execContextID] = -1;\n      this.finalTrapArgsMap[this.execContextID] = void 0;\n    }\n\n    endExecutionContext(trapArgs) {\n      !this.executedAtLeastOnce &&\n        throwErrorIfDoesNotImplement(\n          superclass.prototype,\n          \"endExecutionContext\",\n          superclass\n        );\n      super.endExecutionContext(trapArgs);\n      this.finalTrapArgsMap[this.execContextID] = void 0;\n      this.executedAtLeastOnce = true;\n    }\n\n    getFinalTrapArgs(trapArgs) {\n      !this.executedAtLeastOnce &&\n        throwErrorIfDoesNotImplement(\n          this,\n          \"getTrapArgsArgumentsListIndex\",\n          superclass\n        );\n      const argumentsListIndex = this.getTrapArgsArgumentsListIndex();\n      if (\n        !this.executedAtLeastOnce &&\n        !Object.prototype.hasOwnProperty.call(this, \"execContextStack\")\n      ) {\n        throw new Error(\n          `pigretto - ${superclass.name} trap executor does not have \"execContextStack\" property.`\n        );\n      }\n      const proceedsL = this.execContextStack[this.execContextID].proceeds\n        .length;\n      if (proceedsL) {\n        let hasParamsOverride = false;\n        for (\n          let i = proceedsL - 1;\n          i > this.lastProceedWithParamsIndexMap[this.execContextID];\n          i--\n        ) {\n          const { params } = this.execContextStack[this.execContextID].proceeds[\n            i\n          ];\n          if (isArray(params)) {\n            hasParamsOverride = true;\n            this.lastProceedWithParamsIndexMap[this.execContextID] = i;\n            trapArgs = [...trapArgs];\n            trapArgs[argumentsListIndex] = params;\n            this.finalTrapArgsMap[this.execContextID] = trapArgs;\n            break;\n          }\n        }\n        if (!hasParamsOverride) {\n          this.lastProceedWithParamsIndexMap[this.execContextID] =\n            proceedsL - 1;\n        }\n      }\n      if (!isUndefined(this.finalTrapArgsMap[this.execContextID])) {\n        return this.finalTrapArgsMap[this.execContextID];\n      }\n      return trapArgs;\n    }\n\n    executeAroundAdvice(trapArgs, advice, rule, proceed) {\n      trapArgs = this.getFinalTrapArgs(trapArgs);\n      !this.executedAtLeastOnce &&\n        throwErrorIfDoesNotImplement(\n          superclass.prototype,\n          \"executeAroundAdvice\",\n          superclass\n        );\n      return super.executeAroundAdvice(trapArgs, advice, rule, proceed);\n    }\n\n    executeAfterAdvice(trapArgs, advice, rule, returnValue) {\n      trapArgs = this.getFinalTrapArgs(trapArgs);\n      !this.executedAtLeastOnce &&\n        throwErrorIfDoesNotImplement(\n          superclass.prototype,\n          \"executeAfterAdvice\",\n          superclass\n        );\n      super.executeAfterAdvice(trapArgs, advice, rule, returnValue);\n    }\n\n    performUnderlyingOperation(trapArgs) {\n      trapArgs = this.getFinalTrapArgs(trapArgs);\n      !this.executedAtLeastOnce &&\n        throwErrorIfDoesNotImplement(\n          superclass.prototype,\n          \"performUnderlyingOperation\",\n          superclass\n        );\n      return super.performUnderlyingOperation(trapArgs);\n    }\n\n    executeProceedCallback(trapArgs, rule, returnValue, callback) {\n      trapArgs = this.getFinalTrapArgs(trapArgs);\n      !this.executedAtLeastOnce &&\n        throwErrorIfDoesNotImplement(\n          superclass.prototype,\n          \"executeProceedCallback\",\n          superclass\n        );\n      return super.executeProceedCallback(\n        trapArgs,\n        rule,\n        returnValue,\n        callback\n      );\n    }\n  };\n  Object.defineProperty(NewClass, \"name\", {\n    value: `WithFunctionTrapExecutor(${superclass.name})`,\n    configurable: true,\n  });\n  return NewClass;\n};\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nexport default function reflectApply(target, thisArg, argumentsList) {\n  return Reflect.apply(target, thisArg, argumentsList);\n}\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nexport default function reflectConstruct(target, argumentsList, newTarget) {\n  return newTarget\n    ? Reflect.construct(target, argumentsList, newTarget)\n    : new target(...argumentsList);\n}\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nexport default function reflectGet(target, property, receiver) {\n  return Reflect.get(target, property, receiver);\n}\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nexport default function reflectSet(target, property, value, receiver) {\n  return Reflect.set(target, property, value, receiver);\n}\n","/*\n * Copyright (c) 2020 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport rulesGenerator from \"../rules/rulesGenerator\";\nimport parseRule from \"../rules/parser/parseRule\";\nimport Trap from \"./Trap\";\n\n/**\n * Generates a new trap handler object for the given rules.\n *\n * @param {Object|Array} proxyRules The proxy rules.\n * @return {Object} The new trap handler object for the given rules.\n */\nexport default function trapHandlerForRules(proxyRules) {\n  const trap = new Trap();\n\n  const rules = rulesGenerator(proxyRules);\n  for (const { rule, pointcut } of rules) {\n    const parsedRule = parseRule(rule);\n    trap.addPointcutRule(pointcut, parsedRule);\n  }\n\n  return {\n    ...(trap.hasGets()\n      ? {\n          // Trap for property access (getting) and method call.\n          get(target, property, receiver) {\n            return trap.get(target, property, receiver);\n          }\n        }\n      : {}),\n    ...(trap.hasSets()\n      ? {\n          // Trap for property access (setting).\n          set(target, property, value, receiver) {\n            const updateWasSuccessful = trap.set(\n              target,\n              property,\n              value,\n              receiver\n            );\n            return updateWasSuccessful;\n          }\n        }\n      : {}),\n    ...(trap.hasApplies()\n      ? {\n          // Trap for function call.\n          apply(target, thisArg, argumentsList) {\n            return trap.apply(target, thisArg, argumentsList);\n          }\n        }\n      : {}),\n    ...(trap.hasConstructs()\n      ? {\n          // Trap for object construction with the \"new\" operator.\n          construct(target, argumentsList, newTarget) {\n            return trap.construct(target, argumentsList, newTarget);\n          }\n        }\n      : {})\n  };\n}\n"],"sourceRoot":""}