{"version":3,"file":"index.es.js","sources":["../node_modules/@babel/runtime/helpers/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../node_modules/@babel/runtime/helpers/nonIterableRest.js","../node_modules/@babel/runtime/helpers/slicedToArray.js","../node_modules/@babel/runtime/helpers/typeof.js","../node_modules/@babel/runtime/helpers/defineProperty.js","../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","../node_modules/@babel/runtime/helpers/objectWithoutProperties.js","../node_modules/js-utl/dist/es6/modules/core/compare.js","../node_modules/js-utl/dist/es6/modules/core/index.js","../node_modules/js-utl/dist/es6/modules/fn.js","../node_modules/js-utl/dist/es6/modules/web.js","../node_modules/js-utl/dist/es6/modules/rand.js","../node_modules/js-utl/dist/es6/modules/string.js","../node_modules/js-utl/dist/es6/modules/callback.js","../src/utils/utils.js","../src/utils/index.js","../node_modules/def-promise/dist/es6/index.js","../node_modules/linked-queue/index.js","../src/hooks/usePOJOState.js","../src/hooks/useShallowEqualMemo.js","../src/hooks/useLazyRef.js","../src/hooks/useStateWithEffectCallback.js","../src/hooks/useAwaitableStateWithEffect.js","../src/hooks/usePOJOStateWithEffectCallback.js","../src/hooks/useAwaitablePOJOStateWithEffect.js","../src/hooks/usePrevious.js","../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/iterableToArray.js","../node_modules/@babel/runtime/helpers/nonIterableSpread.js","../node_modules/@babel/runtime/helpers/toConsumableArray.js","../src/hooks/useUpdateEffect.js","../src/hooks/useMountEffect.js","../src/hooks/useCallbackRef.js","../src/hooks/useUnmountEffect.js","../src/hooks/useForceUpdate.js","../src/hooks/useHOFCallback.js","../src/hooks/useFactory.js","../src/hooks/useExtend.js","../src/hooks/useLoopCallback.js","../src/hooks/useWindowRef.js","../src/hooks/useIsUpdate.js","../src/hooks/useCumulativeShallowDiff.js","../src/hooks/useElementSize.js","../src/hooks/useElementHeight.js","../src/hooks/useElementWidth.js","../src/hooks/useArray.js","../src/hooks/useUniqueKey.js","../src/hooks/useDefaultValue.js","../node_modules/declarative-factory/src/index.js","../src/primitives/primitive.js","../src/primitives/visitor.js","../src/primitives/predicates/isPrimitiveOfType.js","../src/hooks/useNestedDataCallback.js","../src/hooks/useNestedData.js","../src/hooks/useMemoCallback.js","../src/hooks/useIsOnline.js","../src/hooks/useClientRect.js","../src/hooks/useSyncRefsCallback.js","../src/hooks/useDetectWrappedChildren.js","../src/hooks/useHashFragmentChange.js","../src/hooks/usePOJOMemoState.js","../src/hooks/useStateWithLayoutEffectCallback.js","../src/hooks/usePOJOStateWithLayoutEffectCallback.js","../src/hooks/useAwaitableStateWithLayoutEffect.js","../src/hooks/useAwaitablePOJOStateWithLayoutEffect.js","../node_modules/@use-it/event-listener/dist/event-listener.m.js","../src/hooks/useDetectScrollable.js","../src/hooks/useKeyRefCallback.js","../src/hooks/index.js","../src/primitives/index.js"],"sourcesContent":["function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableRest = require(\"./nonIterableRest.js\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose.js\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @typechecks\n *\n */\n\n/**\n * @type {Function}\n */\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n/**\n * Function implementing \"Object.is\" behaviour.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n *\n * @param {*} x The first value to compare.\n * @param {*} y The second value to compare.\n * @return {boolean} A boolean indicating whether or not the two arguments are the same value.\n */\n\nexport function is(x, y) {\n  // SameValue algorithm\n  if (x === y) {\n    // Steps 1-5, 7-10\n    // Steps 6.b-6.e: +0 != -0\n    return x !== 0 || 1 / x === 1 / y;\n  } else {\n    // Step 6.a: NaN == NaN\n    return x !== x && y !== y;\n  }\n}\n/**\n * Checks whether a prop of an object equals in the other object (shallow comparison).\n *\n * @param {Object} objA The first object.\n * @param {Object} objB The second object.\n * @param {string} prop The name of the property.\n * @return {boolean} True if the value of \"prop\" in \"objA\" is shallowly equal to the value of \"prop\" in \"objB\".\n */\n\nexport function objectPropEqual(objA, objB, prop) {\n  return hasOwnProperty.call(objB, prop) && is(objA[prop], objB[prop]);\n}\n/**\n * Performs equality by iterating through keys on an object and returning \"false\"\n * when any key has values which are not strictly equal between the arguments.\n * Returns \"true\" when the values of all keys are strictly equal.\n *\n * @see https://stackoverflow.com/questions/22266826/how-can-i-do-a-shallow-comparison-of-the-properties-of-two-objects-with-javascri#answer-37636728\n *\n * @param {*} objA First object.\n * @param {*} objB Second object.\n * @return {boolean}\n */\n\nexport function shallowEqual(objA, objB) {\n  if (is(objA, objB)) {\n    return true;\n  }\n\n  if (typeof objA !== \"object\" || objA === null || typeof objB !== \"object\" || objB === null) {\n    return false;\n  }\n\n  const keysA = Object.keys(objA);\n  const keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  } // Test for A's keys different from B.\n\n\n  for (let i = 0; i < keysA.length; i++) {\n    const prop = keysA[i];\n\n    if (!objectPropEqual(objA, objB, prop)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n//# sourceMappingURL=compare.js.map","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\n * Copyright (c) 2021 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\nimport { shallowEqual, objectPropEqual, is } from \"./compare\";\nexport { shallowEqual, objectPropEqual, is };\n/**\n * Core utility functions.\n */\n\n/**\n * Optional configuration with useful properties.\n *\n * @type {Object}\n */\n\nexport const config = {\n  uniqueIdPrefix: \"\",\n  elementUniqueIdPrefix: \"\",\n  checkNetworkURI: null\n};\n/**\n * Tests if an object is empty.\n *\n * @param {Object} obj The object to test.\n * @return {boolean} \"true\" if the given object is empty (does not have own properties), \"false\" otherwise.\n */\n\nexport function isObjectEmpty(obj) {\n  for (const prop in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n/**\n * @type {string}\n */\n\nconst objPrototypeToString = Object.prototype.toString.call({});\n/**\n * Tests if a variable is an object.\n *\n * @param {*} obj The variable to test.\n * @return {boolean} \"true\" if \"obj\" is indeed an object, \"false\" otherwise.\n */\n\nexport const isObject = function (obj) {\n  return objPrototypeToString === Object.prototype.toString.call(obj);\n};\n/**\n * Tests if a variable is a plain object (i.e. \"{}\", an object literal).\n *\n * @param {*} obj The variable to test.\n * @return {boolean} \"true\" if \"obj\" is a plain object, \"false\" otherwise.\n */\n\nexport const isPlainObject = obj => {\n  return obj !== null && typeof obj === \"object\" && obj.constructor === Object && isObject(obj);\n};\n/**\n * Tests to see whether something is an array or not.\n *\n * @param {*} something A variable to check whether it is an array or not.\n * @return {boolean} True if the parameter passed in is an array, false otherwise.\n */\n\nexport function isArray(something) {\n  return Object.prototype.toString.call(something) === Object.prototype.toString.call([]);\n}\n/**\n * Tests if the given value is callable.\n *\n * @param {*} v The value.\n * @return {boolean} True if callable, false otherwise.\n */\n\nexport function isCallable(v) {\n  return typeof v === \"function\";\n}\n/**\n * Tests if a variable is empty returning true for empty strings and empty arrays.\n *\n * @param {*} data The variable to test.\n * @return {boolean} True if the variable is empty, false otherwise.\n */\n\nexport function isEmpty(data) {\n  return !data || data.length === 0;\n}\n/**\n * Tests if a variable is empty or 0 (\"0\" string) returning true for empty strings,\n * empty arrays, the \"0\" string and empty values.\n *\n * @param {*} data The variable to test.\n * @return {boolean} True if the variable is empty or \"0\", false otherwise.\n */\n\nexport function isEmptyOr0(data) {\n  return !data || data === \"0\" || data.length === 0;\n}\n/**\n * Returns a reference to the global object.\n *\n * @return {Window|global} The global object (this function is cross-platform aware).\n */\n\nexport function getGlobalObject() {\n  return typeof global !== \"undefined\" ? global : window;\n}\n/**\n * @type {string}\n */\n\nconst JSUtlUniqueIdCounterProp = \"JSUtlUniqueIdCounterLEzKKl87QCDxwVH\";\n/**\n * Generates a unique ID which can be used as an \"id\" attribute.\n *\n * @param {string|undefined} [uniqueIdPrefix] Local unique ID prefix which overrides the prefix\n *                                            set on the \"config\" configuration object.\n * @return {string} The unique ID.\n */\n\nexport function uniqueId(uniqueIdPrefix = void 0) {\n  const globalObject = getGlobalObject();\n  globalObject[JSUtlUniqueIdCounterProp] = globalObject[JSUtlUniqueIdCounterProp] || 0;\n  globalObject[JSUtlUniqueIdCounterProp]++;\n  const uniqueIdCounter = globalObject[JSUtlUniqueIdCounterProp];\n  const uniqueId = (uniqueIdPrefix || config.uniqueIdPrefix) + uniqueIdCounter;\n  return uniqueId;\n}\n/**\n * Gets a nested value of an object given an array of nested property names (keys).\n *\n * @param {Object} data JS POJO object.\n * @param {Array} props Array of object nested keys.\n * @return {*} The leaf value.\n */\n\nexport function nestedPropertyValue(data, props) {\n  let root = data;\n\n  for (let i = 0; i < props.length; i++) {\n    const prop = props[i];\n    root = root[prop];\n  }\n\n  return root;\n}\n/**\n * Alias for \"nestedPropertyValue\".\n *\n * @alias\n */\n\nexport const getNestedPropertyValue = nestedPropertyValue;\n/**\n * Checks if a nested value of an object given an array of nested property names (keys) exists.\n *\n * @param {Object} data JS POJO object.\n * @param {Array} props Array of object nested keys.\n * @return {boolean} True if the nested key exists, false otherwise.\n */\n\nexport function hasNestedPropertyValue(data, props) {\n  if (!props.length) {\n    return false;\n  }\n\n  let root = data;\n\n  for (let i = 0; i < props.length; i++) {\n    const prop = props[i];\n\n    if (!root[prop]) {\n      return false;\n    }\n\n    root = root[prop];\n  }\n\n  return true;\n}\n/**\n * Sets a nested value of an object given an array of nested property names (keys).\n *\n * @param {Object} data JS POJO object.\n * @param {Array} props Array of object nested keys.\n * @param {*} value Leaf value.\n * @return {undefined}\n */\n\nexport function setNestedPropertyValue(data, props, value) {\n  if (!props.length) {\n    return;\n  }\n\n  let root = data;\n  let prev = null;\n\n  for (let i = 0; i < props.length; i++) {\n    const prop = props[i];\n\n    if (typeof root[prop] !== \"object\") {\n      root[prop] = {};\n    }\n\n    prev = root;\n    root = root[prop];\n  }\n\n  if (prev) {\n    prev[props[props.length - 1]] = value;\n  }\n}\n/**\n * Sets a nested value on a nested map.\n *\n * @param {Map|WeakMap} map A map or weak map.\n * @param {Array} keys Array of keys to traverse. Each key will lead to a nested map.\n * @param {*} value The value to set at the inner key.\n * @return {undefined}\n */\n\nexport const nestedMapSet = (map, keys, value) => {\n  let i = 0;\n  let current = map;\n\n  while (i < keys.length - 1) {\n    const key = keys[i];\n    const nested = current.get(key);\n\n    if (nested instanceof Map || nested instanceof WeakMap) {\n      current = nested;\n    } else {\n      const newMap = new Map();\n      current.set(key, newMap);\n      current = newMap;\n    }\n\n    i++;\n  }\n\n  current.set(keys[i], value);\n};\n/**\n * Tests if a map has the given nested keys.\n *\n * @param {Map|WeakMap} map A map or weak map.\n * @param {Array} keys Array of keys to check. Each key represents a nested map.\n * @return {boolean} \"true\" if all the nested keys exist, false otherwise.\n */\n\nexport const nestedMapHas = (map, keys) => {\n  let current = map;\n  let i = 0;\n  const l = keys.length;\n\n  while ((current instanceof Map || current instanceof WeakMap) && current.has(keys[i]) && i < l) {\n    current = current.get(keys[i]);\n    i++;\n  }\n\n  return i == l;\n};\n/**\n * Gets a value from a nested map.\n *\n * @param {Map|WeakMap} map A map or weak map.\n * @param {Array} keys Array of keys. Each key represents a nested map.\n * @return {*} The value of the map or \"undefined\" if there is no value for the given nested keys.\n */\n\nexport const nestedMapGet = (map, keys) => {\n  let current = map;\n  let i = 0;\n  const l = keys.length;\n\n  while ((current instanceof Map || current instanceof WeakMap) && current.has(keys[i]) && i < l) {\n    current = current.get(keys[i]);\n    i++;\n  }\n\n  return i == l ? current : void 0;\n};\n/**\n * @type {Symbol}\n */\n\nconst treeMapSubtree = Symbol(\"treeMapSubtree\");\n/**\n * Sets a nested value on a nested tree map.\n *\n * @param {Map|WeakMap} rootMap A map or weak map to use as the root.\n * @param {Array} keys Array of keys to traverse. Each key will lead to a nested node of the tree map.\n * @param {*} value The value to set at the inner nested key.\n * @return {undefined}\n */\n\nexport const nestedTreeMapSet = (rootMap, keys, value) => {\n  let i = 0;\n  let current = rootMap;\n  const MapConstructor = rootMap instanceof WeakMap ? WeakMap : Map;\n\n  while (i < keys.length - 1) {\n    const key = keys[i];\n    const nested = current.get(key);\n\n    if (nested) {\n      current = nested[treeMapSubtree] || (nested[treeMapSubtree] = new MapConstructor());\n    } else {\n      const newMap = new MapConstructor();\n      const node = {\n        [treeMapSubtree]: newMap,\n        value: void 0\n      };\n      current.set(key, node);\n      current = newMap;\n    }\n\n    i++;\n  }\n\n  const key = keys[i];\n  !current.has(key) ? current.set(key, {\n    value\n  }) : current.get(key).value = value;\n};\n/**\n * Tests if a tree map has the given nested keys.\n *\n * @param {Map|WeakMap} rootMap The root of the map or weak map.\n * @param {Array} keys Array of keys to check. Each key represents a nested node of the tree map.\n * @return {boolean} \"true\" if all the nested keys exist, false otherwise.\n */\n\nexport const nestedTreeMapHas = (rootMap, keys) => {\n  let current = rootMap;\n  let i = 0;\n  const l = keys.length;\n\n  while ((current instanceof Map || current instanceof WeakMap) && current.has(keys[i]) && i < l) {\n    current = current.get(keys[i])[treeMapSubtree];\n    i++;\n  }\n\n  return i == l;\n};\n/**\n * Gets a value from a nested tree map.\n *\n * @param {Map|WeakMap} rootMap The root of the map or weak map.\n * @param {Array} keys Array of keys. Each key represents a nested node of the tree map.\n * @return {*} The value of the tree map or \"undefined\" if there is no value for the given nested keys.\n */\n\nexport const nestedTreeMapGet = (rootMap, keys) => {\n  let current = rootMap;\n  let i = 0;\n  const lastIndex = keys.length - 1;\n\n  while ((current instanceof Map || current instanceof WeakMap) && current.has(keys[i]) && i < lastIndex) {\n    current = current.get(keys[i])[treeMapSubtree];\n    i++;\n  }\n\n  if (i === lastIndex && current) {\n    const lastKey = keys[i];\n\n    if (current.has(lastKey)) {\n      const nested = current.get(lastKey);\n      return nested.value;\n    }\n  }\n\n  return void 0;\n};\n/**\n * Yields values of an array mapping the yielded value.\n *\n * @generator\n * @param {Array} items An array of items.\n * @param {*} fn The function to call.\n *               The function will receive, in order the nth item,\n *               the index of the item in the array of items and the whole items array\n *               as parameters.\n * @param {*} thisArg Optional this arg of the called function (defaults to undefined).\n * @yields {*} The next yielded mapped item.\n */\n\nexport function* mapYield(items, fn, thisArg = void 0) {\n  items.map();\n  const boundFn = fn.bind(thisArg);\n\n  for (let i = 0; i < items.length; i++) {\n    yield boundFn(items[i], i, items);\n  }\n}\n/**\n * Compares two arrays deeply.\n *\n * @param {Array} arr1 First array.\n * @param {Array} arr2 Second array.\n * @return {boolean} True if they are equal (same indexes and same values), false otherwise.\n */\n\nexport function deepArrayCompare(arr1, arr2) {\n  if (arr1.length != arr2.length) {\n    return false;\n  }\n\n  const toString = Object.prototype.toString;\n  const arrayToStringStr = toString.call([]);\n\n  for (let i = 0; i < arr1.length; i++) {\n    if (!(i in arr2)) {\n      return false;\n    } else if (isPlainObject(arr1[i])) {\n      if (!isPlainObject(arr2[i]) || // eslint-disable-next-line @typescript-eslint/no-use-before-define\n      !deepObjectCompare(arr1[i], arr2[i])) {\n        return false;\n      }\n    } else if (arrayToStringStr === toString.call(arr1[i])) {\n      if (arrayToStringStr !== toString.call(arr2[i]) || !deepArrayCompare(arr1[i], arr2[i])) {\n        return false;\n      }\n    } else {\n      if (arr1[i] !== arr2[i]) {\n        return false;\n      }\n    }\n  }\n\n  return true;\n}\n/**\n * Compare two objects deeply.\n *\n * @param {Object} obj1 First object.\n * @param {Object} obj2 Second object.\n * @return {boolean} True if they are equal (same properties and same values), false otherwise.\n */\n\nexport function deepObjectCompare(obj1, obj2) {\n  const toString = Object.prototype.toString;\n  const arrayToStringStr = toString.call([]);\n\n  for (const property in obj1) {\n    if (!(property in obj2)) {\n      // `obj2[property]` does not contain the property of `obj1`.\n      return false;\n    } else if (isPlainObject(obj1[property])) {\n      // `obj1[property]` is an object.\n      if (!isPlainObject(obj2[property]) || !deepObjectCompare(obj1[property], obj2[property])) {\n        // `obj2[property]` is not an object or the branches are different.\n        return false;\n      }\n    } else if (arrayToStringStr === toString.call(obj1[property])) {\n      // `obj1[property]` is an array.\n      if (arrayToStringStr !== toString.call(obj2[property]) || !deepArrayCompare(obj1[property], obj2[property])) {\n        // `obj2[property]` is not an array or the two objects are different.\n        return false;\n      }\n    } else {\n      // `obj1[property]` is not an object and is not an array.\n      if (obj1[property] !== obj2[property]) {\n        return false;\n      }\n    }\n  } // `obj1` equals `obj2` (has the same properties and the same values).\n\n\n  return true;\n}\n/**\n * Nests the properties of an object using an array of props definitions and defaults.\n * Returns the leaf.\n *\n * Example:\n *\n * ```\n * const obj = {};\n * let nest = [{a: {}}, {b: {}}, {c: {}}, {d: {}}, {e: {}}, {f: {}}, {g: {}}, {h: {}} ];\n * const leaf = nestedObjectConstructValue(obj, nest);\n * leaf.i = 'i';\n * leaf.l = { m: \"m\" };\n * JSON.stringify(obj); // {\"a\":{\"b\":{\"c\":{\"d\":{\"e\":{\"f\":{\"g\":{\"h\":{\"i\":\"i\",\"l\":{\"m\":\"m\"}}}}}}}}}}\n * nest = nest.concat([ {n: {}}, {o: {}}, {p: {}} ]);\n * var pLeaf = nestedObjectConstructValue(obj, nest);\n * pLeaf.q = 'q';\n * nest = nest.concat([ {q: {}} ]);\n * nestedObjectConstructValue(obj, nest); // 'q'\n * ```\n *\n * @param {Object} root The root object.\n * @param {Array} nestedPropsDef The nexted props definitions.\n * @param {boolean} [isRootArrayIfRootFalsy] True if the root should be an array if the first argument \"root\" is falsy.\n * @return {*} The leaf.\n */\n\nexport function nestedObjectConstructValue(root, nestedPropsDef, isRootArrayIfRootFalsy) {\n  root = root || (isRootArrayIfRootFalsy ? [] : {});\n  let leaf = root;\n\n  for (let i = 0; i < nestedPropsDef.length; i++) {\n    const propDef = nestedPropsDef[i];\n    const propKey = Object.keys(propDef)[0];\n    const propDefault = propDef[propKey];\n    leaf[propKey] = leaf[propKey] || propDefault;\n    leaf = leaf[propKey];\n  }\n\n  return leaf;\n}\n/**\n * Clones an object deeply using the JSON API.\n *\n * @param {Object} obj The object to clone.\n * @return {Object} The cloned object.\n */\n\nexport function cloneDeeplyJSON(obj) {\n  return JSON.parse(JSON.stringify(obj));\n}\n/**\n * Tests whether the given value is a reference type or not.\n *\n * @param {*} value Any value which can be an object or a primitive type.\n * @return {boolean} True if the given value is a reference type, false otherwise.\n */\n\nexport function isReferenceType(value) {\n  return new Object(value) === value;\n}\n/**\n * Tests whether the given value is a primitive type or not.\n *\n * @param {*} value Any value which can be an object or a primitive type.\n * @return {boolean} True if the given value is a primitive type, false otherwise.\n */\n\nexport function isPrimitiveType(value) {\n  return new Object(value) !== value;\n}\n/**\n * Checks whether an object has a cyclic reference or not.\n *\n * @param {Object} obj The object to check for a cyclic reference.\n * @return {boolean} True if the object has a cyclic reference, false otherwise.\n */\n\nexport function hasCyclicReference(obj) {\n  const stackSet = [];\n  let detected = false;\n\n  function detect(obj) {\n    if (detected) {\n      return;\n    }\n\n    if (typeof obj !== \"object\") {\n      return;\n    }\n\n    const indexOfObj = stackSet.indexOf(obj);\n\n    if (indexOfObj !== -1) {\n      detected = true;\n      return;\n    }\n\n    stackSet.push(obj);\n\n    for (const k in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, k)) {\n        detect(obj[k]);\n      }\n    }\n\n    stackSet.splice(indexOfObj, 1);\n    return;\n  }\n\n  detect(obj);\n  return detected;\n}\n/**\n * Converts a type to its string representation.\n *\n * @param {*} type A variable.\n * @return {string} The string representation of \"type\".\n */\n\nexport function typeToStr(type) {\n  return Object.prototype.toString.call(type);\n}\n/**\n * Clones an object deeply and returns the clone.\n *\n * @param {Object} object The object to clone.\n * @return {Object} The clone.\n * @throws {Error} If a circular reference if even only one property is of an unkown type\n *                 (this should never happen) or a circular reference is detected.\n */\n\nexport function cloneObjDeeply(object) {\n  const newObject = new object.constructor();\n\n  for (const prop in object) {\n    // If the property is defined on the prototype, ignore it. We don't want to assign it for each clone instance.\n    if (!Object.prototype.hasOwnProperty.call(object, prop)) {\n      continue;\n    }\n\n    const property = object[prop];\n\n    if (isPrimitiveType(property)) {\n      newObject[prop] = property;\n    } else if (isReferenceType(property)) {\n      if (!hasCyclicReference(property)) {\n        const clone = cloneObjDeeply(property);\n        newObject[prop] = clone;\n      } else {\n        throw new Error(\"Circular reference detected inside of property '\" + prop + \"' (\" + typeToStr(property) + \") in object (\" + typeToStr(object) + \")\");\n      }\n    } else {\n      throw new Error(\"Oops! Unknown type for property '\" + prop + \"' (\" + typeToStr(property) + \") in object (\" + typeToStr(object) + \")\");\n    }\n  }\n\n  return newObject;\n}\n/**\n * Deep object extension implementation.\n * Nothing is returned, but the destination object will be modified and merged with the source object\n * so that properties of the source object which are objects will recursively merge with the corresponding\n * destination property while the other properties with all the other types will replace the properties of the\n * destination object.\n * Note that this method should not be used for inheritance via the Prototypal Combination Inheritance pattern.\n * Also, this method doesn't perform a deep object cloning, it just extends the destinationObject by adding properties\n * it doesn't have in a deep way.\n *\n * @param {Object} destinationObject The destination object which will be modified and merged with the source object.\n * @param {Object} sourceObject The source object which will be used to extend the destination object.\n * @param {Object} [options] An object containing the options for the extension.\n *                           The currently available options are:\n *\n *                               - extendsArrays (boolean: false): Whether or not to extend nested arrays too (defaults to false);\n *\n * @return {undefined}\n */\n\nexport function deepObjectExtend(destinationObject, sourceObject, options = {}) {\n  for (const property in sourceObject) {\n    if (sourceObject[property] && isPlainObject(sourceObject[property])) {\n      destinationObject[property] = destinationObject[property] || {};\n      deepObjectExtend(destinationObject[property], sourceObject[property], options);\n    } else if (options.extendArrays && sourceObject[property] && isArray(sourceObject[property])) {\n      destinationObject[property] = destinationObject[property] || [];\n      deepObjectExtend(destinationObject[property], sourceObject[property], options);\n    } else {\n      destinationObject[property] = sourceObject[property];\n    }\n  }\n}\n/**\n * Deep object cloning extension implementation. If the source objects contain a property with a reference type, a clone object\n * of the same type of that property will be created and then merged with the property object of the destination object.\n *\n * @param {Object} destinationObject The destination object which will be modified and merged with the source object.\n * @param {...Object} sourceObject One or more objects which will be used to extend the destination object.\n * @return {undefined}\n */\n\nexport function deepObjectCloningExtend(...args) {\n  const destinationObject = args[0];\n  let sourceObject;\n\n  for (let i = 1; args[i]; i++) {\n    sourceObject = args[i];\n\n    for (const property in sourceObject) {\n      if (sourceObject[property] && isPlainObject(sourceObject[property])) {\n        destinationObject[property] = destinationObject[property] || {};\n        deepObjectExtend(destinationObject[property], cloneObjDeeply(sourceObject[property]));\n      } else {\n        destinationObject[property] = sourceObject[property];\n      }\n    }\n  }\n}\n/**\n * Extends a destination object with the provided source objects.\n *\n * @param {Object} destinationObj The destination object.\n * @param {...Object|Array} sourceObjects The source objects. If the last argument is an array containing one single truthy element,\n *                                        it will be treated as an options parameter and its single first truthy element will be treated as object\n *                                        containing the options for the extension.\n *                                        The currently available options are:\n *\n *                                            - extendsArrays (boolean: false): Whether or not to extend nested arrays too (defaults to false);\n *\n * @return {Object} The destination object \"destinationObj\" given as parameter after extension.\n */\n\nexport function extend(destinationObj, ...sourceObjects) {\n  let options = {};\n\n  if (sourceObjects.length) {\n    const last = sourceObjects.pop();\n\n    if (isArray(last) && last.length === 1 && isPlainObject(last[0])) {\n      options = last[0];\n    } else {\n      sourceObjects.push(last);\n    }\n  }\n\n  for (const sourceObject of sourceObjects) {\n    deepObjectExtend(destinationObj, sourceObject, options);\n  }\n\n  return destinationObj;\n}\n/**\n * Extends a destination object with the provided source objects.\n *\n * @param {Object} destinationObject The destination object.\n * @param {...*} rest The source objects with the last parameter being an array of rules,\n *                    each rule being a tuple array where the first element is an array of \"ORed\" property names (strings or numbers)\n *                    or regexes matching property names for which the corresponding values should be decorated\n *                    (or a single property name or regex matching a property name if the decoration should only happen on a single property),\n *                    and where the second element is a callback to execute for each value which is a value of a property\n *                    of a source object.\n *                    The callback has the following signature:\n *\n *                        (value: *, prop: string|number, parent: Object) => *|undefined\n *\n *                    The callback will receive the final value after extension, its associated property and the parent object\n *                    where that property is set with that value.\n *                    Its returned value will be used as the final value of the property for that object in \"destinationObject\".\n *\n *                    If the last parameter is not an array of rules, it will be treated as the last source object to use for the extension\n *                    (the \"extend\" function will be simply called under the hood without any decoration logic).\n * @return {Object} The destination object \"destinationObject\" given as parameter after extension and, if the callback is given\n *                  as the last parameter, after applying the given callback.\n */\n\nexport function extendDecorate(destinationObject, ...rest) {\n  const rules = rest[rest.length - 1];\n\n  if (isArray(rules)) {\n    rest.pop();\n    const sourceObjects = rest;\n    const initialRetValue = {};\n    const matchedRulesMap = new Map();\n    const callbacksMap = new Map();\n    const paths = [];\n\n    const mapKeys = (destinationObject, sourceObject, currentStack, currentPath) => {\n      for (const key in sourceObject) {\n        currentStack.push({\n          destinationObject,\n          sourceObject,\n          property: key,\n          path: [...currentPath, key]\n        });\n      }\n    };\n\n    const matchRule = (rule, property) => {\n      if (rule instanceof RegExp && typeof property === \"string\") {\n        return property.match(rule);\n      } else {\n        return rule === property;\n      }\n    };\n\n    const matchArrayRule = (arrayRule, property) => {\n      for (const rule of arrayRule) {\n        if (matchRule(rule, property)) {\n          return true;\n        }\n      }\n\n      return false;\n    };\n\n    const ruleMatches = (rule, property) => {\n      if (isArray(rule)) {\n        return matchArrayRule(rule, property);\n      } else {\n        return matchRule(rule, property);\n      }\n    };\n\n    const matchRules = property => {\n      if (!matchedRulesMap.has(property)) {\n        const callbacks = [];\n\n        for (const [rule, callback] of rules) {\n          if (ruleMatches(rule, property)) {\n            callbacks.push(callback);\n          }\n        }\n\n        matchedRulesMap.set(property, callbacks);\n      }\n\n      return matchedRulesMap.get(property);\n    };\n\n    for (const sourceObject of sourceObjects) {\n      const currentStack = [];\n      const currentPath = [];\n      mapKeys(destinationObject, sourceObject, currentStack, currentPath);\n\n      while (currentStack.length) {\n        const {\n          destinationObject,\n          sourceObject,\n          property,\n          path: currentPath\n        } = currentStack.pop();\n\n        if (sourceObject[property] && isPlainObject(sourceObject[property])) {\n          // \"sourceObject[property]\" is an object of class \"Object\".\n          destinationObject[property] = isPlainObject(destinationObject[property]) ? destinationObject[property] : {};\n          mapKeys(destinationObject[property], sourceObject[property], currentStack, currentPath);\n        } else {\n          // \"sourceObject[property]\" is not an object.\n          destinationObject[property] = sourceObject[property];\n        }\n\n        const callbacks = matchRules(property);\n\n        if (callbacks && callbacks.length) {\n          if (!nestedTreeMapHas(callbacksMap, currentPath)) {\n            paths.push([...currentPath]);\n          }\n\n          nestedTreeMapSet(callbacksMap, currentPath, callbacks.map(callback => retValue => path => {\n            const value = retValue === initialRetValue ? destinationObject[property] : retValue;\n            return callback(value, property, destinationObject, path);\n          }));\n        }\n      }\n    } // Decorating the final nested values.\n\n\n    for (let i = paths.length - 1; i >= 0; i--) {\n      const path = paths[i];\n      const callbacks = nestedTreeMapGet(callbacksMap, path) || [];\n      let retValue = initialRetValue;\n\n      for (const callback of callbacks) {\n        retValue = callback(retValue)(path);\n      }\n\n      if (retValue !== initialRetValue) {\n        setNestedPropertyValue(destinationObject, path, retValue);\n      }\n    }\n\n    return destinationObject;\n  } else {\n    return extend(destinationObject, ...rest);\n  }\n}\n/**\n * Shallowly extends a destination object with the provided source objects (first dimension).\n *\n * @param {Object} destinationObject The destination object.\n * @param {...Object} sourceObjects The source objects.\n * @return {Object} The destination object \"destinationObject\" given as parameter after shallow extension.\n */\n\nexport function shallowExtend(destinationObject, ...sourceObjects) {\n  sourceObjects.map(obj => Object.keys(obj).map(key => destinationObject[key] = obj[key]));\n  return destinationObject;\n}\n/**\n * Like \"Array.prototype.includes\", but with type coercion.\n *\n * @param {Array} array The array.\n * @param {Anything} value The value.\n * @return {boolean} True if the value is included within the array (checking with type coercion`==`).\n */\n\nexport function includesTypeCoercion(array, value) {\n  for (const valueOfArray of array) {\n    if (valueOfArray == value) {\n      return true;\n    }\n  }\n\n  return false;\n}\n/**\n * Tests whether a value is undefined or not.\n *\n * @param {*} value A value\n * @return {boolean} True value is undefined, false otherwise.\n */\n\nexport function isUndefined(value) {\n  return typeof value === \"undefined\";\n}\n/**\n * Tests if the given value is an int.\n *\n * @param {*} value The value.\n * @return {boolean} True if value is an int, false otherwise.\n */\n\nexport function isInt(value) {\n  return Number.isInteger(value);\n}\n/**\n * Tests if the given string is an integer string.\n *\n * @param {*} a The string.\n * @return {boolean} True if the given string is an integer string, false otherwise.\n */\n\nexport function ctypeDigit(a) {\n  return Boolean(a.match(/^[0-9]+$/));\n}\n/**\n * Tests if the given value is an int or an integer string.\n *\n * @param {*} a The value.\n * @return {boolean} True if the value is an int or an integer string, false otherwise.\n */\n\nexport function isIntegerOrIntegerStr(a) {\n  return Number.isInteger(a) || ctypeDigit(a);\n}\n/**\n * Finds the index of a value in an array without type juggling\n * (i.e. like \"Array.prototype.indexOf\", but using \"==\" for equality comparison).\n *\n * @param {Array} array An array.\n * @param {*} value A value.\n * @return {number} -1 if the value is not in array, otherwise the index of value in array.\n */\n\nexport function findIndex(array, value) {\n  return array.findIndex(el => el == value);\n}\n/**\n * Returns the first value of the first property of an object.\n *\n * @param {Object} obj The object.\n * @return {*} The value of the first property of the given object.\n */\n\nexport function firstPropValue(obj) {\n  let prop;\n\n  for (prop in obj) {\n    break;\n  }\n\n  return obj[prop];\n}\n/**\n * Tests if a value is strictly a boolean \"true\".\n *\n * @param {*} value A value.\n * @return {boolean} \"true\" if the value is a boolean \"true\", \"false\" otherwise.\n */\n\nexport function isStrictlyTrue(value) {\n  return value === true;\n}\n/**\n * Tests if a value is truthy or not.\n *\n * @param {*} value The value.\n * @return {boolean} \"true\" if the value is truthy (evaluates to boolean \"true\"), \"false\" otherwise.\n */\n\nexport function isTruthy(value) {\n  return Boolean(value);\n}\n/**\n * Tests if all the given values are truthy.\n *\n * @param {...*} values The values.\n * @return {boolean} \"true\" if and only if all the values are truthy.\n */\n\nexport function allTruthy(...values) {\n  return values.every(isTruthy);\n}\n/**\n * Tests if all the given values are not undefined.\n *\n * @param {...*} values The values.\n * @return {boolean} \"true\" if and only if all the values are not undefined.\n */\n\nexport function allNotUndefined(...values) {\n  return values.every(value => typeof value !== \"undefined\");\n}\n/**\n * Tests if a string is a valid JSON string.\n *\n * @param {string} str A string.\n * @return {boolean} \"true\" if the string represents a valid JSON string, \"false\" otherwise.\n */\n\nexport function isJSONString(str) {\n  try {\n    JSON.parse(str);\n  } catch (e) {\n    return false;\n  }\n\n  return true;\n}\n/**\n * No-op function.\n *\n * @return {undefined}\n */\n// eslint-disable-next-line @typescript-eslint/no-empty-function\n\nexport function noOpFn() {}\n/**\n * Tests if a partial object is a subset of another object.\n *\n * @param {Object} obj An object.\n * @param {Object} partialObj A partial object which may not have all the keys of \"obj\"\n *                            or may even have different keys, or keys with different values.\n * @return {boolean} False if \"partialObj\" has a key which is not in \"obj\",\n *                   or has at least one key which is also in \"obj\" but with a different value\n *                   (shallow comparison), true otherwise.\n */\n\nexport function partialShallowEqual(obj, partialObj) {\n  return shallowEqual(Object.keys(partialObj).reduce((carry, key) => {\n    carry[key] = obj[key];\n    return carry;\n  }, {}), partialObj);\n}\n/**\n * Returns a shallow object diff, returning an object with two keys \"objA\" and \"objB\",\n * each containing an object with all the properties of one of the two objects which are not within\n * the other object, respectively.\n * If a property is on both objects but each object has a different value for that same property\n * (using shallow equality comparison), the returned property will be set on both objects with their\n * respective values.\n *\n * @param {Object} objA First object.\n * @param {Object} objB Second object.\n * @return {Object} An object containing the shallow diff, with two keys \"objA\" and \"objB\".\n */\n\nexport function shallowObjectDiff(objA, objB) {\n  const diff = {\n    objA: {},\n    objB: {}\n  };\n\n  if (shallowEqual(objA, objB)) {\n    return diff;\n  }\n\n  const keysA = Object.keys(objA);\n  const keysB = Object.keys(objB);\n\n  for (let i = 0; i < keysA.length; i++) {\n    const prop = keysA[i];\n\n    if (!objectPropEqual(objA, objB, prop)) {\n      diff.objA[prop] = objA[prop];\n\n      if (hasOwnProperty.call(objB, prop)) {\n        diff.objB[prop] = objB[prop];\n      }\n    }\n  }\n\n  for (let i = 0; i < keysB.length; i++) {\n    const prop = keysB[i];\n\n    if (!objectPropEqual(objB, objA, prop)) {\n      diff.objB[prop] = objB[prop];\n\n      if (hasOwnProperty.call(objA, prop)) {\n        diff.objA[prop] = objA[prop];\n      }\n    }\n  }\n\n  return diff;\n}\n/**\n * Casts a value to a string.\n *\n * @param {*} v A value.\n * @return {string} The string representation of the value.\n */\n\nexport function str(v) {\n  return \"\" + v;\n}\n/**\n * Maps an object, executing a function on each of its properties\n * returning a new mapped object.\n *\n * @param {Object} obj The object to map.\n * @param {Function} fn The function to use for the mapping.\n * @return {Object} The new mapped object.\n */\n\nexport const mapObject = (obj, fn) => Object.fromEntries(Object.entries(obj).map(([key, value], index) => [key, fn(value, key, index)]));\n/**\n * Maps an array to an object.\n *\n * @param {Array} arr An array.\n * @param {Function} fn A function receiving the current value, its index as well as the whole array \"arr\"\n *                      as parameters returning a tuple with the key at index 0 and the value at index 1 to set on the object.\n * @returns {Object} The array mapped to an object.\n */\n\nexport const mapToObject = (arr, fn) => {\n  let res;\n  return arr.reduce((carry, ...rest) => (res = fn(...rest)) && false || (carry[res[0]] = res[1]) && false || carry, {});\n};\n/**\n * Selects the truthy properties of an object or the properties of an object\n * passing a test specified with a callback function.\n *\n * @param {Object} obj The input object.\n * @param {Function} fn A function which will receive two parameters:\n *\n *                          - value: The current value of the input object for a given property;\n *                          - prop: The name of the current property of the input object.\n *\n *                      The function will have to return a boolean \"true\" indicating that this value\n *                      and property has to be included in the returned object, or \"false\" otherwise.\n *\n * @return {Object} An object having only the properties which passed the test\n *                  implemented by the \"fn\" callback function.\n */\n\nexport const propSelection = (obj, fn = isTruthy) => Object.keys(obj).reduce((carry, key) => {\n  if (fn(obj[key], key)) {\n    carry[key] = obj[key];\n  }\n\n  return carry;\n}, {});\n/**\n * Returns all the properties of the given object traversing its prototype chain.\n *\n * @param {Object} obj The object.\n * @param {Object} [options] An object with options.\n * @param {?Object} [options.stopAtPrototype] The prototype in the chain at which to stop the traversing.\n *                                            Defaults to null, in which case the whole prototype chain will be traversed.\n * @param {boolean} [options.stopAtPrototypeInclude] Whether or not to include the properties of the given prototype at which to stop.\n *                                                   Works only if \"stopAtPrototype\" is set to a valid prototype object in the prototype chain\n *                                                   of \"obj\".\n *                                                   Defaults to true, in which case the properties of the prototype at which to stop will be included\n *                                                   in the returned array.\n * @return {string[]} An array of containing the names of the properties.\n */\n\nexport function prototypeChainProperties(obj, {\n  stopAtPrototype = null,\n  stopAtPrototypeInclude = true\n} = {}) {\n  let current = obj;\n  const map = {};\n  let isStopPrototype = false;\n  let stop = false;\n\n  while (!stop && current && (!isStopPrototype || stopAtPrototypeInclude)) {\n    if (isStopPrototype) {\n      stop = true;\n    }\n\n    const properties = Object.getOwnPropertyNames(current);\n    properties.map(property => map[property] = true);\n    current = Object.getPrototypeOf(current);\n\n    if (stopAtPrototype) {\n      isStopPrototype = current === stopAtPrototype;\n    }\n  }\n\n  const properties = Object.keys(map);\n  return properties;\n}\n/**\n * Defines an object's property with a getter and an optional setter.\n *\n * @param {Object} obj An object (may be a prototype).\n * @param {string} propname The property name.\n * @param {Function} getfn Getter function.\n * @param {Function|undefined} [setfn] Setter function.\n * @return {undefined}\n */\n\nexport function prop(obj, propname, getfn, setfn = void 0) {\n  const propObj = {};\n  propObj[propname] = {\n    get: getfn,\n    set: setfn\n  };\n  Object.defineProperties(obj, propObj);\n}\n/**\n * Defines a property on an object.\n *\n * @param {Object} o An object.\n * @param {string} p The property to define.\n * @param {Object} descriptor Optional object containing the descriptor's properties to use to override the default properties.\n * @return {Object} The object that was passed to the function.\n */\n\nexport function defineProperty(o, p, descriptor = {}) {\n  return Object.defineProperty(o, p, _objectSpread({\n    configurable: false,\n    enumerable: false,\n    writable: true\n  }, descriptor));\n}\n/**\n * Assigns the properties of the given source objects to the target object.\n *\n * @source https://stackoverflow.com/questions/39515321/spread-operator-issues-with-property-accessors-getters#answer-39521418\n *\n * @param {Object} target The target object.\n * @param {...Object} sources The source objects.\n * @return {Object} The target object.\n */\n\nexport function completeObjectAssign(target, ...sources) {\n  sources.forEach(source => {\n    const descriptors = Object.keys(source).reduce((descriptors, key) => {\n      descriptors[key] = Object.getOwnPropertyDescriptor(source, key);\n      return descriptors;\n    }, {}); // By default, Object.assign copies enumerable Symbols too.\n\n    Object.getOwnPropertySymbols(source).forEach(sym => {\n      const descriptor = Object.getOwnPropertyDescriptor(source, sym);\n\n      if (descriptor.enumerable) {\n        descriptors[sym] = descriptor;\n      }\n    });\n    Object.defineProperties(target, descriptors);\n  });\n  return target;\n}\n//# sourceMappingURL=index.js.map","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\n/*\n * Copyright (c) 2021 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Utility functions for functional programming.\n */\nimport { isObjectEmpty, isArray } from \"./core\";\nimport { arrayOrArrayLike } from \"./array\";\n/**\n * @type {string}\n */\n\nconst JSUtlCurryPlaceholderProp = \"JSUtlCurryPlaceholderPropRPecoyYmCYqZ2lE\";\n/**\n * Curry function placeholder.\n *\n * @type {Object}\n */\n\nexport const _ = {\n  [JSUtlCurryPlaceholderProp]: true\n};\n/**\n * @type {string}\n */\n\nconst JSUtlProceedCallingFnProp = \"JSUtlProceedCallingFnPropRBmGaAgOCgftF9t\";\n/**\n * Return value of \"onFnCall\" to call the curried function and return its value.\n *\n * @type {Object}\n */\n\nexport const proceedCallingFn = {\n  [JSUtlProceedCallingFnProp]: true\n};\n/**\n * Curries a function.\n *\n * @see https://medium.com/@kj_huang/implementation-of-lodash-curry-function-8b1024d71e3b\n *\n * @param {Function} fn A function to curry in order to return the curried version of the function.\n * @param {Object} [obj] An optional object with further properties to tweak the currying behaviour\n *                       and execute code while collecting the arguments of the curried function.\n * @param {number|undefined} [obj.arity] The arity of the function, i.e. its number of arguments.\n *                                       If omitted, \"fn.length\" will be used.\n * @param {Function|undefined} [obj.onEffectiveArgAdded] An optional callback to execute whenever a new effective argument\n *                                                       (not a placeholder) is added to the curried function.\n *                                                       The callback will receive an object with the following properties as argument:\n *\n *                                                           - addedArg: The effective argument added;\n *                                                           - args: An array with all the previously arguments collected so far\n *                                                                   without considering \"addedArg\";\n *                                                           - fn: The function \"fn\";\n *                                                           - curriedFn: The current curried function;\n *\n *                                                       The return value of the function is ignored.\n * @param {Function|undefined} [obj.onPlaceholder] An optional callback to execute whenever a new placeholder is added to the curried function.\n *                                                 The callback will receive an object with the following properties as argument:\n *\n *                                                     - args: An array with all the previously arguments collected so far\n *                                                             without considering \"addedArg\";\n *                                                     - fn: The function \"fn\";\n *                                                     - curriedFn: The current curried function;\n *\n *                                                 The return value of the function is ignored.\n * @param {Function|undefined} [obj.onFnCall] An optional callback to execute just before calling the \"fn\" function\n *                                            (i.e. when the \"fn\" function is ready to be called and all its arguments have been collected).\n *\n *                                            The callback will receive an object with the following properties as argument:\n *\n *                                                - args: The array of the effective arguments of the \"fn\" function;\n *                                                - fn: The function \"fn\" which was initially passed to \"curry\";\n *                                                - curriedFn: The current curried function;\n *\n *                                            This way, the code of the callback may decide what to do and may even call the function on its own\n *                                            and prevent the call from the caller side (i.e. within the \"curry\" function).\n *\n *                                            The callback must explicitly tell \"curry\" to call the function by returing \"proceedCallingFn\".\n *                                            If the callback returns any other value, then \"fn\" will not be called in \"curry\" and the return value\n *                                            of this callback will be returned.\n * @param {Function|undefined} [obj.onCurriedFnFirstCall] An optional callback to execute only the first time when the first curried function returned by \"curry\"\n *                                                        is invoked for the very first time with the very first argument or arguments.\n *\n *                                                        The callback will receive an object with the following properties as argument:\n *\n *                                                            - addedArgs: The arguments provided by the caller;\n *                                                            - fn: The \"fn\" function;\n *                                                            - curriedFn: The current curried function;\n *\n * @param {Function|undefined} [obj.onNewCurriedFn] An optional callback to execute initially and each time a new curried function is going to be returned.\n *\n *                                                  The callback will an object with the following properties as argument:\n *\n *                                                      - curriedFn: The current curried function (same as \"newCurriedFn\" when this callback is invoked\n *                                                                   for the very first time);\n *                                                      - newCurriedFn: The new curried function (will be the same as \"curriedFn\" when this callback is invoked\n *                                                                      for the very first time);\n *\n *\n * @return {Function} The curried version of the function.\n */\n\nexport const curry = (fn, {\n  arity = void 0,\n  onEffectiveArgAdded = void 0,\n  onPlaceholder = void 0,\n  onFnCall = void 0,\n  onCurriedFnFirstCall = void 0,\n  onNewCurriedFn = void 0\n} = {}) => {\n  let curriedFnFirstCall = true;\n  const expectedNumberOfArgs = typeof arity !== \"undefined\" ? arity : fn.length;\n  const nextParameterIndex = 0;\n  const placeholdersIndices = [];\n\n  const curriedInner = (expectedNumberOfArgs, nextParameterIndex, placeholdersIndices, ...args) => function curriedFn(...addedArgs) {\n    let newExpectedNumberOfArgs = expectedNumberOfArgs;\n    let newNextParameterIndex = nextParameterIndex;\n    let newPlaceholdersIndices = null;\n    let argsRequiredChange = false;\n    curriedFnFirstCall && (onCurriedFnFirstCall && onCurriedFnFirstCall({\n      addedArgs,\n      fn,\n      curriedFn\n    }) || true) && (curriedFnFirstCall = false);\n    let numberOfConsumablePlaceholders = placeholdersIndices.length;\n\n    for (const addedArg of addedArgs) {\n      !argsRequiredChange && (args = [...args]);\n      argsRequiredChange = true; // \"addedArg\" may be either a placeholder or an effective argument.\n\n      const isPlaceholder = addedArg ? addedArg[JSUtlCurryPlaceholderProp] === _[JSUtlCurryPlaceholderProp] : false;\n\n      if (numberOfConsumablePlaceholders > 0 && !isPlaceholder) {\n        // Argument is an effective argument consuming a previously set placeholder.\n        onEffectiveArgAdded && onEffectiveArgAdded({\n          addedArg,\n          args,\n          fn,\n          curriedFn\n        });\n        let argIndex;\n\n        if (newPlaceholdersIndices === null) {\n          const [firstIndex, ...rest] = placeholdersIndices;\n          argIndex = firstIndex;\n          newPlaceholdersIndices = rest;\n        } else {\n          argIndex = newPlaceholdersIndices.shift();\n        }\n\n        args[argIndex] = addedArg;\n        numberOfConsumablePlaceholders--;\n        newExpectedNumberOfArgs--;\n      } else {\n        if (isPlaceholder) {\n          // Argument is a new placeholder.\n          if (newPlaceholdersIndices === null) {\n            newPlaceholdersIndices = placeholdersIndices.concat(newNextParameterIndex);\n          } else {\n            newPlaceholdersIndices.push(newNextParameterIndex);\n          }\n\n          onPlaceholder && onPlaceholder({\n            args,\n            fn,\n            curriedFn\n          });\n        } else {\n          // Argument is an effective argument.\n          newExpectedNumberOfArgs--;\n          onEffectiveArgAdded && onEffectiveArgAdded({\n            addedArg,\n            args,\n            fn,\n            curriedFn\n          });\n        }\n\n        args[newNextParameterIndex] = addedArg;\n        newNextParameterIndex++;\n      }\n    } // eslint-disable-next-line @typescript-eslint/no-use-before-define\n\n\n    return curried.call(null, curriedFn, newExpectedNumberOfArgs, newNextParameterIndex, newPlaceholdersIndices === null ? [...placeholdersIndices] : newPlaceholdersIndices, ...args);\n  };\n\n  const curried = (curriedFn, expectedNumberOfArgs, nextParameterIndex, placeholdersIndices, ...args) => {\n    if (expectedNumberOfArgs <= 0) {\n      if (onFnCall) {\n        const shouldCallCurriedFn = onFnCall({\n          args,\n          fn,\n          curriedFn\n        });\n\n        if (shouldCallCurriedFn && shouldCallCurriedFn[JSUtlProceedCallingFnProp] === proceedCallingFn[JSUtlProceedCallingFnProp]) {\n          return fn(...args);\n        } else {\n          return shouldCallCurriedFn;\n        }\n      } else {\n        return fn(...args);\n      }\n    } else {\n      const newCurried = curriedInner(expectedNumberOfArgs, nextParameterIndex, placeholdersIndices, ...args);\n      onNewCurriedFn && onNewCurriedFn({\n        curriedFn,\n        newCurriedFn: newCurried\n      });\n      return newCurried;\n    }\n  };\n\n  const newCurried = curriedInner(expectedNumberOfArgs, nextParameterIndex, placeholdersIndices);\n  onNewCurriedFn && onNewCurriedFn({\n    curriedFn: newCurried,\n    newCurriedFn: newCurried\n  });\n  return newCurried;\n};\n/**\n * Curries a POJO function, i.e. a function having only a single POJO (Plain Old JavaScript Object)\n * as parameter (a function with named arguments).\n *\n * Each object passed to the returned curried function will be merged with the final object\n * to pass to the function \"fn\" when finally calling it.\n *\n * @param {Function} fn A function to curry in order to return the curried version of the function.\n * @param {Object} [obj] An optional object with further properties to tweak the currying behaviour\n *                       and execute code while collecting the POJO objects which will construct\n *                       the final POJO object to pass to the curried function after plugging the curried POJO function.\n * @param {string} [obj.plugPropertyName] The name of the property which instructs that it's time to call the function.\n * @param {boolean} [obj.plugPropertyMustBeTruthy] By default, it is enough that the property with \"obj.plugPropertyName\" name\n *                                                 is set on the object passed to the curried function to instruct it to call\n *                                                 \"fn\".\n *                                                 If this property is set to \"true\", the property with \"plugPropertyName\" name\n *                                                 will also have to be truthy.\n * @param {Function} [obj.onPOJOArgMerged] An optional callback to execute right after merging the next POJO argument with the so far accumulated POJO object.\n *                                         The callback will an object with the following properties as argument:\n *\n *                                             - POJOArg: The given POJO argument;\n *                                             - POJO: the so far merged POJO object merged with the given \"POJOArg\";\n *                                             - fn: The \"fn\" function;\n *                                             - curriedFn: The current curried function;\n *\n * @param {Function} [obj.onFnCall] An optional callback to execute just before calling the \"fn\" function\n *                                  (i.e. when the \"fn\" function is ready to be called and has been plugged and all\n *                                  of its POJO object argument properties have been collected).\n *\n *                                  The callback will receive an object with the following properties as argument:\n *\n *                                      - POJO: The callback will receive the function \"fn\" POJO argument (an object) as its first argument;\n *                                      - fn: The \"fn\" function;\n *                                      - curriedFn: The current curried function;\n *\n *                                  This way, the code of the callback may decide what to do and may even call the function on its own\n *                                  and prevent the call from the caller side (i.e. within the \"POJOCurry\" function).\n *\n *                                  The callback must explicitly tell \"POJOCurry\" to call the function by returing \"proceedCallingFn\"\n *                                  If the callback returns any other value, then \"fn\" will not be called in \"POJOCurry\" and the return value\n *                                  of this callback will be returned.\n * @param {Function|undefined} [obj.onCurriedFnFirstCall] An optional callback to execute only the first time when the first curried function returned by \"curry\"\n *                                                        is invoked for the very first time with the very first POJO argument.\n *\n *                                                        The callback will receive an object with the following properties as argument:\n *\n *                                                            - POJOArg: The given POJO argument yet to merge with the internal final POJO;\n *                                                            - fn: The \"fn\" function;\n *                                                            - curriedFn: The current curried function;\n *\n * @param {Function|undefined} [obj.onNewCurriedFn] An optional callback to execute initially and each time a new curried function is going to be returned.\n *\n *                                                  The callback will receive an object with the following properties as argument:\n *\n *                                                      - curriedFn: The current curried function (same as \"newCurriedFn\" when this callback is invoked\n *                                                                   for the very first time);\n *                                                      - newCurriedFn: The new curried function (will be the same as \"curriedFn\" when this callback is invoked\n *                                                                      for the very first time);\n *\n * @return {Function} The curried version of the function.\n */\n\nexport const POJOCurry = (fn, {\n  plugPropertyName = \"plugCurried\",\n  plugPropertyMustBeTruthy = false,\n  onPOJOArgMerged = void 0,\n  onFnCall = void 0,\n  onCurriedFnFirstCall = void 0,\n  onNewCurriedFn = void 0\n} = {}) => {\n  const POJO = {};\n  let curriedFnFirstCall = true;\n\n  const curriedInner = accPOJO => function curriedFn(POJOArg) {\n    curriedFnFirstCall && (onCurriedFnFirstCall && onCurriedFnFirstCall({\n      POJOArg,\n      fn,\n      curriedFn\n    }) || true) && (curriedFnFirstCall = false);\n    let POJO = Object.assign({}, accPOJO, POJOArg || {});\n\n    if (Object.prototype.hasOwnProperty.call(POJO, plugPropertyName) && (!plugPropertyMustBeTruthy || POJO[plugPropertyName])) {\n      const {\n        [plugPropertyName]: POJOArgIgnoredProperty\n      } = POJOArg,\n            rest = _objectWithoutProperties(POJOArg, [plugPropertyName].map(_toPropertyKey));\n\n      const {\n        [plugPropertyName]: POJOIgnoredProperty\n      } = POJO,\n            POJORest = _objectWithoutProperties(POJO, [plugPropertyName].map(_toPropertyKey));\n\n      POJO = POJORest;\n\n      if (!isObjectEmpty(rest)) {\n        onPOJOArgMerged && onPOJOArgMerged({\n          POJOArg: rest,\n          POJO,\n          fn,\n          curriedFn\n        });\n      }\n\n      let shouldCallCurriedFn = true;\n      let ret = void 0;\n\n      if (onFnCall) {\n        ret = onFnCall({\n          POJO,\n          fn,\n          curriedFn\n        });\n        shouldCallCurriedFn = ret ? ret[JSUtlProceedCallingFnProp] === proceedCallingFn[JSUtlProceedCallingFnProp] : false;\n      }\n\n      if (shouldCallCurriedFn) {\n        return fn(POJO);\n      } else {\n        return ret;\n      }\n    } else {\n      onPOJOArgMerged && onPOJOArgMerged({\n        POJOArg,\n        POJO,\n        fn,\n        curriedFn\n      });\n      const newCurried = curriedInner(POJO);\n      onNewCurriedFn && onNewCurriedFn({\n        curriedFn,\n        newCurriedFn: newCurried\n      });\n      return newCurried;\n    }\n  };\n\n  const newCurried = curriedInner(POJO);\n  onNewCurriedFn && onNewCurriedFn({\n    curriedFn: newCurried,\n    newCurriedFn: newCurried\n  });\n  return newCurried;\n};\n/**\n * A utility function which composes functions or higher-order functions.\n *\n * @param {...Function|...Function[]} fns A list of functions or higher-order functions or arrays of functions\n *                                        (arrays will be flattened) to compose.\n * @return {Function} A function composed of all the functions or higher-order functions\n *                    used for composition.\n */\n\nexport const compose = (...fns) => (...args) => {\n  let outerArgs = args;\n  let hoFn = void 0;\n  fns = fns.flat(1);\n\n  for (let i = fns.length - 1; i >= 0; i--) {\n    const fn = fns[i];\n    hoFn = fn(...outerArgs);\n    outerArgs = [hoFn];\n  }\n\n  return hoFn;\n};\n/**\n * A utility function which pipes functions.\n *\n * @param {...Function|...Function[]} fns A list of functions or arrays of functions (arrays will be flattened)\n *                                        to pipe.\n * @return {Function} A function representing the pipe.\n */\n\nexport const pipe = (...fns) => (...args) => {\n  fns = fns.flat(1);\n  return fns.length ? fns.reduce((arg, fn) => [fn(...arg)], args)[0] : void 0;\n};\n/**\n * Returns a function which lets picking the properties of an object.\n *\n * @param {...string|...number} props The properties to pick.\n * @return {Function} A function which if called picks the \"props\" properties from its argument object\n *                    and returns a new object with the picked properties.\n */\n\nexport const pick = (...props) => o => props.reduce((a, e) => _objectSpread(_objectSpread({}, a), {}, {\n  [e]: o[e]\n}), {});\n/**\n * Lifts two functions using a binary function which takes their results as arguments.\n *\n * @param {Function} binaryFn A binary function (i.e. a function which takes two arguments).\n * @return {Function} A higher-order function which has to be called with the first function as argument (\"firstFn\")\n *                    and returns another higher-order function which has to be called with the second function as argument (\"secondFn\").\n *                    Then, the returned function will take the parameters to pass to the two functions (\"firstFn\" and \"secondFn\")\n *                    and return the result of calling \"binaryFn\" with the result of those functions given as parameters.\n */\n\nexport const liftBinaryFn = binaryFn => firstFn => secondFn => (...params) => binaryFn(firstFn(...params), secondFn(...params));\n/**\n * Applies an array of functions to a list of values.\n *\n * @param {Function[]} fns An array of functions.\n * @return {Function} A function which if called with a list of values, will pass the list to each function of \"fns\"\n *                    and return an array with the values after applying each of the original \"fns\" to its parameters.\n */\n\nexport const juxt = fns => (...values) => fns.map(fn => fn(...values));\n/**\n * Converges a multi-arg function.\n *\n * @param {Function} multiArgFn A multi-arg function.\n * @param {Function[]} fns An array of functions to converge.\n *                         Each function will receive the parameter passed to the function returned\n *                         by this higher-order function (i.e. \"params\").\n * @return {Function} A function which, if called, will pass its arguments to each of the functions in \"fns\"\n *                    and pass each result of those functions to the multi-arg function \"multiArgFn\",\n *                    returning its result.\n */\n\nexport const converge = (multiArgFn, fns) => (...params) => multiArgFn(...fns.map(fn => fn(...params)));\n/**\n * Executes a callback if a POJO object has a property.\n *\n * @param {Object} POJO A POJO object.\n * @return {(prop: string|number) => (fn: Function) => *} A function which receives the property\n *                                                        and returns and returns a function receiving the callback\n *                                                        function (\"fn\") to execute.\n */\n\nexport const execIfPOJOHas = POJO => prop => fn => Object.prototype.hasOwnProperty.call(POJO, prop) && fn(POJO[prop], POJO);\n/**\n * Executes a callback with the existent properties of an object.\n *\n * @param {...string|...number} props The properties to check for existence.\n * @return {(o: Object) => (fn: (existentProps: string[]|number[]) => *) => *} A function which receives the POJO object for which to check for the given properties\n *                                                                             and returns a function receiving a callback which will receive the existent properties\n *                                                                             of the object as parameter.\n */\n\nexport const execWithExistentProps = (...props) => o => fn => fn(props.filter(prop => Object.prototype.hasOwnProperty.call(o, prop)));\n/**\n * Loops through the values of a generator and returns an array with its mapped\n * values mapped with the given callback.\n *\n * @param {GeneratorFunction} gen A generator function.\n * @return {(args: ...*) => (fn: (val: *) => *) => Array} A function which takes the arguments for the generator and returns\n *                                                        another function which takes the callback to use to map each\n *                                                        value of the generator returning an array with all the mapped values of the generator.\n */\n\nexport const forGen = gen => (...args) => fn => {\n  const generator = gen(...args);\n  const arr = [];\n\n  for (const value of generator) {\n    const res = fn(value);\n    arr.push(res);\n  }\n\n  return arr;\n};\n/**\n * Flattens an array (its first dimension, at most).\n *\n * @param {Array} arr An array.\n * @return {Array} A new flattened array.\n */\n\nexport const flatten = arr => Array.prototype.concat.apply([], arr);\n/**\n * Flattens an array with any dimension.\n *\n * @param {Array} arr An array.\n * @param {number} dimension The flattening dimension (defaults to 1, but can be greater, even \"Infinity\").\n * @return {Array} The flattened array.\n */\n\nexport const flattenDeep = (arr, dimension = 1) => {\n  return dimension > 0 ? arr.reduce((acc, val) => acc.concat(isArray(val) ? flattenDeep(val, dimension - 1) : val), []) : arrayOrArrayLike(arr);\n};\n/**\n * Computes the cartesian product of the given sets.\n *\n * @param  {...Array} sets The sets to use to compute the cartesian product.\n * @return {Array} The cartesian product of the given sets.\n */\n\nexport const cartesianProduct = (...sets) => sets.reduce((acc, set) => flatten(acc.map(x => set.map(y => [...x, y]))), [[]]);\n/**\n * Identity function.\n *\n * @see https://en.wikipedia.org/wiki/Identity_function\n *\n * @param {*} value Any value.\n * @return {*} The same passed value.\n */\n\nexport const identityFn = value => value;\n/**\n * Identity function for multiple args returning an array of those args.\n *\n * @param  {...*} args The args.\n * @return {Array} The same args returned in an array.\n */\n\nexport const identityArgsFn = (...args) => args;\n/**\n * @type {Function}\n */\n\nconst chainLink = (fn, next) => args => fn(args, next && ((...args) => next(args)));\n/**\n * A higher-order function to create a chain of functions following the Chain of Responsibility design pattern.\n *\n * @param {...Function|...Function[]} fns A list of functions or higher-order functions or arrays of functions\n *                                        (arrays will be flattened) to chain.\n * @return {Function} A function representing the chain of the given functions which, if called, will return the result of the chain.\n *                    Each function will receive the next function as its last parameter.\n */\n\n\nexport const chain = (...fns) => (...args) => {\n  fns = fns.flat(1);\n  const chainFn = fns.reduceRight((nextChainLink, fn) => {\n    return chainLink(fn, nextChainLink);\n  }, void 0);\n  return chainFn(args);\n};\n//# sourceMappingURL=fn.js.map","/*\n * Copyright (c) 2021 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Web application (browser) utility functions.\n */\nimport { config, uniqueId, isEmpty, isJSONString, isPlainObject } from \"./core\";\n/**\n * Builds a form data instance or object recursively.\n *\n * @see https://stackoverflow.com/questions/22783108/convert-js-object-to-form-data#answer-42483509\n *\n * @param {FormData|Object} formData Form data instance or JS POJO object.\n * @param {Array|Object} data JS POJO object or array with the form data to use to build the forma data.\n * @param {boolean} [shouldEncodeURIComponent] Optionally instructs the function if the parameters should be encoded\n *                                             (keys and values) using \"encodeURIComponent\".\n * @param {string} [parentKey] Parent key for nested parameters (used internally for recursion).\n * @return {undefined}\n */\n\nfunction buildFormData(formData, data, shouldEncodeURIComponent, parentKey) {\n  if (data && typeof data === \"object\" && !(data instanceof Date) && !(data instanceof File)) {\n    Object.keys(data).forEach(key => {\n      buildFormData(formData, data[key], shouldEncodeURIComponent, parentKey ? `${parentKey}[${key}]` : shouldEncodeURIComponent ? encodeURIComponent(key) : key);\n    });\n  } else {\n    // Leaf value.\n    const value = data == null ? \"\" : shouldEncodeURIComponent ? encodeURIComponent(data) : data;\n    formData instanceof FormData ? formData.append(parentKey, value) : formData[parentKey] = value;\n  }\n}\n/**\n * Constructs a query string from the given data.\n * This method works with nested objects/arrays.\n *\n * @param {Array|Object} data The object.\n * @return {string} The query string.\n */\n\n\nexport function buildQueryString(data) {\n  const formData = {};\n  buildFormData(formData, data, true); // \"true\" instructs the function to encode URI parts (keys and values).\n\n  const parts = [];\n\n  for (const prop in formData) {\n    parts.push(prop + \"=\" + formData[prop]);\n  }\n\n  return parts.join(\"&\");\n}\n/**\n * Converts an object (array or JS POJO object) to a form data instance.\n *\n * @param {Array|Object} data The data (array or POJO object).\n * @return {FormData} A form data instance.\n */\n\nexport function formData(data) {\n  const formData = new FormData();\n  buildFormData(formData, data);\n  return formData;\n}\n/**\n * Returns a new XMLHttpRequest or ActiveXObject object.\n *\n * @return {XMLHttpRequest|ActiveXObject}\n */\n\nexport const xhr = () => window.ActiveXObject && new window.ActiveXObject(\"Microsoft.XMLHTTP\") || new XMLHttpRequest();\n/**\n * Checks whether the network is reachable or not.\n *\n * @param {string} URI An eventual URI to use for the request.\n *                     NOTE: If omitted, then \"config.checkNetworkURI\" will be used,\n *                           or, if \"config.checkNetworkURI\" is not set,\n *                           the website's hostname will be used.\n *                           Also, in every case, A GET query string with a random parameter\n *                           is always appended to the URI.\n * @return {Promise} A promise which resolves to \"true\" if the network is reachable and to \"false\" otherwise.\n *                   Note that the returned promise always resolves to \"true\" when this code runs on localhost.\n */\n\nexport function checkNetwork(URI = null) {\n  // Handle IE and more capable browsers.\n  const xhrObj = xhr();\n  return new Promise(resolve => {\n    // Issue request and handle response.\n    try {\n      xhrObj.onreadystatechange = () => {\n        if (xhrObj.readyState == 4) {\n          resolve(xhrObj.status >= 200 && (xhrObj.status < 300 || xhrObj.status === 304));\n        }\n      }; // Open new request as a HEAD to the root hostname with a random param to bust the cache.\n\n\n      xhrObj.open(\"HEAD\", (URI || config.checkNetworkURI || \"//\" + window.location.hostname + (window.location.port != 80 ? \":\" + window.location.port : \"\")) + \"?rand=\" + Math.floor((1 + Math.random()) * 0x10000), // 0x10000 = 2^16\n      true);\n      xhrObj.send();\n    } catch (error) {\n      resolve(false);\n    }\n  });\n}\n/**\n * Returns a promise which resolves when the network is available.\n *\n * NOTE: If the network is available, the promise will resolve almost immediately.\n *\n * @param {number} intervalMillisecs An interval in milliseconds to wait before the next network check.\n * @return {Promise} A promise.\n */\n\nexport function waitNetwork(intervalMillisecs = 3000) {\n  return new Promise(resolve => {\n    checkNetwork().then(isNetworkReachable => {\n      if (isNetworkReachable) {\n        resolve();\n      } else {\n        const interval = setInterval(() => {\n          checkNetwork().then(isNetworkReachable => {\n            if (isNetworkReachable) {\n              clearInterval(interval);\n              resolve();\n            }\n          });\n        }, intervalMillisecs);\n      }\n    });\n  });\n}\n/**\n * Sets a cookie value.\n *\n * @see https://www.w3schools.com/js/js_cookies.asp\n *\n * @param {string} cname The cookie name.\n * @param {string} cvalue The cookie value.\n * @param {number|undefined} exdays Number of days after which the cookie expires,\n *                                  or \"undefined\" to make the cookie expire at the end of the session.\n * @return {undefined}\n */\n\nexport function setCookie(cname, cvalue, exdays) {\n  let expires = \"\";\n\n  if (exdays) {\n    const d = new Date();\n    d.setTime(d.getTime() + exdays * 24 * 60 * 60 * 1000);\n    expires = \"expires=\" + d.toUTCString() + \";\";\n  }\n\n  document.cookie = cname + \"=\" + cvalue + \";\" + expires + \"path=/\";\n}\n/**\n * Gets a cookie value.\n *\n * @see https://www.w3schools.com/js/js_cookies.asp\n *\n * @param {string} cname The cookie name.\n * @return {string|undefined} The cookie value or \"undefined\", if not set.\n */\n\nexport function getCookie(cname) {\n  const name = cname + \"=\";\n  const ca = document.cookie.split(\";\");\n\n  for (let i = 0; i < ca.length; i++) {\n    let c = ca[i];\n\n    while (c.charAt(0) == \" \") {\n      c = c.substring(1);\n    }\n\n    if (c.indexOf(name) == 0) {\n      return c.substring(name.length, c.length);\n    }\n  }\n\n  return void 0;\n}\n/**\n * Unsets a cookie.\n *\n * @param {string} cname The cookie name.\n * @return {undefined}\n */\n\nexport function unsetCookie(cname) {\n  setCookie(cname, \"\", -365);\n}\n/**\n * Tests whether a DOM element is in viewport or not.\n *\n * @param {Element} elem The DOM element.\n * @return {boolean} True if it is in viewport, false otherwise.\n */\n\nexport function isInViewport(elem) {\n  const bounding = elem.getBoundingClientRect();\n  return bounding.top >= 0 && bounding.left >= 0 && bounding.bottom <= (window.innerHeight || document.documentElement.clientHeight) && bounding.right <= (window.innerWidth || document.documentElement.clientWidth);\n}\n/**\n * Tests if a DOM element is scrolled into the scrollable view of its parent scrollable container.\n *\n * @param {Element} elem The DOM element to test.\n * @param {Element} holder The DOM element of the scrollable container of the DOM element to test.\n * @param {number|Function} minPx Minimum number of pixels of the element's height which must be scrolled into the view\n *                                in order to consider the element to be scrolled into view.\n *                                If a function is given, it will receive the element's bounding client rect as the first argument\n *                                as well as the holder element's bounding client rect as the second argument and must return\n *                                the minimum number of pixels.\n * @return {boolean} True if the given element is scrolled into view, false otherwise.\n */\n\nexport function isScrolledIntoView(el, holder, minPx = 1) {\n  const elRect = el.getBoundingClientRect();\n  const holderRect = holder.getBoundingClientRect();\n  const {\n    top,\n    bottom,\n    height\n  } = elRect;\n\n  const minPxNumberFn = () => typeof minPx === \"function\" ? minPx(elRect, holderRect) : minPx;\n\n  let bottomDiff;\n  return top <= holderRect.top ? holderRect.top - top + minPxNumberFn() <= height : (bottomDiff = bottom - holderRect.bottom) < 0 ? true : holderRect.bottom >= top && minPx ? holderRect.bottom - top >= minPxNumberFn() : bottomDiff <= height;\n}\n/**\n * Tests if a DOM element has a vertical scrollbar.\n *\n * @param {Element} elem The DOM element.\n * @return {boolean} True it has a vertical scrollbar, false otherwise.\n */\n\nexport function hasVerticalScrollbar(elem) {\n  const hasVerticalScrollbar = elem.scrollHeight > elem.clientHeight;\n  return hasVerticalScrollbar;\n}\n/**\n * Tests if a DOM element has a horizontal scrollbar.\n *\n * @param {Element} elem The DOM element.\n * @return {boolean} True it has a horizontal scrollbar, false otherwise.\n */\n\nexport function hasHorizontalScrollbar(elem) {\n  const hasHorizontalScrollbar = elem.scrollWidth > elem.clientWidth;\n  return hasHorizontalScrollbar;\n}\n/**\n * Generates a unique ID which can be used for an element.\n *\n * @param {string|undefined} [elementUniqueIdPrefix] Local unique ID prefix which overrides the prefix\n *                                                   set on the \"config\" configuration object.\n * @return {string} The element unique ID.\n */\n\nexport function elementUniqueId(elementUniqueIdPrefix = void 0) {\n  const uniqueElementIdSuffix = uniqueId();\n  return (elementUniqueIdPrefix || config.elementUniqueIdPrefix) + uniqueElementIdSuffix;\n}\n/**\n * Gets the computed style of an element.\n *\n * @param {Element} element DOM element.\n * @return {CSSStyleDeclaration} The computed style.\n */\n\nexport function getElementComputedStyle(element) {\n  return window.getComputedStyle(element);\n}\n/**\n * Gets element's inner dimensions (height and width without padding).\n *\n * @param {Element} element An element.\n * @return {Object} An object with \"width\" and \"height\" properties.\n */\n\nexport function elementInnerDimensions(element) {\n  const computedStyle = getElementComputedStyle(element);\n  let elementHeight = element.clientHeight; // Height with padding.\n\n  let elementWidth = element.clientWidth; // Width with padding\n\n  elementHeight -= parseFloat(computedStyle.paddingTop) + parseFloat(computedStyle.paddingBottom);\n  elementWidth -= parseFloat(computedStyle.paddingLeft) + parseFloat(computedStyle.paddingRight);\n  return {\n    width: elementWidth,\n    height: elementHeight\n  };\n}\n/**\n * @type {HTMLTextAreaElement}\n */\n\nlet countTextareaLinesBuffer;\n/**\n * Returns the number of lines in a textarea, including wrapped lines.\n *\n * @see https://stackoverflow.com/questions/28905965/textarea-how-to-count-wrapped-lines-rows#answer-45252226\n *\n * @param {HTMLTextAreaElement} textarea A textarea element. Note that the textarea should have an integer line height\n *                                       to avoid rounding errors.\n */\n\nexport function countTextareaLines(textarea) {\n  if (countTextareaLinesBuffer == null) {\n    countTextareaLinesBuffer = document.createElement(\"textarea\");\n    countTextareaLinesBuffer.style.border = \"none\";\n    countTextareaLinesBuffer.style.height = \"0\";\n    countTextareaLinesBuffer.style.overflow = \"hidden\";\n    countTextareaLinesBuffer.style.padding = \"0\";\n    countTextareaLinesBuffer.style.position = \"absolute\";\n    countTextareaLinesBuffer.style.left = \"0\";\n    countTextareaLinesBuffer.style.top = \"0\";\n    countTextareaLinesBuffer.style.zIndex = \"-1\";\n    document.body.appendChild(countTextareaLinesBuffer);\n  }\n\n  const cs = window.getComputedStyle(textarea);\n  const pl = parseInt(cs.paddingLeft);\n  const pr = parseInt(cs.paddingRight);\n  let lh = parseInt(cs.lineHeight); // `cs.lineHeight` may return 'normal', which means line height = font size.\n\n  if (isNaN(lh)) lh = parseInt(cs.fontSize); // Copy content width.\n\n  countTextareaLinesBuffer.style.width = textarea.clientWidth - pl - pr + \"px\"; // Copy text properties.\n\n  countTextareaLinesBuffer.style.font = cs.font;\n  countTextareaLinesBuffer.style.letterSpacing = cs.letterSpacing;\n  countTextareaLinesBuffer.style.whiteSpace = cs.whiteSpace;\n  countTextareaLinesBuffer.style.wordBreak = cs.wordBreak;\n  countTextareaLinesBuffer.style.wordSpacing = cs.wordSpacing;\n  countTextareaLinesBuffer.style.wordWrap = cs.wordWrap; // Copy value.\n\n  countTextareaLinesBuffer.value = textarea.value;\n  let result = Math.floor(countTextareaLinesBuffer.scrollHeight / lh);\n\n  if (result == 0) {\n    result = 1;\n  }\n\n  return result;\n}\n/**\n * Checks if the scroll of an element is on the bottom.\n *\n * @param {Element} DOMNode Element.\n * @return {boolean} True if the scroll is on the bottom, false otherwise.\n */\n\nexport function isScrollOnBottom(DOMNode) {\n  const ret = DOMNode.scrollTop + DOMNode.offsetHeight >= DOMNode.scrollHeight;\n  return ret;\n}\n/**\n * Returns the default browser's vertical scrollbar width.\n *\n * @return {Number} The scrollbar width.\n */\n\nexport function getVerticalScrollBarWidth() {\n  const scrollDiv = document.createElement(\"div\");\n  scrollDiv.className = \"vertical-scrollbar-measure\";\n  const sheet = document.createElement(\"style\");\n  sheet.innerHTML = \"div.vertical-scrollbar-measure { width: 100px; height: 100px; overflow: scroll; position: absolute; top: -9999px; }\";\n  document.body.appendChild(sheet);\n  document.body.appendChild(scrollDiv);\n  const scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n  document.body.removeChild(scrollDiv);\n  const sheetParent = sheet.parentNode;\n  sheetParent.removeChild(sheet);\n  return scrollbarWidth;\n}\n/**\n * Tests if an element with \"text-overflow: ellipsis;\" has the ellipsis active\n * and therefore its text is truncated.\n *\n * @param {Element} e The DOM element.\n * @return {boolean} True if ellipsis are present, false otherwise.\n */\n\nexport function isEllipsisActive(e) {\n  return e.offsetWidth < e.scrollWidth;\n}\n/**\n * A fallback function to copy a text to clipboard.\n *\n * @param {string} text The text to copy.\n * @param {Function} [onSuccess] An optional callback to execute on success.\n * @param {Function} [onFailure] An optional callback to execute on failure.\n * @return {undefined}\n */\n\nfunction fallbackCopyTextToClipboard(text, onSuccess, onFailure) {\n  const bodyScrollTop = document.documentElement.scrollTop || document.body.scrollTop;\n  const textArea = document.createElement(\"textarea\");\n  textArea.value = text;\n  document.body.appendChild(textArea);\n  textArea.focus();\n  textArea.select();\n\n  try {\n    const successful = document.execCommand(\"copy\");\n\n    if (successful) {\n      onSuccess && onSuccess();\n    } else {\n      onFailure && onFailure();\n    }\n  } catch (err) {\n    onFailure && onFailure(err);\n  }\n\n  document.body.removeChild(textArea) && document.documentElement.scrollTop && (document.documentElement.scrollTop = bodyScrollTop) || (document.body.scrollTop = bodyScrollTop);\n}\n/**\n * Copies a text to clipboard.\n *\n * @param {string} text The text to copy.\n * @param {Function} [onSuccess] An optional callback to execute on success.\n * @param {Function} [onFailure] An optional callback to execute on failure.\n * @return {undefined}\n */\n\n\nexport function copyTextToClipboard(text, onSuccess, onFailure) {\n  if (!navigator.clipboard) {\n    fallbackCopyTextToClipboard(text, onSuccess, onFailure);\n    return;\n  }\n\n  navigator.clipboard.writeText(text).then(function () {\n    onSuccess && onSuccess();\n  }, function (err) {\n    onFailure && onFailure(err);\n  });\n}\n/**\n * Asynchronously invokes a callback multiple times, each in its own animation frame.\n *\n * @param {number} n The number of times the callback should be invoked.\n * @param {Function} callback The callback to invoke.\n * @return {*} The identifier of the first animation frame or \"n\" if it is falsy during the outermost call.\n */\n\nexport const rAFLooper = (n, callback) => n && window.requestAnimationFrame(() => (callback(), rAFLooper(--n, callback)));\n/**\n * Requests a predefined number of animation frames and executes a callback after.\n *\n * @param {number} count The number of animation frames to request before executing the callback.\n * @param {Function} callback The callback to execute after \"count\" animation frames have been requested.\n * @return {number} The identifier of the first animation frame.\n */\n\nexport const nestedRAF = (count, callback) => {\n  let c = count || 1;\n\n  const innerCallback = () => {\n    c--;\n\n    if (!c) {\n      callback();\n      return;\n    }\n\n    window.requestAnimationFrame(innerCallback);\n  };\n\n  return window.requestAnimationFrame(innerCallback);\n};\n/**\n * Returns the raw contents of the URI fragment (i.e. everything after the hash (\"#\") character).\n *\n * @param {string} URIFragment The URI fragment.\n * @return {string} The raw contents of the URI fragment.\n */\n\nexport function getRawURIFragment(URIFragment) {\n  const fragment = (URIFragment || window.location.hash).replace(/^#/, \"\");\n  return fragment;\n}\n/**\n * Returns the decoded contents of a URI fragment (i.e. everything after the hash (\"#\") character).\n *\n * @param {string} URIFragment The URI fragment.\n * @return {string} The contents of the URI fragment, decoded.\n */\n\nexport function getDecodedURIFragment(URIFragment) {\n  const fragment = decodeURIComponent(getRawURIFragment(URIFragment));\n  return fragment;\n}\n/**\n * Appends an encoded JSON fragment to a URI.\n *\n * @param {string} URI The URI.\n * @param {*} data Data to encode in JSON format.\n */\n\nexport function appendEncodedJSONFragmentToURI(URI, data) {\n  return URI + \"#\" + encodeURIComponent(JSON.stringify(data));\n}\n/**\n * Returnes the decoded JSON data eventually stored in the URI fragment.\n *\n * @param {*} defaultData Default data to return if either the URI fragment is missing or\n *                        the content of the URI fragment is not a valid JSON-encoded string.\n * @return {*} The decoded JSON data or \"defaultData\".\n */\n\nexport function getDecodedJSONFromFragmentURI(defaultData = null) {\n  const fragment = window.location.hash;\n\n  if (!isEmpty(fragment)) {\n    const decodedFragment = getDecodedURIFragment(fragment);\n\n    if (isJSONString(decodedFragment)) {\n      return JSON.parse(decodedFragment);\n    }\n  }\n\n  return defaultData;\n}\n/**\n * Parses a multidimensional query string and returns an object with the parsed args.\n *\n * @see https://stackoverflow.com/questions/8648892/convert-url-parameters-to-a-javascript-object#answer-44713056\n *\n * @param {string} str The query string.\n * @param {Object} [array] The base object to use (or a new object if omitted or falsy).\n * @return {Object} The object with the parsed data.\n */\n\nexport function parseQueryStringArgsMultiDim(str, array) {\n  if (!str) {\n    str = window.location.search.substr(1);\n  }\n\n  let i, j, ct, p, lastObj, obj, undef, chr, tmp, key, value, postLeftBracketPos, keys, keysLen;\n\n  const strArr = String(str).replace(/^&/, \"\").replace(/&$/, \"\").split(\"&\"),\n        sal = strArr.length,\n        fixStr = function (str) {\n    return decodeURIComponent(str.replace(/\\+/g, \"%20\"));\n  };\n\n  if (!array) {\n    array = {};\n  }\n\n  for (i = 0; i < sal; i++) {\n    tmp = strArr[i].split(\"=\");\n    key = fixStr(tmp[0]);\n    value = tmp.length < 2 ? \"\" : fixStr(tmp[1]);\n\n    while (key.charAt(0) === \" \") {\n      key = key.slice(1);\n    }\n\n    if (key.indexOf(\"\\x00\") > -1) {\n      key = key.slice(0, key.indexOf(\"\\x00\"));\n    }\n\n    if (key && key.charAt(0) !== \"[\") {\n      keys = [];\n      postLeftBracketPos = 0;\n\n      for (j = 0; j < key.length; j++) {\n        if (key.charAt(j) === \"[\" && !postLeftBracketPos) {\n          postLeftBracketPos = j + 1;\n        } else if (key.charAt(j) === \"]\") {\n          if (postLeftBracketPos) {\n            if (!keys.length) {\n              keys.push(key.slice(0, postLeftBracketPos - 1));\n            }\n\n            keys.push(key.substr(postLeftBracketPos, j - postLeftBracketPos));\n            postLeftBracketPos = 0;\n\n            if (key.charAt(j + 1) !== \"[\") {\n              break;\n            }\n          }\n        }\n      }\n\n      if (!keys.length) {\n        keys = [key];\n      }\n\n      for (j = 0; j < keys[0].length; j++) {\n        chr = keys[0].charAt(j);\n\n        if (chr === \" \" || chr === \".\" || chr === \"[\") {\n          keys[0] = keys[0].substr(0, j) + \"_\" + keys[0].substr(j + 1);\n        }\n\n        if (chr === \"[\") {\n          break;\n        }\n      }\n\n      obj = array;\n\n      for (j = 0, keysLen = keys.length; j < keysLen; j++) {\n        key = keys[j].replace(/^['\"]/, \"\").replace(/['\"]$/, \"\");\n        lastObj = obj;\n\n        if (key !== \"\" && key !== \" \" || j === 0) {\n          if (obj[key] === undef) {\n            obj[key] = {};\n          }\n\n          obj = obj[key];\n        } else {\n          // To insert new dimension\n          ct = -1;\n\n          for (p in obj) {\n            if (Object.prototype.hasOwnProperty.call(obj, p)) {\n              if (+p > ct && p.match(/^\\d+$/g)) {\n                ct = +p;\n              }\n            }\n          }\n\n          key = ct + 1;\n        }\n      }\n\n      lastObj[key] = value;\n    }\n  }\n  /* ===== */\n\n  /*\n   * This code converts the object properties to arrays if they are objects with consecutive integer keys\n   * from 0 to n, where n is the number of properties of that object minus one\n   * (i.e. it converts meaningful objects which are to be interpreted as arrays to arrays).\n   */\n\n\n  const fnNormalizeObjToArrayIfPropsAreConsecutiveIntsFrom0 = function (obj) {\n    const keys = Object.keys(obj);\n    const truthMap = {};\n\n    for (let i = 0; i < keys.length; i++) {\n      truthMap[i] = true;\n    }\n\n    const array = [];\n\n    for (let i = 0; i < keys.length; i++) {\n      const prop = keys[i] + \"\";\n\n      if (!prop.match(/^[0-9]+$/)) {\n        return obj;\n      }\n\n      const intProp = Number(prop);\n\n      if (truthMap[intProp]) {\n        array[intProp] = obj[prop];\n        delete truthMap[intProp];\n      } else {\n        return obj;\n      }\n    }\n\n    if (Object.keys(truthMap).length === 0) {\n      return array;\n    } else {\n      return obj;\n    }\n  };\n\n  const fnNormalizeToArrayIfNeeded = function fnNormalizeToArrayIfNeeded(obj) {\n    for (const prop in obj) {\n      if (isPlainObject(obj[prop])) {\n        obj[prop] = fnNormalizeObjToArrayIfPropsAreConsecutiveIntsFrom0(obj[prop]);\n        fnNormalizeToArrayIfNeeded(obj[prop]);\n      }\n    }\n  };\n  /* /===== */\n\n\n  fnNormalizeToArrayIfNeeded(array);\n  return array;\n}\n/**\n * Gets the query string arguments of the current location in a multidimensional fashion\n * (multidimension-aware).\n *\n * @return {Object} An object representing the query string arguments.\n */\n\nexport function getQueryStringArgsMultiDim() {\n  const obj = {};\n  parseQueryStringArgsMultiDim(location.search.substring(1), obj);\n  return obj;\n}\n/**\n * Focuses an input without scrolling.\n *\n * @see https://stackoverflow.com/questions/4963053/focus-to-input-without-scrolling\n *\n * @param {Element} elem The DOM element.\n */\n\nexport const cursorFocus = function (elem) {\n  let x, y; // More sources for scroll x, y offset.\n\n  if (typeof window.pageXOffset !== \"undefined\") {\n    x = window.pageXOffset;\n    y = window.pageYOffset;\n  } else if (typeof window.scrollX !== \"undefined\") {\n    x = window.scrollX;\n    y = window.scrollY;\n  } else if (document.documentElement && typeof document.documentElement.scrollLeft !== \"undefined\") {\n    x = document.documentElement.scrollLeft;\n    y = document.documentElement.scrollTop;\n  } else {\n    x = document.body.scrollLeft;\n    y = document.body.scrollTop;\n  }\n\n  elem.focus();\n\n  if (typeof x !== \"undefined\") {\n    window.scrollTo(x, y);\n  }\n};\n/**\n * Detects wrapped elements.\n *\n * @param {string|Element[]} classNameOrElements A class name (with or without the leading dot) or the DOM elements to check.\n * @return {Element[]} The wrapped DOM elements.\n */\n\nexport function detectWrapped(classNameOrElements) {\n  let elements;\n\n  if (typeof classNameOrElements === \"string\") {\n    classNameOrElements = classNameOrElements.replace(/^\\./, \"\");\n    elements = document.getElementsByClassName(classNameOrElements);\n  } else {\n    elements = classNameOrElements;\n  }\n\n  const wrapped = [];\n  let prev = {};\n  let curr = {};\n\n  for (let i = 0; i < elements.length; i++) {\n    const element = elements[i];\n    curr = element.getBoundingClientRect();\n\n    if (prev && prev.top < curr.top) {\n      wrapped.push(element);\n    }\n\n    prev = i === 0 ? curr : prev;\n  }\n\n  return wrapped;\n}\n/**\n * Gets the maximum nesting level of an element (or of the whole DOM if \"document.body\" is given as parameter).abs\n *\n * @param {Element} elem The DOM element from which to start identifying the maximum nesting level.\n * @return {number} The maximum nesting level, starting from 0 if the given element has no children.\n */\n\nexport function maxNestingLevel(el) {\n  if (!el.children) {\n    return 0;\n  }\n\n  let max = -1;\n\n  for (let i = 0; i < el.children.length; i++) {\n    const nestingLevel = maxNestingLevel(el.children[i]);\n\n    if (nestingLevel > max) {\n      max = nestingLevel;\n    }\n  }\n\n  return max + 1;\n}\n/**\n * @type {RegExp}\n */\n\nconst REGEXP_SCROLL_PARENT = /^(visible|hidden)/;\n/**\n * Get the first scrollable ancestor of an element.\n *\n * @param {Element} el The element to use as the base from which to determine its first scrollable ancestor.\n * @return {Element} The first scrollable ancestor element scroll, or the document body.\n */\n\nexport const getScrollableAncestor = el => !(el instanceof HTMLElement) || typeof window.getComputedStyle !== \"function\" ? null : el.scrollHeight >= el.clientHeight && !REGEXP_SCROLL_PARENT.test(window.getComputedStyle(el).overflowY || \"visible\") ? el : getScrollableAncestor(el.parentElement) || document.scrollingElement || document.body;\n/**\n * Smoothly scrolls to the top of a scrollable element or the browser's window.\n *\n * @param {Element} [el] The element. Defaults to \"window\".\n * @return {undefined}\n */\n\nexport const smoothScrollToTop = (el = window) => el.scroll({\n  top: 0,\n  behavior: \"smooth\"\n});\n/**\n * Downloads a file without opening a new browser's tab.\n *\n * @see https://stackoverflow.com/questions/1066452/easiest-way-to-open-a-download-window-without-navigating-away-from-the-page#answer-43523297\n *\n * @param {string} fileURI The URI of the file to download.\n * @return {undefined}\n */\n\nexport function downloadFile(fileURI) {\n  var link = document.createElement(\"a\");\n  link.href = fileURI;\n  link.download = fileURI.substr(fileURI.lastIndexOf(\"/\") + 1);\n  link.click();\n}\n//# sourceMappingURL=web.js.map","/*\n * Copyright (c) 2021 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Utility functions providing random functionality.\n */\n\n/**\n * Generates a random string.\n *\n * @param {number} length The length of the string to return.\n * @return {string} The random string.\n */\nexport function randomStr(length) {\n  let result = \"\";\n  const characters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n  const charactersLength = characters.length;\n\n  for (let i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n\n  return result;\n}\n/**\n * Generates a random int between min and max (both included).\n *\n * @param {number} min Min int value.\n * @param {number} max Max int value.\n * @return {number} A random int between min and max.\n */\n\nexport function randomInt(min = 0, max = Number.MAX_SAFE_INTEGER) {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n/**\n * Generates a random float between min and max integers (both included).\n *\n * @param {number} min Min int value.\n * @param {number} max Max int value.\n * @return {number} A random float between min and max.\n */\n\nexport function randomFloat(min = 0, max = 562949953421311) {\n  const randInt = randomInt(min, max);\n\n  if (randInt >= max) {\n    return randInt;\n  }\n\n  return randInt + Math.random();\n}\n/**\n * Returns a random float (using \"Math.random()\") not equal to the given value.\n *\n * @param {number} value The given value.\n * @return {number} A random float not equal to value.\n */\n\nexport function randomDifferentFromValue(value) {\n  let ret = Math.random();\n\n  while (value == ret) {\n    ret = Math.random();\n  }\n\n  return ret;\n}\n/**\n * @type {Array}\n */\n\nlet noncanonicalUUIDCounter = 1;\n/**\n * Generates a new UUID.\n *\n * @see https://github.com/tastejs/todomvc/blob/gh-pages/examples/react/js/utils.js\n *\n * @return {string} The UUID.\n */\n\nexport function uuid() {\n  let i, random;\n  let uuid = \"\";\n\n  for (i = 0; i < 32; i++) {\n    random = Math.random() * 16 | 0;\n\n    if (i === 8 || i === 12 || i === 16 || i === 20) {\n      uuid += \"-\";\n    }\n\n    uuid += (i === 12 ? 4 : i === 16 ? random & 3 | 8 : random).toString(16);\n  }\n\n  return uuid;\n}\n/**\n * Generates a new noncanonical UUID. This noncanonical UUID has a further\n * int prefixed by \"-\" which is concatenated to a canonical UUID at the end\n * of the canonical UUID before returning this noncanonical UUID.\n * The int starts with 1 and increments every time this function is called.\n *\n * @return {string} A noncanonical UUID.\n */\n\nexport function noncanonicalUUID() {\n  const UUID = uuid();\n  return UUID + \"-\" + noncanonicalUUIDCounter++;\n}\n/**\n * Shuffles an array randomly modifing the given array.\n *\n * @param {Array} array The input array.\n * @return {Array} A reference to the same array given as input,\n *                 but with its elements randomly shuffled.\n */\n\nconst shuffleArrayRandomly = array => {\n  let i = array.length,\n      temporaryValue,\n      randomIndex;\n\n  while (0 !== i) {\n    randomIndex = Math.floor(Math.random() * i);\n    i--;\n    temporaryValue = array[i];\n    array[i] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n};\n/**\n * Returns an array with the elements of the given array randomly shuffled.\n *\n * @param {Array} array An array.\n * @return {Array} A new array with the same elements of the input array, but randomly shuffled.\n */\n\n\nexport function randomArrayShuffle(array) {\n  return shuffleArrayRandomly(Object.keys(array)).map(i => array[i]);\n}\n/**\n * Generates a random string.\n *\n * @return {string} A random string.\n */\n\nexport const randomString = () => Math.random().toString(36).substr(2);\n//# sourceMappingURL=rand.js.map","/*\n * Copyright (c) 2021 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Utility functions for working with strings.\n */\nimport { isArray } from \"./core\";\n/**\n * Escapes special characters for a JS regex.\n *\n * @see https://stackoverflow.com/questions/3115150/how-to-escape-regular-expression-special-characters-using-javascript#answer-9310752\n *\n * @param {string} text The string to escape.\n * @return {string} The same string with special regex characters escaped.\n */\n\nexport function escapeRegExp(text) {\n  return text.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, \"\\\\$&\");\n}\n/**\n * Trim characters from the beginning and end of a string.\n *\n * @param {string} str The string.\n * @param {string} characterMask Character mask.\n * @param {Object} options Options.\n * @param {Object.boolean} options.shouldTrimLeft \"true\" to trim left (defaults to \"true\" if omitted).\n * @param {Object.boolean} options.shouldTrimRight \"true\" to trim right (defaults to \"true\" if omitted).\n * @return {string} The trimmed string.\n */\n\nexport function trimCharacterMask(str, characterMask, options = {}) {\n  if (typeof characterMask === \"undefined\") {\n    characterMask = \" \";\n  }\n\n  const escapedCharacterMask = escapeRegExp(characterMask);\n  const shouldTrimLeft = typeof options.shouldTrimLeft === \"undefined\" || options.shouldTrimLeft;\n  const shouldTrimRight = typeof options.shouldTrimRight === \"undefined\" || options.shouldTrimRight;\n  const regexParts = [];\n\n  if (shouldTrimLeft) {\n    regexParts[regexParts.length] = \"^[\" + escapedCharacterMask + \"]+\";\n  }\n\n  if (shouldTrimRight) {\n    regexParts[regexParts.length] = \"[\" + escapedCharacterMask + \"]+$\";\n  }\n\n  const regex = new RegExp(regexParts.join(\"|\"), \"gm\");\n  return str.replace(regex, \"\");\n}\n/**\n * Trim characters from the beginning and end of a string using an array\n * of regex characters.\n *\n * @param {string} str The string.\n * @param {string} regexCharacters Regex characters.\n * @param {string} additionalModifiers Additional regex modifiers.\n * @return {string} The trimmed string.\n */\n\nexport function trimCharacterRegex(str, regexCharacters, additionalModifiers) {\n  if (typeof regexCharacters === \"undefined\") {\n    regexCharacters = [\"\\\\s\"];\n  }\n\n  additionalModifiers = additionalModifiers || \"\";\n  const regex = new RegExp(\"(^(\" + regexCharacters.join(\"|\") + \")+)|((\" + regexCharacters.join(\"|\") + \")+$)\", \"g\" + additionalModifiers);\n  return str.replace(regex, \"\");\n}\n/**\n * Alias of \"trimCharacterMask\".\n * Trim characters from the beginning and end of a string.\n *\n * @param {string} str The string.\n * @param {string} characterMask Character mask.\n * @return {string} The trimmed string.\n */\n\nexport function trim(str, characterMask) {\n  return trimCharacterMask(str, characterMask);\n}\n/**\n * Trim characters from the beginning of a string.\n *\n * @param {string} str The string.\n * @param {string} characterMask Character mask.\n * @return {string} The left-trimmed string.\n */\n\nexport function trimLeft(str, characterMask) {\n  return trimCharacterMask(str, characterMask, {\n    shouldTrimLeft: true,\n    shouldTrimRight: false\n  });\n}\n/**\n * Trim characters from the end of a string.\n *\n * @param {string} str The string.\n * @param {string} characterMask Character mask.\n * @return {string} The right-trimmed string.\n */\n\nexport function trimRight(str, characterMask) {\n  return trimCharacterMask(str, characterMask, {\n    shouldTrimLeft: false,\n    shouldTrimRight: true\n  });\n}\n/**\n * Concats the values of an array with an outer separator using an inner separator\n * for first nesting level arrays.\n *\n * E.g.:\n *\n *     concatWithInnerOuterSeparators([\"a\", \"value\", [\"with\", \"nested\", \"value\"], \"etc\"], \" # \", \" $ \")\n *     // Returns:\n *     \"a # value # with $ nested $ value # etc\"\n *\n * @param {Array<string>|Array<Array<string>>} arrayToConcat An array of strings or arrays or strings.\n * @param {string} outerSeparator Outer separator.\n * @param {string} innerSeparator Inner separator.\n * @return {string} The concatenated string.\n */\n\nexport function concatWithInnerOuterSeparators(arrayToConcat, outerSeparator = \" \", innerSeparator = \" \") {\n  const toConcatFinally = [];\n\n  for (const value of arrayToConcat) {\n    if (isArray(value)) {\n      toConcatFinally[toConcatFinally.length] = trim(value.join(innerSeparator), innerSeparator);\n    } else {\n      toConcatFinally[toConcatFinally.length] = value;\n    }\n  }\n\n  const ret = trim(toConcatFinally.join(outerSeparator), outerSeparator);\n  return ret;\n}\n/**\n * Returns an array of options with a value and a label string.\n *\n * @param {Object} obj An object with parameters.\n * @param {Object[]} obj.arrayOfObjects An array of objects.\n * @param {string[]|Array.<string|string[]>} obj.concatObjectProps Properties, keys of each object to use for the label\n *                                                                 and to concat with \"outerSeparator\".\n *                                                                 A nested array of properties can be used to specify an inner\n *                                                                 part of the label to concat using the \"innerSeparator\".\n * @param {string} obj.valueProp Name of the property which value has to be used for the value property\n *                               of the returned array of objects.\n * @param {string} obj.outerSeparator Outer separator.\n * @param {string} obj.innerSeparator Inner separator.\n * @return {Object[]} Array of objects, each object with two properties:\n *\n *                        - \"value\": The value of the object;\n *                        - \"label\": The label of the object.\n *\n */\n\nexport function optionsValueLabel({\n  arrayOfObjects,\n  concatObjectProps,\n  valueProp = \"id\",\n  outerSeparator = \" \",\n  innerSeparator = \" \"\n}) {\n  const options = [];\n\n  for (const obj of arrayOfObjects) {\n    const arrayToConcat = [];\n\n    for (const prop of concatObjectProps) {\n      if (isArray(prop)) {\n        arrayToConcat[arrayToConcat.length] = prop.map(propName => obj[propName]);\n      } else {\n        arrayToConcat[arrayToConcat.length] = obj[prop];\n      }\n    }\n\n    options[options.length] = {\n      value: obj[valueProp],\n      label: concatWithInnerOuterSeparators(arrayToConcat, outerSeparator, innerSeparator)\n    };\n  }\n\n  return options;\n}\n/**\n * Tests if a string starts with another\n *\n * @param {string} haystack The haystack string.\n * @param {string} needle The needle string.\n * @return {boolean} True if the haystack string starts with needle, false otherwise.\n */\n\nexport function startsWith(haystack, needle) {\n  return haystack.indexOf(needle, 0) === 0;\n}\n/**\n * Makes the first character of the given string uppercase.\n *\n * @param {string} string A string.\n * @return {string} The string with its first character made uppercase.\n */\n\nexport function ucaseFirst(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n/**\n * Reverses a string.\n *\n * @param {string} string A string to reverse.\n * @return {string} The reversed string.\n */\n\nexport function reverseString(string) {\n  return string.split(\"\").reverse().join(\"\");\n}\n/**\n * Given an integer, returns a string containing the same integer with additional thousands separators.\n *\n * @param {number} num An integer.\n * @param {string} [sep] The thousands separator to use.\n * @return {string} The same integer with thousands separators.\n */\n\nexport function separateIntThousands(num, sep = \",\") {\n  return num.toString().split(\"\").reverse().map((d, i, a) => (i + 1) % 3 === 0 && i !== a.length - 1 ? `${sep}${d}` : d).reverse().join(\"\");\n}\n//# sourceMappingURL=string.js.map","/*\n * Copyright (c) 2021 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Utility functions for callback handling (like debouncing, throttling).\n */\nimport { isUndefined } from \"./core\";\n/**\n * Delays execution of a callback and cancels a previously registered callback if it wasn't executed yet.\n */\n\nexport const delay = function () {\n  let timer = 0;\n  /**\n   * Inner function.\n   *\n   * @param {Function} callback The callback to execute.\n   * @param {number} ms Milliseconds to wait before executing the callback.\n   * @return {undefined}\n   */\n\n  return function (callback, ms) {\n    clearTimeout(timer);\n    timer = setTimeout(function () {\n      callback();\n    }, ms);\n  };\n}();\n/**\n * Debounces a function.\n *\n * @param {Function} fn A function.\n * @param {number} wait Wait interval in milliseconds.\n * @return {Function} A new function, debounced.\n */\n\nexport function debounce(fn, wait) {\n  let timer = void 0;\n  return function (...args) {\n    !isUndefined(timer) && clearTimeout(timer);\n    timer = setTimeout(function () {\n      fn(...args);\n    }, wait);\n  };\n}\n/**\n * Throttles a function.\n *\n * @see https://www.sitepoint.com/throttle-scroll-events/\n *\n * @param {Function} fn A function.\n * @param {number} wait Wait interval in milliseconds.\n * @return {Function} A new function, throttled.\n */\n\nexport function throttle(fn, wait) {\n  let time = Date.now();\n  return function (...args) {\n    if (time + wait - Date.now() < 0) {\n      fn(...args);\n      time = Date.now();\n    }\n  };\n}\n//# sourceMappingURL=callback.js.map","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { trim, isArray, isUndefined, isEmpty, compose } from \"js-utl\";\n\n/**\n * React JS utility functions.\n */\n\n/**\n * Returns a class name string.\n *\n * @param {*} componentClassName Default class name of a component (a string) or a falsy value which evaluates to an empty string.\n * @param {...*} classNames Additional, optional list of strings of class names or falsy values to ignore.\n * @return {string} The class name string.\n */\nexport function classNames(componentClassName, ...classNames) {\n  return classNames.reduce(\n    (componentClassName, className) =>\n      trim(`${componentClassName || \"\"} ${className || \"\"}`),\n    componentClassName\n  );\n}\n\n/**\n * Merges a component's class name.\n *\n * @deprecated since version 1.17.0 (will be removed in a next major version, use \"classNames()\" instead)\n *\n * @param {string} componentClassName Component's class name.\n * @param {Object} props Properties.\n * @return {Object} The merged properties.\n */\nexport function mergeClassNameProp(componentClassName, props) {\n  const { className, ...remaining } = props;\n  return {\n    className: classNames(componentClassName, className),\n    ...remaining,\n  };\n}\n\n/**\n * Returns the name of a React component.\n *\n * @param {Object} reactComponentInstance An instance of a React component.\n * @return {string|undefined} The React component's name, or \"undefined\" if the name is unknown.\n */\nexport function reactComponentName(reactComponentInstance) {\n  return (\n    reactComponentInstance.constructor.displayName ||\n    reactComponentInstance.constructor.name ||\n    void 0\n  );\n}\n\n/**\n * Gets a React component's display name.\n *\n * @param {Function} Component A component.\n * @return {string} Its name or \"Component\" if unknown.\n */\nexport function getDisplayName(Component) {\n  return (\n    Component.displayName ||\n    Component.name ||\n    (typeof Component === \"object\" && getDisplayName(Component.type)) ||\n    \"Component\"\n  );\n}\n\n/**\n * Returns an array of mappable children if the given children\n * parameter is not falsy.\n *\n * @private\n *\n * @param {*} children The given children.\n * @param {(children: Array) => Array} fn A callback to map children returning the mapped children\n *                                        if the given \"children\" is not falsy.\n */\nconst childrenMap = (children, fn) => {\n  if (!isArray(children)) {\n    if (!children) {\n      return children;\n    }\n    children = [children];\n  }\n  return fn(children);\n};\n\n/**\n * Map React children like \"React.Children.map()\", but without changing children keys.\n *\n * @param {*} children React children (usually the value of \"props.children\").\n * @param {Function} fn Function to call which will receive each child and its corresponding index as argument.\n * @return {Array} An array of mapped children.\n */\nexport const reactChildrenMap = (children, fn) =>\n  childrenMap(children, children => children.map(fn));\n\n/**\n * Map React children like \"reactChildrenMap\", but flattening the given children before mapping.\n *\n * @param {*} children React children (usually the value of \"props.children\").\n * @param {Function} fn Function to call which will receive each child and its corresponding index as argument.\n * @param {number} [depth] The depth of the flattening. Defaults to 1.\n * @return {Array} An array of mapped children.\n */\nexport const reactChildrenFlatMap = (children, fn, depth = 1) =>\n  childrenMap(children, children => children.flat(depth).map(fn));\n\n/**\n * Returns a key/child tuple function.\n *\n * @private\n *\n * @param {Function} fn Function to call which will receive two parameters:\n *\n *                          - key: The current key;\n *                          - child: The current child;\n *\n * @return {(current: *) => *} A function returning the mapped child.\n */\nconst childrenKeyChildTupleFn = fn => current => {\n  let key, child;\n  if (isArray(current)) {\n    [key, child] = current;\n  } else {\n    child = current;\n    key = child.key;\n  }\n  return fn(key, child);\n};\n\n/**\n * Map React children like \"React.Children.map()\", but without changing children keys\n * as well as accepting a \"[key, child]\" tuple as a child and passing the current key and child\n * parameter to the provided callback function.\n *\n * @param {*} children React children (usually the value of \"props.children\").\n * @param {Function} fn Function to call which will receive two parameters:\n *\n *                          - key: The current key;\n *                          - child: The current child;\n *\n * @return {Array} An array of mapped children.\n */\nexport const reactChildrenKeyChildTupleMap = (children, fn) => {\n  return reactChildrenMap(children, childrenKeyChildTupleFn(fn));\n};\n\n/**\n * Map React children like \"reactChildrenKeyChildTupleMap\", but flattening the given children before mapping.\n *\n * @param {*} children React children (usually the value of \"props.children\").\n * @param {Function} fn Function to call which will receive two parameters:\n *\n *                          - key: The current key;\n *                          - child: The current child;\n *\n * @return {Array} An array of mapped children.\n */\nexport const reactChildrenKeyChildTupleFlatMap = (children, fn) => {\n  return reactChildrenFlatMap(children, childrenKeyChildTupleFn(fn));\n};\n\n/**\n * Generates a new ref callback.\n *\n * @param {Object} ref A ref object.\n * @param {*} ref.current The mutable value of the ref.\n * @param {string} prop A property to pick from the value passed to the ref callback.\n * @return {Function} The new ref callback.\n */\nexport const refCallback = (ref, prop = void 0) => value =>\n  (ref.current = prop ? (value ? value[prop] : null) : value);\n\n/**\n * Tests if the given value has a React component name property\n * (either a \"name\" or a \"displayName\" string property with the first character\n * being a capital letter).\n *\n * @param {*} fn A value.\n * @return {boolean} True if the given value has a valid React component name,\n *                   false otherwise.\n */\nexport const isWithReactComponentName = fn =>\n  !!(\n    fn &&\n    ((!isEmpty(fn.name) && fn.name[0] === fn.name[0].toUpperCase()) ||\n      (!isEmpty(fn.displayName) &&\n        fn.displayName[0] === fn.displayName[0].toUpperCase()))\n  );\n\n/**\n * Tests if the given value is a function with a valid React component name.\n *\n * @param {*} fn A value.\n * @return {boolean} True if the given value is a function with a valid React component name,\n *                   false otherwise.\n */\nexport const isFnWithComponentName = fn =>\n  typeof fn === \"function\" && isWithReactComponentName(fn);\n\n/**\n * Tests if a value is a React builtin HOC (e.g. a component returned by \"React.memo()\").\n *\n * @param {*} Component The value.\n * @return {boolean} True if the given value is a React HOC.\n */\nexport const isReactHOC = Component =>\n  typeof Component === \"object\" &&\n  ((Object.prototype.hasOwnProperty.call(Component, \"$$typeof\") &&\n    [typeof Symbol(\"\"), typeof \"\"].indexOf(typeof Component.$$typeof) > -1) ||\n    isWithReactComponentName(Component) ||\n    isReactComponent(Component.type));\n\n/**\n * Private helper for composing behaviour when testing possible React components.\n *\n * @private\n */\nconst withAncestorHasComponentName = () => {\n  let ancestorHasComponentName = false;\n  return fn => ({ Component, Parent = void 0, ...props }) => {\n    ancestorHasComponentName =\n      ancestorHasComponentName || isWithReactComponentName(Parent);\n    return fn({ ...props, Component, ancestorHasComponentName });\n  };\n};\n\n/**\n * Private helper for composing behaviour when testing possible React components.\n *\n * @private\n */\nconst withAncestorIsBuiltinReactHOC = () => {\n  let ancestorIsBuiltinReactHOC = false;\n  return fn => ({ Component, Parent = void 0, ...props }) => {\n    ancestorIsBuiltinReactHOC = ancestorIsBuiltinReactHOC || isReactHOC(Parent);\n    return fn({ ...props, Component, ancestorIsBuiltinReactHOC });\n  };\n};\n\n/**\n * Composed behaviours when testing ancestors.\n *\n * @private\n *\n * @param {(props: Object) => boolean} fn\n */\nconst withComposedAncestorTests = fn =>\n  compose(withAncestorIsBuiltinReactHOC(), withAncestorHasComponentName())(fn);\n\n/**\n * Tests if the given value is a valid React functional component.\n *\n * @param {*} Component The value.\n * @return {boolean} True if the value is a React functional component, false otherwise.\n */\nexport function isFunctionalComponent(Component) {\n  const testComponent = withComposedAncestorTests(\n    ({ Component, ancestorHasComponentName, ancestorIsBuiltinReactHOC }) => {\n      if (\n        !(Component.prototype && Component.prototype.isReactComponent) &&\n        (isFnWithComponentName(Component) ||\n          (typeof Component === \"function\" &&\n            (ancestorHasComponentName || ancestorIsBuiltinReactHOC)))\n      ) {\n        return true;\n      } else if (isReactHOC(Component)) {\n        return testComponent({ Component: Component.type, Parent: Component });\n      }\n      return false;\n    }\n  );\n  return testComponent({ Component });\n}\n\n/**\n * Tests if the given value is a valid React class component.\n *\n * @param {*} Component The value.\n * @return {boolean} True if the value is a React class component, false otherwise.\n */\nexport function isClassComponent(Component) {\n  const testComponent = withComposedAncestorTests(\n    ({ Component, ancestorHasComponentName, ancestorIsBuiltinReactHOC }) =>\n      !!(\n        Component.prototype &&\n        Component.prototype.isReactComponent &&\n        (ancestorHasComponentName ||\n          ancestorIsBuiltinReactHOC ||\n          isFnWithComponentName(Component))\n      ) ||\n      (isReactHOC(Component) && isClassComponent(Component.type))\n  );\n  return testComponent({ Component });\n}\n\n/**\n * Tests if the given value is a valid React component.\n *\n * @param {*} value A value.\n * @return {boolean} True if the given value is a valid React component, false otherwise.\n */\nexport function isReactComponent(Component) {\n  return (\n    isFunctionalComponent(Component) ||\n    isClassComponent(Component) ||\n    isReactHOC(Component)\n  );\n}\n\n/**\n * Returns a default value.\n *\n * @param {*} [defaultValue] A default value.\n * @param {*} [valueIfDefaultValueIsUndefined] A value to return if the given default value is \"undefined\".\n * @return {*} A default value.\n */\nexport function defaultVal(\n  defaultValue = void 0,\n  valueIfDefaultValueIsUndefined = void 0\n) {\n  if (defaultValue) {\n    return defaultValue;\n  }\n  if (isUndefined(defaultValue)) {\n    return valueIfDefaultValueIsUndefined;\n  } else {\n    return !defaultValue ? void 0 : defaultValue;\n  }\n}\n\n/**\n * Checks whether the given value is a controlled value or not.\n * If the value is a controlled value, it can be used in a controlled component.abs\n *\n * @see https://stackoverflow.com/questions/37427508/react-changing-an-uncontrolled-input#answer-37427596\n * @see https://github.com/facebook/react/blob/master/packages/react-dom/src/client/ReactDOMInput.js#L40\n *\n * @param {*} value The given value.\n * @return {boolean} True if the given value is a controlled value, i.e. it can be used in a controlled component,\n *                   false otherwise.\n */\nexport function isControlledValue(value) {\n  return value != null;\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nexport {\n  classNames,\n  mergeClassNameProp,\n  reactComponentName,\n  getDisplayName,\n  reactChildrenMap,\n  reactChildrenFlatMap,\n  reactChildrenKeyChildTupleMap,\n  reactChildrenKeyChildTupleFlatMap,\n  refCallback,\n  isFnWithComponentName,\n  isWithReactComponentName,\n  isFunctionalComponent,\n  isClassComponent,\n  isReactComponent,\n  isReactHOC,\n  defaultVal,\n  isControlledValue,\n} from \"./utils\";\n","/*\n * Copyright (c) 2021 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * @type {WeakMap}\n */\nconst privateScope = new WeakMap();\nexport default class DefPromise extends Promise {\n  constructor(executor = () => {}) {\n    let resolve, reject;\n    let isSettled = false,\n        hasResolved = false,\n        hasRejected = false;\n    super((resolveFunc, rejectFunc) => {\n      resolve = (...args) => {\n        if (!isSettled) {\n          isSettled = true;\n          hasResolved = true;\n        }\n\n        resolveFunc(...args);\n      };\n\n      reject = (...args) => {\n        if (!isSettled) {\n          isSettled = true;\n          hasRejected = true;\n        }\n\n        rejectFunc(...args);\n      };\n\n      executor(resolve, reject);\n    });\n    const priv = {\n      resolve,\n      reject,\n      isSettled: () => isSettled,\n      hasResolved: () => hasResolved,\n      hasRejected: () => hasRejected\n    };\n    privateScope.set(this, priv);\n  }\n\n  resolve(...args) {\n    return privateScope.get(this).resolve(...args);\n  }\n\n  reject(...args) {\n    return privateScope.get(this).reject(...args);\n  }\n\n  isSettled() {\n    return privateScope.get(this).isSettled();\n  }\n\n  hasResolved() {\n    return privateScope.get(this).hasResolved();\n  }\n\n  hasRejected() {\n    return privateScope.get(this).hasRejected();\n  }\n\n}\n//# sourceMappingURL=index.js.map","var LQueue = function(){\n  this.head = null;\n  this.tail = null;\n  this.length = 0;\n}\n\nLQueue.prototype.enqueue = function(data){\n  var tmp = new Node(data);\n  tmp.data = data;\n  tmp.next = null;\n  this.length ++;\n  if(this.head == null){\n    this.tail = this.head = tmp;\n    return;\n  }\n  this.tail.next = tmp;\n  this.tail = this.tail.next;\n}\n\nLQueue.prototype.enqueueAll = function(list){\n  for(var i =0;i < list.length;i++){\n    this.enqueue(list[i]);\n  }\n}\n\nLQueue.prototype.dequeue = function(){\n  if(this.head == null){\n    return null;\n  }\n  this.length --;\n  var data = this.head.data;\n  var tmp = this.head;\n  this.head = this.head.next;\n  if(this.head == null){\n    this.tail = null;\n  }\n  tmp.next  = null;\n  return data;\n\n}\n\nLQueue.prototype.dequeueAll = function(fn){\n  while(this.head != null){\n    fn(this.dequeue());\n  }\n}\n\nLQueue.prototype.first = function(){\n  if(this.head != null){\n    return this.head.data\n  }\n  return null;\n}\n\nLQueue.prototype.last = function(){\n  if(this.tail != null){\n    return this.tail.data\n  }\n  return null;\n}\n\nLQueue.prototype.isEmpty = function(){\n  return this.length ===0;\n}\n\nLQueue.prototype.clear = function(data){\n  if(this.head == null) return;\n  var tmp = null;\n  while(this.head != null){\n      tmp=this.head;\n      this.head = this.head.next;\n      tmp.next = null;\n      this.length --;\n  }\n  this.tail = null;\n}\nLQueue.prototype.forEach = function(fn){\n  var tmp = this.head;\n  while(tmp != null){\n    fn(tmp.data);\n    tmp = tmp.next\n  }\n}\n\nvar Node = function(data){\n  this.data = data;\n  this.next = null;\n}\nmodule.exports = LQueue;\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useState, useMemo } from \"react\";\nimport { partialShallowEqual } from \"js-utl\";\n\n/**\n * Hook to use a POJO state which merges values of the previous state with the next one\n * if the partial state update of the next state is not the same as the previous state\n * for the same keys.\n *\n * @param {Object|Function} initialState The initial state, either a POJO (Plain Old JavaScript Object)\n *                                       or a function returning a POJO (lazy initial state).\n * @return {Array} A tuple of two values, current state POJO and callback to set state,\n *                 like the one returned by the \"useState\" hook.\n *\n *                 The callback to set state may receive an updater function which will receive\n *                 the previous POJO state as argument and must return the next partial POJO state\n *                 update or \"null\" (to bail out of the state update, read below).\n *\n *                 If the updater function returns \"null\" or a partial POJO state update which\n *                 has the same values for the same keys as the current POJO state, the update will be\n *                 bailed out as for the \"useState\" hook.\n */\nexport default function usePOJOState(initialState) {\n  const [state, setState] = useState(initialState);\n  const setPOJOState = useMemo(\n    () => nextState =>\n      setState(prevState => {\n        const newState =\n          typeof nextState === \"function\" ? nextState(prevState) : nextState;\n        if (newState === null) {\n          return prevState;\n        } else {\n          return partialShallowEqual(prevState, newState)\n            ? prevState\n            : { ...prevState, ...newState };\n        }\n      }),\n    []\n  );\n  return [state, setPOJOState];\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useRef, useMemo } from \"react\";\nimport { shallowEqual } from \"js-utl\";\n\n/**\n * Hook to use the previous given value if the currently given value is shallowly equal to the previous one.\n *\n * @param {*} value A value.\n * @return {*} The given value the very first time or the previous value if the given\n *             value is shallowly equal to the previous given value.\n */\nexport default function useShallowEqualMemo(value) {\n  const ref = useRef({\n    init: true,\n    value,\n  });\n  const ret = useMemo(() => {\n    if (ref.current.init) {\n      ref.current.init = false;\n      ref.current.value = value;\n      return value;\n    }\n    if (shallowEqual(value, ref.current.value)) {\n      return ref.current.value;\n    } else {\n      ref.current.value = value;\n      return value;\n    }\n  }, [value]);\n  return ret;\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useState, useRef } from \"react\";\n\n/**\n * Hook to create a ref initialized lazily during the initial render.\n *\n * @param {(() => *)|*} fn A function returning the initial value of the ref object's \"current\" property or any\n *                         other value to use as-is if as the initial value of the ref object's \"current\" property.\n * @return {Object} A ref object with its \"current\" property set to the value returned by the given \"fn\" function\n *                  or to the value passed as parameter to this hook if the \"fn\" parameter is not a function.\n */\nexport default function useLazyRef(fn) {\n  const [initialValue] = useState(fn);\n  const ref = useRef(initialValue);\n  return ref;\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useEffect, useState, useRef, useCallback } from \"react\";\nimport { randomString, isUndefined } from \"js-utl\";\nimport LQueue from \"linked-queue\";\nimport usePOJOState from \"./usePOJOState\";\nimport useShallowEqualMemo from \"./useShallowEqualMemo\";\nimport useLazyRef from \"./useLazyRef\";\n\n/**\n * @type {Function}\n */\nconst defaultOnStateUpdate = ({ newState }) => newState;\n\n/**\n * Return false by default, for non-POJO state, bail out only if the new state is the same as the previous state.\n *\n * @type {Function}\n */\nconst defaultOnHasBailedOut = ({ prevState, newState }) =>\n  newState === prevState;\n\n/**\n * Hook used internally for all hooks allowing to set state with a `setState` callback\n * (`useStateWithEffectCallback`, `useStateWithLayoutEffectCallback`, `usePOJOStateWithEffectCallback`, `usePOJOStateWithLayoutEffectCallback`).\n *\n * @type {Function}\n */\nexport const useStateWithSetStateCallback = ({\n  initialState,\n  useEffect,\n  onStateUpdate = defaultOnStateUpdate,\n  onHasBailedOut = defaultOnHasBailedOut,\n}) => {\n  const counterRef = useRef([]);\n  const randomValueCallback = useCallback(() => {\n    counterRef.current++;\n    counterRef.current = counterRef.current % Number.MAX_SAFE_INTEGER;\n    return `${randomString()}@${counterRef.current}`;\n  }, []);\n\n  const [derivedState, setDerivedState] = usePOJOState((...args) => ({\n    state:\n      typeof initialState === \"function\" ? initialState(...args) : initialState,\n    rand: randomValueCallback(),\n  }));\n\n  const state = useShallowEqualMemo(derivedState.state);\n\n  const callbacksQueueRef = useLazyRef(() => new LQueue());\n\n  useEffect(() => {\n    const len = callbacksQueueRef.current.length;\n    for (let i = 0; i < len; i++) {\n      const callback = callbacksQueueRef.current.dequeue();\n      callback(state);\n    }\n  }, [derivedState.rand, state, callbacksQueueRef]);\n\n  const setStateWithCallback = useCallback(\n    (newStateUpdate, callback = void 0) => {\n      const stateUpdate = (derivedState, ...args) => {\n        let update = null;\n        const prevState = derivedState.state;\n\n        let newState;\n        if (typeof newStateUpdate === \"function\") {\n          newState = newStateUpdate(prevState, ...args);\n        } else {\n          newState = newStateUpdate;\n        }\n\n        const hasBailedOut = onHasBailedOut({ prevState, newState });\n        const hasCallback = !isUndefined(callback);\n        if (hasBailedOut) {\n          if (hasCallback) {\n            // State update has bailed out, but there is a \"setState\" callback to execute.\n            // Execute the callback right away with the previous state.\n            callback(prevState);\n          }\n        } else {\n          update = {\n            state: onStateUpdate({ prevState, newState }),\n          };\n          if (hasCallback) {\n            // There is a state update and a \"setState\" callback to execute.\n            // Enqueue the callback to execute it later with the updated state in the effect when the state has been updated.\n            callbacksQueueRef.current.enqueue(callback);\n            update.rand = randomValueCallback();\n          }\n        }\n\n        return update;\n      };\n      return setDerivedState(stateUpdate);\n    },\n    [\n      setDerivedState,\n      randomValueCallback,\n      callbacksQueueRef,\n      onStateUpdate,\n      onHasBailedOut,\n    ]\n  );\n\n  return [state, setStateWithCallback];\n};\n\n/**\n * Hook to use a state with a `setState` function receiving a callback as its second parameter\n * called in an effect after the state change is performed.\n *\n * @param {*|Function} initialState The initial state or a lazy callback returning the initial state.\n * @return {Array} A tuple of two values, current state and callback to set state,\n *                 like the one returned by the \"useState\" hook.\n *\n *                 The callback to set state may receive an updater function which will receive\n *                 the previous state as argument and must return the next state.\n *\n *                 The callback to set state may also receive a callback as its second parameter,\n *                 which is called in an effect after the state change is performed.\n */\nexport default function useStateWithEffectCallback(initialState) {\n  return useStateWithSetStateCallback({ initialState, useState, useEffect });\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useCallback } from \"react\";\nimport DefPromise from \"def-promise\";\nimport useStateWithEffectCallback from \"./useStateWithEffectCallback\";\n\n/**\n * Hook used internally for all hooks allowing to set state and await for the state change.\n * (`useAwaitableStateWithEffect`, `useAwaitableStateWithLayoutEffect`, `useAwaitablePOJOStateWithEffect`, `useAwaitablePOJOStateWithEffect`).\n *\n * @type {Function}\n */\nexport const useAwaitableState = ({\n  initialState,\n  useStateWithSetStateCallback,\n}) => {\n  const [state, setState] = useStateWithSetStateCallback(initialState);\n  const setStateCallback = useCallback(\n    newState => {\n      const defPromise = new DefPromise();\n      setState(newState, (...args) => {\n        defPromise.resolve(...args);\n      });\n      return defPromise;\n    },\n    [setState]\n  );\n  return [state, setStateCallback];\n};\n\n/**\n * Hook to use a state with a `setState` function which can be awaited until the state change is performed\n * and the underlying effect (`useEffect`) is executed.\n *\n * @param {*|Function} initialState The initial state or a lazy callback returning the initial state.\n * @return {Array} A tuple of two values, current state and callback to set state,\n *                 like the one returned by the \"useState\" hook.\n *\n *                 The callback to set state may be awaited until the state change is performed\n *                 and the underlying effect (`useEffect`) is executed.\n */\nexport default function useAwaitableStateWithEffect(initialState) {\n  return useAwaitableState({\n    initialState,\n    useStateWithSetStateCallback: useStateWithEffectCallback,\n  });\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useEffect } from \"react\";\nimport { useStateWithSetStateCallback } from \"./useStateWithEffectCallback\";\nimport usePOJOState from \"./usePOJOState\";\nimport { partialShallowEqual } from \"js-utl\";\n\n/**\n * @type {Function}\n */\nexport const onStateUpdate = ({ prevState, newState }) => ({\n  ...prevState,\n  ...newState,\n});\n\n/**\n * For POJO state, bails out if the new state is null or partially shallowly equal to the previous state.\n *\n * @type {Function}\n */\nexport const onHasBailedOut = ({ prevState, newState }) =>\n  newState === null || partialShallowEqual(prevState, newState);\n\n/**\n * Hook to use a POJO state with a `setState` function receiving a callback as its second parameter\n * called in an effect after the state change is performed.\n *\n * @param {*|Function} initialState The initial POJO state or a lazy callback returning the initial POJO state.\n * @return {Array} A tuple of two values, current POJO state and callback to set the POJO state,\n *                 like the one returned by the \"usePOJOState\" hook.\n *\n *                 The callback to set state may receive an updater function which will receive\n *                 the previous state as argument and must return the next state.\n *\n *                 The callback to set state may also receive a callback as its second parameter,\n *                 which is called in an effect after the state change is performed.\n */\nexport default function usePOJOStateWithEffectCallback(initialState) {\n  return useStateWithSetStateCallback({\n    initialState,\n    useState: usePOJOState,\n    useEffect,\n    onStateUpdate,\n    onHasBailedOut,\n  });\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useAwaitableState } from \"./useAwaitableStateWithEffect\";\nimport usePOJOStateWithEffectCallback from \"./usePOJOStateWithEffectCallback\";\n\n/**\n * Hook to use a POJO state with a `setState` function which can be awaited until the POJO state change is performed\n * and the underlying effect (`useEffect`) is executed.\n *\n * @param {*|Function} initialState The initial POJO state or a lazy callback returning the initial POJO state.\n * @return {Array} A tuple of two values, current POJO state and callback to set POJO state,\n *                 like the one returned by the \"usePOJOState\" hook.\n *\n *                 The callback to set POJO state may be awaited until the POJO state change is performed\n *                 and the underlying effect (`useEffect`) is executed.\n */\nexport default function useAwaitablePOJOStateWithEffect(initialState) {\n  return useAwaitableState({\n    initialState,\n    useStateWithSetStateCallback: usePOJOStateWithEffectCallback,\n  });\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useRef, useEffect } from \"react\";\n\n/**\n * Hook to use the previous value of a value.\n *\n * @param {*} value The new value.\n * @return {*} The previous value, or, initially, \"undefined\".\n */\nexport default function usePrevious(value) {\n  const ref = useRef(void 0);\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n}\n","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\n\nvar iterableToArray = require(\"./iterableToArray.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useRef, useEffect } from \"react\";\nimport { isArray } from \"js-utl\";\n\n/**\n * Hook to execute a callback each time a component updates\n * (not when it mounts on the initial render).\n *\n * @param {Function} fn The callback to execute.\n * @param {Array|undefined} [deps] Dependencies array to use.\n * @return {undefined}\n */\nexport default function useUpdateEffect(fn, deps = void 0) {\n  const isInitialRenderRef = useRef(true);\n  if (isArray(deps)) {\n    // This is needed so that the update effect is triggered on the first update\n    // even if the deps array didn't change.\n    if (deps.length) {\n      if (isInitialRenderRef.current) {\n        deps = [...deps];\n        let shouldBreak = false;\n        while (true) {\n          const rand = Math.random();\n          for (let i = 0; i < deps.length; i++) {\n            const value = deps[i];\n            if (rand !== value) {\n              shouldBreak = true;\n              break;\n            }\n            deps[i] = rand + 1;\n          }\n          if (shouldBreak) {\n            break;\n          }\n        }\n      }\n    } else {\n      if (isInitialRenderRef.current) {\n        deps = [0];\n      } else {\n        deps = [1];\n      }\n    }\n  }\n  useEffect(() => {\n    if (isInitialRenderRef.current) {\n      isInitialRenderRef.current = false;\n      return;\n    }\n    return fn();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, deps);\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useEffect } from \"react\";\n\n/**\n * Hook to execute a callback on mount.\n *\n * @param {Function} fn The callback to execute.\n * @return {undefined}\n */\nexport default function useMountEffect(fn) {\n  useEffect(fn, []);\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useRef, useEffect } from \"react\";\n\n/**\n * Returns a ref for a callback.\n *\n * Useful e.g. when using callbacks within a callback of \"useEffect\" hook\n * which should not interfere with the deps array of the hook and yet having\n * a reference to the up-to-date callback within the \"useEffect\" hook's callback\n * through the \"current\" property.\n *\n * @see https://github.com/donavon/use-event-listener/issues/27\n *\n * @param {Function} callback A callback.\n * @return {Object} A ref for the given callback.\n *                  The returned ref could and should be passed as a dep to the dependencies array\n *                  of a hook using it because React guarantees that the returned object will persist\n *                  for the full lifetime of the component.\n * @return {Object.current} The up-to-date callback.\n */\nexport default function useCallbackRef(callback) {\n  const callbackRef = useRef(callback);\n  useEffect(() => {\n    callbackRef.current = callback;\n  }, [callback]);\n\n  return callbackRef;\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useEffect } from \"react\";\nimport useCallbackRef from \"./useCallbackRef\";\n\n/**\n * Hook to execute a callback on unmount.\n *\n * @param {Function} fn The callback to execute.\n * @return {undefined}\n */\nexport default function useUnmountEffect(fn) {\n  const fnRef = useCallbackRef(fn);\n  useEffect(() => () => fnRef.current(), [fnRef]);\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useState, useCallback } from \"react\";\n\n/**\n * Hook exposing an imperative callback which, if called, forces a component to update.\n *\n * @return {Function} A callback to call to force a component to update.\n */\nexport default function useForceUpdate() {\n  const [, setState] = useState();\n  const forceUpdate = useCallback(() => setState({}), []);\n  return forceUpdate;\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useCallback, useRef } from \"react\";\n\n/**\n * Hook returning a HOF (higher-order function) which, when called\n * with a given key, returns a memoized function for that same key\n * which can be easily used e.g. in a loop without causing re-renders\n * because of inline arrow functions.\n *\n * @param {Function} fn The function to memoize.\n * @param {Array|undefined} deps Dependencies array for the function, or undefined.\n * @return {Function} A higher-order function which, when called with a given key,\n *                    returns the memoized function \"fn\" which, when called, will receive\n *                    the key as the first parameter as well as the other parameters passed\n *                    to the memoized function when calling it.\n */\nexport default function useHOFCallback(fn, deps) {\n  const callback = useCallback(fn, deps);\n  const ref = useRef({ map: new Map(), callback });\n\n  if (callback !== ref.current.callback) {\n    ref.current.map.clear();\n    ref.current.callback = callback;\n  }\n\n  const HOFCallback = useCallback(\n    key => {\n      let memoizedFn = ref.current.map.get(key);\n      if (!memoizedFn) {\n        memoizedFn = (...args) => callback(key, ...args);\n        ref.current.map.set(key, memoizedFn);\n      }\n      return memoizedFn;\n    },\n    [callback]\n  );\n\n  return HOFCallback;\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useMemo, useCallback } from \"react\";\nimport { isArray } from \"js-utl\";\n\n/**\n * Hook to easily create interchangeable factories switching them\n * in a declarative way based on the given runtime parameters.\n *\n * @param {Function} tuplesFn A function returning an array of tuples, each tuple being an array of two elements:\n *\n *                                - testCondition: A boolean value or a function returning a boolean value\n *                                                 which, if \"true\", instructs this hook to return the \"factory\" factory\n *                                                 bound to this \"testCondition\".\n *                                                 Note that the first \"factory\" for which \"testCondition\" is truthy\n *                                                 will be returned and further tuples will be ignored;\n *\n *                                - factory: Anything. The value to return if \"testCondition\" is a truthy value\n *                                           or a function returning a truthy value.\n *\n *                            The last element of the returned tuples MAY not be a tuple array with two elements,\n *                            and in such case it will be treated as the default factory value to return if none\n *                            of the test conditions of the previous factories are satisfied.\n *                            If the last tuple is not a default value and none of the test conditions of the previous\n *                            factories are satisfied as well as for the factory of last tuple, then \"undefined\"\n *                            will be returned by this hook.\n * @param {Array|undefined} [deps] Dependencies array to use.\n * @return {*} The first factory value for which the test is truthy or returns a truthy value, a default factory value,\n *             or \"undefined\".\n */\nexport default function useFactory(tuplesFn, deps = void 0) {\n  const tuples = useMemo(tuplesFn, deps || []);\n\n  // \"testConditionFn\" is pure and does never change.\n  const testConditionFn = useCallback(\n    testCondition =>\n      Boolean(\n        typeof testCondition === \"function\" ? testCondition() : testCondition\n      ),\n    []\n  );\n\n  const factoryValue = useMemo(() => {\n    let i = 0;\n    // Loop through all the tuples except the last one (handled after this loop).\n    for (; i < tuples.length - 1; i++) {\n      const tuple = tuples[i];\n      const [testCondition, factoryValue] = tuple;\n      if (testConditionFn(testCondition)) {\n        // Test condition for factory value is satisfied.\n        return factoryValue;\n      }\n    }\n    const lastTuple = tuples[i];\n    if (isArray(lastTuple) && lastTuple.length === 2) {\n      const [testCondition, factoryValue] = lastTuple;\n      if (testConditionFn(testCondition)) {\n        // Test condition for last factory value is satisfied.\n        return factoryValue;\n      }\n\n      // No default and no factory value satisfying a test condition.\n      return void 0;\n    } else {\n      // Default factory value.\n      return lastTuple;\n    }\n  }, [testConditionFn, tuples]);\n\n  return factoryValue;\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useMemo } from \"react\";\nimport { extend, isPlainObject } from \"js-utl\";\nimport useShallowEqualMemo from \"./useShallowEqualMemo\";\n\n/**\n * Hook to extend an object with an array of source objects.\n *\n * @param {Object|Function} destination Destination object or a function returning a destination object.\n * @param {Array} deps An array which defines the dependecies of the hook as well the source objects\n *                     to use to extend the destination object.\n *                     If the nth element of this array is an object, it will always be used as a source object\n *                     when extending the destination object \"destination\", as well as used as a dep.\n *                     If the nth element of this array is not an object, it will only be used as a dep.\n * @param {Object} [extendOptions] The options for the extension.\n *                                 See the \"extend\" function of the js-utl package (https://github.com/tonix-tuft/js-utl)\n *                                 for the available options.\n * @return {Object} The extended destination object.\n */\nexport default function useExtend(destination, deps, extendOptions = {}) {\n  const obj = useMemo(\n    typeof destination === \"function\" ? destination : () => destination,\n    deps\n  );\n\n  extendOptions = useShallowEqualMemo(extendOptions);\n  const extendFn = () =>\n    extend(obj, ...deps.filter(isPlainObject), [extendOptions]);\n  const finalObj = useMemo(extendFn, [...deps, extendOptions]);\n  return finalObj;\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport useFactory from \"./useFactory\";\nimport ImmutableLinkedOrderedMap from \"immutable-linked-ordered-map\";\n\n/**\n * Hook generating a callback to easily loop through a data structure.\n *\n * @param {Array|ImmutableLinkedOrderedMap} dataStructure A data structure.\n * @return {(fn: (value: *) => *) => Array} A function which receives a callback to loop through\n *                                          the values of the data structure returning an array\n *                                          with the mapped values.\n */\nexport default function useLoopCallback(dataStructure) {\n  const loopCallback = useFactory(\n    () => [\n      [\n        ImmutableLinkedOrderedMap.isMap(dataStructure),\n        fn => dataStructure.map(fn),\n      ],\n      fn => dataStructure.map(fn),\n    ],\n    [dataStructure]\n  );\n  return loopCallback;\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useRef } from \"react\";\n\n/**\n * Hook to get a ref to the global \"window\" object.\n *\n * @return {Object} A ref to the global \"window\" object, available through the \"current\" property.\n */\nexport default function useWindowRef() {\n  const ref = useRef(window);\n  return ref;\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport usePrevious from \"./usePrevious\";\n\n/**\n * Hook to tell if the current rendering is due to an update or not.\n *\n * @return {boolean} True if the current rendering is due to an update, false otherwise.\n */\nexport default function useIsUpdate() {\n  return !!usePrevious(true);\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useRef, useMemo } from \"react\";\nimport useIsUpdate from \"./useIsUpdate\";\nimport {\n  isPlainObject,\n  shallowEqual,\n  shallowObjectDiff,\n  isObjectEmpty,\n  extend,\n} from \"js-utl\";\n\n/**\n * Hook to use a cumulative shallow diff of a value.\n *\n * @param {*} value A value.\n * @return {*} The given value, initially.\n *\n *             The previous value if the given value is equal to the previous one and both\n *             are not objects.\n *\n *             If the previous value and the given value are both objects,\n *             then this hook will only return an object containing the diff between the two\n *             accumulating the new keys and their corresponding values.\n *             In this last case, if the resulting object containing the diff is empty\n *             (meaning there's no diff) or if the diff is shallowly equal\n *             to the previous one, then the previous diff object will be returned\n *             if a diff was performed at least once previously, otherwise the previous value\n *             will be returned, meaning that there wasn't a diff before yet\n *             (useful for the array of dependencies of other hooks like \"useEffect\" and \"useMemo\").\n */\nexport default function useCumulativeShallowDiff(value) {\n  const valueDiffRef = useRef({\n    value,\n    diff: {},\n    werePreviousAndCurrentObjectsDiffedAndThereWasADiff: false,\n  });\n\n  const isUpdate = useIsUpdate();\n  value = useMemo(() => {\n    const previousValue = valueDiffRef.current.value;\n    if (!isUpdate) {\n      return previousValue;\n    }\n    if (isPlainObject(previousValue) && isPlainObject(value)) {\n      const previousDiff = valueDiffRef.current.diff;\n      const diff = shallowObjectDiff(previousValue, value);\n      const newDiff = diff.objB;\n      if (isObjectEmpty(newDiff) || shallowEqual(previousDiff, newDiff)) {\n        return valueDiffRef.current\n          .werePreviousAndCurrentObjectsDiffedAndThereWasADiff\n          ? previousDiff\n          : previousValue;\n      } else {\n        valueDiffRef.current.werePreviousAndCurrentObjectsDiffedAndThereWasADiff = true;\n        valueDiffRef.current.value = extend({}, previousValue, newDiff);\n        valueDiffRef.current.diff = newDiff;\n        return newDiff;\n      }\n    } else {\n      valueDiffRef.current.werePreviousAndCurrentObjectsDiffedAndThereWasADiff = false;\n      valueDiffRef.current.diff = {};\n      if (shallowEqual(previousValue, value)) {\n        return previousValue;\n      }\n      valueDiffRef.current.value = value;\n      return value;\n    }\n  }, [isUpdate, value]);\n\n  return value;\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useLayoutEffect, useCallback } from \"react\";\nimport useWindowRef from \"./useWindowRef\";\nimport usePOJOState from \"./usePOJOState\";\nimport useCumulativeShallowDiff from \"./useCumulativeShallowDiff\";\nimport { pick } from \"js-utl\";\n\n/**\n * @type {Object}\n */\nconst initialDimensions = {\n  width: void 0,\n  height: void 0,\n};\n\n/**\n * @type {string[]}\n */\nconst defaultDimensionProps = [\"width\", \"height\"];\n\n/**\n * Hook to get the dimensions of a DOM element.\n *\n * @param {string|Element|Object} element A selector of a DOM element, a DOM element or a ref object.\n * @param {string[]} dimensionProps Array of dimension props to track.\n *                                  Defaults to ['width', 'height'], i.e. track both width and height.\n * @return {Array|Object} The return value of this hook can be destructured as an array as well as an object.\n *\n *                        When destructuring it as an array, the array will have the dimensions object\n *                        having \"width\" and \"height\" properties as its first element and a \"forceSetDimensions\"\n *                        function as its second element which, if called, will force the recalculation\n *                        of the width and height of the element.\n *\n *                        When destructuring an object, the object will have the \"width\" and \"height\" of the DOM element,\n *                        as well as the \"forceSetDimensions\" function as properties.\n *\n *                        Initially, on first render, both \"width\" and \"height\" will be \"undefined\".\n */\nexport default function useElementSize(\n  element,\n  dimensionProps = defaultDimensionProps\n) {\n  dimensionProps = useCumulativeShallowDiff(dimensionProps);\n\n  const [dimensions, setDimensions] = usePOJOState(() =>\n    pick(...dimensionProps)(initialDimensions)\n  );\n\n  const windowRef = useWindowRef();\n\n  const forceSetDimensions = useCallback(() => {\n    const finalElement =\n      typeof element === \"string\"\n        ? document.querySelector(element)\n        : Object.prototype.hasOwnProperty.call(element, \"current\")\n        ? element.current\n        : element;\n    if (finalElement) {\n      const boundingClientRect = finalElement.getBoundingClientRect();\n      const dimensions = pick(...dimensionProps)(boundingClientRect);\n      setDimensions(dimensions);\n    } else {\n      setDimensions(initialDimensions);\n    }\n  }, [element, setDimensions, dimensionProps]);\n\n  useLayoutEffect(() => {\n    const window =\n      windowRef.current &&\n      windowRef.current.addEventListener(\"resize\", forceSetDimensions);\n    forceSetDimensions();\n    return () => {\n      window && window.removeEventListener(\"resize\", forceSetDimensions);\n    };\n  }, [windowRef, forceSetDimensions]);\n\n  const ret = [dimensions, forceSetDimensions];\n  for (const prop in dimensions) {\n    ret[prop] = dimensions[prop];\n  }\n  ret.forceSetDimensions = forceSetDimensions;\n  return ret;\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport useElementSize from \"./useElementSize\";\nimport { useMemo } from \"react\";\n\n/**\n * Hook like {@link useElementSize()}, but optimized for height only.\n *\n * @param {string|Element} element A selector of a DOM element or a DOM element.\n * @return {Array|Object} The return value of this hook can be destructured as an array as well as an object\n *                        and its the same as the return value of the \"useElementSize()\" hook,\n *                        the only difference being that the dimension object will only have the \"height\" property.\n *\n */\nexport default function useElementHeight(element) {\n  const dimensionProps = useMemo(() => [\"height\"], []);\n  return useElementSize(element, dimensionProps);\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport useElementSize from \"./useElementSize\";\nimport { useMemo } from \"react\";\n\n/**\n * Hook like {@link useElementSize()}, but optimized for width only.\n *\n * @param {string|Element} element A selector of a DOM element or a DOM element.\n * @return {Array|Object} The return value of this hook can be destructured as an array as well as an object\n *                        and its the same as the return value of the \"useElementSize()\" hook,\n *                        the only difference being that the dimension object will only have the \"width\" property.\n *\n */\nexport default function useElementWidth(element) {\n  const dimensionProps = useMemo(() => [\"width\"], []);\n  return useElementSize(element, dimensionProps);\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport useFactory from \"./useFactory\";\nimport ImmutableLinkedOrderedMap from \"immutable-linked-ordered-map\";\n\n/**\n * Hook returning an array for a given a data structure.\n *\n * @param {Array|ImmutableLinkedOrderedMap} dataStructure A data structure.\n * @return {Array} An array containing the values of the data structure.\n *                 If an array is given as the data structure, the same array will be returned by this hook.\n */\nexport default function useArray(dataStructure) {\n  const arrayFactoryFn = useFactory(\n    () => [\n      [\n        ImmutableLinkedOrderedMap.isMap(dataStructure),\n        () => dataStructure.values(),\n      ],\n      () => dataStructure,\n    ],\n    [dataStructure]\n  );\n  return arrayFactoryFn();\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useMemo } from \"react\";\nimport { uniqueId, trimRight } from \"js-utl\";\n\n/**\n * @type {string}\n */\nconst uniqueKeyPrefix = \"react-js-utl-ellViKYMFK-\";\n\n/**\n * Hook returning a unique key.\n *\n * @param {*} [dep] An optional dep which, if set and when changed, will force the regeneration of a new key.\n * @return {string} A unique key.\n */\nexport default function useUniqueKey(dep = void 0) {\n  const key = useMemo(\n    () =>\n      uniqueId(\n        `${trimRight(\n          `${uniqueKeyPrefix}${typeof dep === \"string\" ? dep : \"\"}-`,\n          \"-\"\n        )}-`\n      ),\n    [dep]\n  );\n  return key;\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useState } from \"react\";\nimport { defaultVal } from \"../utils\";\n\n/**\n * Hook for default values.\n *\n * @param {*} [defaultValue] A default value.\n * @param {*} [valueIfDefaultValueIsUndefined] A value to use if the given default value is undefined.\n * @return {Array} A tuple with initially the default value at index 0, as well as a callback to set\n *                 the value at index 1.\n */\nexport default function useDefaultValue(\n  defaultValue = void 0,\n  valueIfDefaultValueIsUndefined = void 0\n) {\n  const [value, setValue] = useState(\n    defaultVal(defaultValue, valueIfDefaultValueIsUndefined)\n  );\n  return [value, setValue];\n}\n","/*\n * Copyright (c) 2021 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { isArray } from \"js-utl\";\n\n/**\n * @type {Function}\n */\nconst testConditionFn = testCondition =>\n  Boolean(\n    typeof testCondition === \"function\" ? testCondition() : testCondition\n  );\n\n/**\n * A function to easily create interchangeable factories switching them\n * in a declarative way based on the given runtime parameters.\n *\n * @param {Function} tuples An array of tuples, each tuple being an array of two elements:\n *\n *                              - testCondition: A boolean value or a function returning a boolean value\n *                                               which, if \"true\", instructs this function to return the \"factory\" factory\n *                                               bound to this \"testCondition\".\n *                                               Note that the first \"factory\" for which \"testCondition\" is truthy\n *                                               will be returned and further tuples will be ignored;\n *\n *                              - factory: Anything. The value to return if \"testCondition\" is a truthy value\n *                                         or a function returning a truthy value.\n *\n *                          The last element of the returned tuples MAY not be a tuple array with two elements,\n *                          and in such case it will be treated as the default factory value to return if none\n *                          of the test conditions of the previous factories are satisfied.\n *                          If the last tuple is not a default value and none of the test conditions of the previous\n *                          factories are satisfied as well as for the factory of last tuple, then \"undefined\"\n *                          will be returned by this function.\n * @return {*} The first factory value for which the test is truthy or returns a truthy value, a default factory value,\n *             or \"undefined\".\n */\nexport default function declarativeFactory(tuples) {\n  const factoryValue = (() => {\n    let i = 0;\n    // Loop through all the tuples except the last one (handled after this loop).\n    for (; i < tuples.length - 1; i++) {\n      const tuple = tuples[i];\n      const [testCondition, factoryValue] = tuple;\n      if (testConditionFn(testCondition)) {\n        // Test condition for factory value is satisfied.\n        return factoryValue;\n      }\n    }\n    const lastTuple = tuples[i];\n    if (isArray(lastTuple) && lastTuple.length === 2) {\n      const [testCondition, factoryValue] = lastTuple;\n      if (testConditionFn(testCondition)) {\n        // Test condition for last factory value is satisfied.\n        return factoryValue;\n      }\n\n      // No default and no factory value satisfying a test condition.\n      return void 0;\n    } else {\n      // Default factory value.\n      return lastTuple;\n    }\n  })();\n\n  return factoryValue;\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * @type {string}\n */\nexport const primitiveProp = \"react-js-utl-primitive-rFOxpeMOVTDJMxE\";\n\n/**\n * Marks a function as a react-js-utl primitive.\n *\n * @param {Function} primitive A function to mark as a primitive.\n * @param {string} primitiveKey A unique key identifying the primitive.\n * @return {undefined}\n */\nexport default function primitive(primitive, primitiveKey) {\n  primitive[primitiveProp] = {\n    ...(primitive[primitiveProp] || {}),\n    [primitiveKey]: true,\n  };\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { curry } from \"js-utl\";\nimport primitive, { primitiveProp } from \"./primitive\";\n\n/**\n * @type {string}\n */\nconst primitiveKey = \"visitor-GanIjeOSkQd2ZgV\";\n\n/**\n * Visitor primitive.\n *\n * @param {*} key The key to visit.\n * @param {Function} visit The visitor's function to execute when visiting some data at the given key.\n */\nfunction visitor(key, visit) {\n  const visitor = {\n    key,\n    visit: (...args) => visit(...args),\n  };\n  primitive(visitor, primitiveKey);\n  return visitor;\n}\n\nconst curriedVisitor = curry(visitor);\ncurriedVisitor[primitiveProp] = primitiveKey;\nexport default curriedVisitor;\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { primitiveProp } from \"../primitive\";\n\n/**\n * Tests if the given value is a primitive of the given primitive type.\n *\n * @param {*} possiblePrimitive The given value.\n * @param {Function} primitiveType The given primitive type.\n * @return {boolean} True if the given value is a primitive of the given primitive type.\n */\nexport default function isPrimitiveOfType(possiblePrimitive, primitiveType) {\n  const primitiveKey = primitiveType[primitiveProp];\n  return !!(\n    possiblePrimitive &&\n    possiblePrimitive[primitiveProp] &&\n    possiblePrimitive[primitiveProp][primitiveKey]\n  );\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useCallback } from \"react\";\nimport { shallowEqual } from \"js-utl\";\nimport ImmutableLinkedOrderedMap from \"immutable-linked-ordered-map\";\nimport useFactory from \"./useFactory\";\nimport usePrevious from \"./usePrevious\";\nimport declarativeFactory from \"declarative-factory\";\nimport visitor from \"../primitives/visitor\";\nimport isPrimitiveOfType from \"../primitives/predicates/isPrimitiveOfType\";\n\nconst dataGetKey = (data, key) => data.get(key);\n\n/**\n * @type {Object}\n */\nconst mapTraverseFactory = {\n  traverse: dataGetKey,\n};\n\n/**\n * @type {Object}\n */\nconst weakMapTraverseFactory = {\n  traverse: dataGetKey,\n};\n\n/**\n * @type {Object}\n */\nconst immutableLinkedOrderedMapTraverseFactory = {\n  traverse: dataGetKey,\n};\n\n/**\n * @type {Object}\n */\nconst propTraverseFactory = {\n  traverse: (data, key) => data[key],\n};\n\n/**\n * @type {Object}\n */\nconst yesVisitorKeyFactory = visitor => ({\n  key: () => visitor.key,\n  visit: (...args) => visitor.visit(...args),\n});\n\n/**\n * @type {Object}\n */\nconst noVisitorKeyFactory = finalKey => ({\n  key: () => finalKey,\n  visit: () => {},\n});\n\n/**\n * Hook returning a callback to traverse nested data.\n *\n * @param {Array|Object|Map|WeakMap|ImmutableLinkedOrderedMap} data The data. Can be any of the specified types which in turn have nested data\n *                                                                  of any of the specified types.\n * @param {Object} [obj] An optional object with further parameters.\n * @param {boolean} [obj.pathCopy] Whether or not to create a copy of the current path and the data forming the path when traversing the nested data\n *                                 instead of pushing to a single path array.\n *                                 This parameter should be set to false only when the nested data is very deep and performance issues are experienced when using\n *                                 this hook for the given data.\n *                                 In case this parameter is set to false, eventual visitors (explained below) will receive an object where\n *                                 the \"path\" and \"pathData\" properties will refer to the same arrays for every visitor.\n * @return {(keys: Array) => *} The nested data callback which receives the keys and if called returns the nested data for the given keys, if any, or undefined.\n *                              The nested data callback takes an array of keys as argument. Note that the array is flattened (only its first dimension)\n *                              and therefore the following arrays will be treated as being the same array of keys:\n *\n *                                  import { useNestedDataCallback } from \"react-js-utl/hooks\";\n *\n *                                  // Inside functional component:\n *                                  useNestedDataCallback(data)([\"a\", \"b\", \"c\", \"d\", \"e\"]);\n *                                  useNestedDataCallback(data)([\"a\", \"b\", [\"c\", \"d\"], \"e\"]); // Same as above.\n *\n *                              Each element represents a nested key of the given data.\n *\n *                              An element can also be a visitor primitive returned by the \"visitor\" primitive function:\n *\n *                                  import { useNestedDataCallback } from \"react-js-utl/hooks\";\n *                                  import { visitor } from \"react-js-utl/primitives\";\n *\n *                                  // Inside functional component:\n *                                  useNestedDataCallback(data)([\n *                                      \"a\",\n *                                      visitor(\"b\", ({\n *                                          currentData,\n *                                          depth,\n *                                          key,\n *                                          path,\n *                                          pathData,\n *                                          data,\n *                                      }) => {\n *                                          // Called when visiting the nested data (\"currentData\") for the \"b\" key (depth 1)\n *                                          // if the data for the \"b\" key is not \"undefined\".\n *                                      }),\n *                                      \"c\",\n *                                      \"d\",\n *                                      \"e\"\n *                                  ]);\n *\n *                              The visitor function allows to perform a custom behaviour when visiting the nested data.\n *                              Note that the visitor function will only be called if the underlying visited data for a given nested key\n *                              is not \"undefined\".\n */\nexport default function useNestedDataCallback(data, { pathCopy = true } = {}) {\n  const prevData = usePrevious(data);\n  const finalDataFactory = useFactory(\n    () => [\n      [\n        data instanceof Map ||\n          data instanceof WeakMap ||\n          ImmutableLinkedOrderedMap.isMap(data),\n        () => (prevData === data ? prevData : data),\n      ],\n      () => (shallowEqual(prevData, data) ? prevData : data),\n    ],\n    [data]\n  );\n\n  const finalData = finalDataFactory();\n  const callback = useCallback(\n    keys => {\n      const data = finalData;\n      const effectiveKeys = keys.flat();\n      let depth = 0;\n      let currentData = data;\n      let path = [];\n      let pathData = [];\n      for (const key of effectiveKeys) {\n        if (!currentData) {\n          break;\n        }\n        const traverseFactory = declarativeFactory([\n          [() => currentData instanceof Map, mapTraverseFactory],\n          [() => currentData instanceof WeakMap, weakMapTraverseFactory],\n          [\n            () => ImmutableLinkedOrderedMap.isMap(currentData),\n            immutableLinkedOrderedMapTraverseFactory,\n          ],\n          propTraverseFactory,\n        ]);\n        const visitorFactory = declarativeFactory([\n          [() => isPrimitiveOfType(key, visitor), yesVisitorKeyFactory(key)],\n          noVisitorKeyFactory(key),\n        ]);\n        const finalKey = visitorFactory.key();\n        currentData = traverseFactory.traverse(currentData, finalKey);\n        if (pathCopy) {\n          path = path.concat(finalKey);\n          pathData = pathData.concat(currentData);\n        } else {\n          path.push(finalKey);\n          pathData.push(currentData);\n        }\n        if (typeof currentData !== \"undefined\") {\n          visitorFactory.visit({\n            currentData,\n            depth,\n            key: finalKey,\n            path,\n            pathData,\n            data,\n          });\n        }\n        depth++;\n      }\n      return depth === effectiveKeys.length ? currentData : void 0;\n    },\n    [finalData, pathCopy]\n  );\n  return callback;\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport useNestedDataCallback from \"./useNestedDataCallback\";\nimport { useMemo } from \"react\";\n\n/**\n * Hook to traverse nested data.\n *\n * @param {Array|Object|Map|WeakMap|ImmutableLinkedOrderedMap} data The data. Can be any of the specified types which in turn have nested data\n *                                                                  of any of the specified types.\n * @param {Array} keys An array of keys which will be passed to the underlying callback returned by the \"useNestedDataCallback\" hook used by \"useNestedData\".\n *                     See the \"useNestedDataCallback\" hook for information about the shape of the keys array.\n * @param {Object} [obj] An optional object with further parameters. See the \"useNestedDataCallback\" hook for information about the shape of this parameter.\n * @return {*} The nested data.\n */\nexport default function useNestedData(data, keys, obj = {}) {\n  const callback = useNestedDataCallback(data, obj);\n  const nestedData = useMemo(() => callback(keys), [callback, keys]);\n  return nestedData;\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useCallback, useRef, useMemo } from \"react\";\n\n/**\n * Returns a memoized callback which never change and doesn't need a deps array\n * as it is always up to date with the last callback given as parameter.\n *\n * @param {*} callback A callback or another value.\n * @return {*} The memoized callback which never changes or the given value\n *             if the given \"callback\" is not a function.\n */\nexport default function useMemoCallback(callback) {\n  const callbackRef = useRef(callback);\n  useMemo(() => {\n    callbackRef.current = callback;\n  }, [callback]);\n  const memoCallback = useCallback(\n    (...args) => {\n      return callbackRef.current(...args);\n    },\n    [callbackRef]\n  );\n  return typeof callbackRef.current === \"function\" ? memoCallback : callback;\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useState, useEffect } from \"react\";\nimport useWindowRef from \"./useWindowRef\";\nimport useCallbackRef from \"./useCallbackRef\";\n\n/**\n * Hook returning whether the user's computer or device is online or offline.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/NavigatorOnLine/onLine\n * @see https://developer.mozilla.org/en-US/docs/Web/API/NavigatorOnLine/Online_and_offline_events\n *\n * @return {boolean} True if online, false if offline.\n */\nexport default function useIsOnline() {\n  const windowRef = useWindowRef();\n  const [isOnline, setIsOnline] = useState(() =>\n    windowRef.current ? windowRef.current.navigator.onLine : false\n  );\n\n  const onlineCallbackRef = useCallbackRef(() => {\n    setIsOnline(true);\n  });\n  const offlineCallbackRef = useCallbackRef(() => {\n    setIsOnline(false);\n  });\n  useEffect(() => {\n    const onlineCallback = () => onlineCallbackRef.current();\n    const offlineCallback = () => offlineCallbackRef.current();\n    const w = windowRef.current;\n    w.addEventListener(\"online\", onlineCallback);\n    w.addEventListener(\"offline\", offlineCallback);\n\n    return () => {\n      w.removeEventListener(\"online\", onlineCallback);\n      w.removeEventListener(\"offline\", offlineCallback);\n    };\n  }, [windowRef, onlineCallbackRef, offlineCallbackRef]);\n\n  return isOnline;\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useState, useCallback } from \"react\";\n\n/**\n * Hook returning a ref callback to measure the dimensions of a DOM element and the current dimensions of the measured element.\n *\n * @see https://reactjs.org/docs/hooks-faq.html#how-can-i-measure-a-dom-node\n *\n * @return {Array} An array containing the ref callback at index 0 and the dimensions (an object with a \"width\" and \"height\"\n *                 property) of the last measurement of the element at index 1.\n */\nexport default function useClientRect() {\n  const [rect, setRect] = useState(null);\n  const ref = useCallback(node => {\n    if (node !== null) {\n      setRect(node.getBoundingClientRect());\n    }\n  }, []);\n  return [ref, rect];\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useCallback } from \"react\";\nimport useCallbackRef from \"./useCallbackRef\";\n\n/**\n * @type {Function}\n */\nconst setRef = (refToSync, args) => {\n  const [ref] = args;\n  if (typeof refToSync === \"function\") {\n    refToSync(...args);\n  } else if (refToSync) {\n    refToSync.current = ref;\n  }\n};\n\n/**\n * Hook returning a callback ref which synchronizes all the refs given as parameter.\n *\n * @param {...Object} refs The refs to sync.\n * @return {Function} The callback ref synchronizing the given refs.\n */\nexport default function useSyncRefsCallback(...refs) {\n  const syncCallbackRef = useCallbackRef((...args) => {\n    refs.map(refToSync => setRef(refToSync, args));\n  });\n  const callbackRef = useCallback(\n    (...args) => {\n      syncCallbackRef.current(...args);\n    },\n    [syncCallbackRef]\n  );\n  return callbackRef;\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useLayoutEffect } from \"react\";\nimport { detectWrapped, isEmpty } from \"js-utl\";\nimport useElementSize from \"./useElementSize\";\nimport usePrevious from \"./usePrevious\";\nimport usePOJOState from \"./usePOJOState\";\n\n/**\n * Hook detecting wrapped DOM children elements given a ref.\n *\n * @param {Object} ref A ref.\n * @return {Object} An object with the following properties:\n *\n *                      - areWrapped (bool): true if the DOM children elements wrap and are not on the same line\n *                                           (according to their top position);\n *                      - wrapped (Element[]): An array of the wrapped DOM children elements;\n */\nexport default function useDetectWrappedChildren(ref) {\n  const [{ width }] = useElementSize(ref, [\"width\"]);\n  const prevWidth = usePrevious(width);\n  const [state, setState] = usePOJOState(() => ({\n    areWrapped: void 0,\n    wrapped: [],\n  }));\n  useLayoutEffect(() => {\n    if (ref.current && ref.current.children && width !== prevWidth) {\n      const wrapped = detectWrapped(ref.current.children);\n      setState({\n        areWrapped: !isEmpty(wrapped),\n        wrapped,\n      });\n    }\n  }, [setState, prevWidth, width, ref]);\n  return state;\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useEffect } from \"react\";\n\n/**\n * Hook to execute a callback whenever the hash fragment of the page (\"window.location.hash\") changes.\n *\n * @param {Function} onHashFragmentChange The callback to execute.s\n * @return {undefined}\n */\nexport default function useHashFragmentChange(onHashFragmentChange) {\n  useEffect(() => {\n    window.addEventListener(\"hashchange\", onHashFragmentChange);\n    return () => window.removeEventListener(\"hashchange\", onHashFragmentChange);\n  }, [onHashFragmentChange]);\n}\n","import { useRef, useMemo, useEffect } from \"react\";\nimport usePOJOState from \"./usePOJOState\";\n\n/**\n * Hook to use a POJO state which merges values of the previous state with the next one\n * if the partial state update of the next state is not the same as the previous state\n * for the same keys depending on the POJO passed as parameter.\n *\n * The difference from the \"usePOJOState\" hook is that as soon as the POJO passed as parameter changes\n * (i.e. its reference points to another object), the state is reinitialized.\n *\n * Another difference is that this hook doesn't accept a function returning a POJO as its initial state because\n * it doesn't make sense in this context as the POJO itself is needed to be passed as parameter to this hook\n * in order to determine if it changed since the last rendering.\n *\n * @param {Object} POJO A POJO (Plain Old JavaScript Object).\n * @return {Array} A tuple of two values, current state POJO and callback to set state,\n *                 like the one returned by the \"useState\" hook.\n *\n *                 The callback to set state may receive an updater function which will receive\n *                 the previous POJO state as argument and must return the next partial POJO state\n *                 update or \"null\" (to bail out of the state update, read below).\n *\n *                 If the updater function returns \"null\" or a partial POJO state update which\n *                 has the same values for the same keys as the current POJO state, the update will be\n *                 bailed out as for the \"useState\" hook.\n */\nexport default function usePOJOMemoState(POJO) {\n  const originalPOJO = POJO;\n\n  const rehidrateStateRef = useRef(false);\n  POJO = useMemo(() => {\n    rehidrateStateRef.current = true;\n    return originalPOJO;\n  }, [originalPOJO]);\n\n  let setState;\n  [POJO, setState] = usePOJOState(POJO);\n\n  useEffect(() => {\n    if (rehidrateStateRef.current) {\n      rehidrateStateRef.current = false;\n      setState(originalPOJO);\n    }\n  }, [originalPOJO, setState]);\n\n  return [POJO, setState];\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useLayoutEffect, useState } from \"react\";\nimport { useStateWithSetStateCallback } from \"./useStateWithEffectCallback\";\n\n/**\n * Hook to use a state with a `setState` function receiving a callback as its second parameter\n * called in a layout effect after the state change is performed.\n *\n * @param {*|Function} initialState The initial state or a lazy callback returning the initial state.\n * @return {Array} A tuple of two values, current state and callback to set state,\n *                 like the one returned by the \"useState\" hook.\n *\n *                 The callback to set state may receive an updater function which will receive\n *                 the previous state as argument and must return the next state.\n *\n *                 The callback to set state may also receive a callback as its second parameter,\n *                 which is called in a layout effect after the state change is performed.\n */\nexport default function useStateWithLayoutEffectCallback(initialState) {\n  return useStateWithSetStateCallback({\n    initialState,\n    useState,\n    useEffect: useLayoutEffect,\n  });\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useLayoutEffect } from \"react\";\nimport { useStateWithSetStateCallback } from \"./useStateWithEffectCallback\";\nimport usePOJOState from \"./usePOJOState\";\nimport {\n  onStateUpdate,\n  onHasBailedOut,\n} from \"./usePOJOStateWithEffectCallback\";\n\n/**\n * Hook to use a POJO state with a `setState` function receiving a callback as its second parameter\n * called in a layout effect after the state change is performed.\n *\n * @param {*|Function} initialState The initial POJO state or a lazy callback returning the initial POJO state.\n * @return {Array} A tuple of two values, current POJO state and callback to set the POJO state,\n *                 like the one returned by the \"usePOJOState\" hook.\n *\n *                 The callback to set state may receive an updater function which will receive\n *                 the previous state as argument and must return the next state.\n *\n *                 The callback to set state may also receive a callback as its second parameter,\n *                 which is called in a layout effect after the state change is performed.\n */\nexport default function usePOJOStateWithLayoutEffectCallback(initialState) {\n  return useStateWithSetStateCallback({\n    initialState,\n    useState: usePOJOState,\n    useEffect: useLayoutEffect,\n    onStateUpdate,\n    onHasBailedOut,\n  });\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useAwaitableState } from \"./useAwaitableStateWithEffect\";\nimport useStateWithLayoutEffectCallback from \"./useStateWithLayoutEffectCallback\";\n\n/**\n * Hook to use a state with a `setState` function which can be awaited until the state change is performed\n * and the underlying layout effect (`useLayoutEffect`) is executed.\n *\n * @param {*|Function} initialState The initial state or a lazy callback returning the initial state.\n * @return {Array} A tuple of two values, current state and callback to set state,\n *                 like the one returned by the \"useState\" hook.\n *\n *                 The callback to set state may be awaited until the state change is performed\n *                 and the underlying layout effect (`useLayoutEffect`) is executed.\n */\nexport default function useAwaitableStateWithLayoutEffect(initialState) {\n  return useAwaitableState({\n    initialState,\n    useStateWithSetStateCallback: useStateWithLayoutEffectCallback,\n  });\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useAwaitableState } from \"./useAwaitableStateWithEffect\";\nimport usePOJOStateWithLayoutEffectCallback from \"./usePOJOStateWithLayoutEffectCallback\";\n\n/**\n * Hook to use a POJO state with a `setState` function which can be awaited until the POJO state change is performed\n * and the underlying layout effect (`useLayoutEffect`) is executed.\n *\n * @param {*|Function} initialState The initial POJO state or a lazy callback returning the initial POJO state.\n * @return {Array} A tuple of two values, current POJO state and callback to set POJO state,\n *                 like the one returned by the \"useState\" hook.\n *\n *                 The callback to set POJO state may be awaited until the POJO state change is performed\n *                 and the underlying layout effect (`useLayoutEffect`) is executed.\n */\nexport default function useAwaitablePOJOStateWithLayoutEffect(initialState) {\n  return useAwaitableState({\n    initialState,\n    useStateWithSetStateCallback: usePOJOStateWithLayoutEffectCallback,\n  });\n}\n","import{useRef as e,useEffect as n}from\"react\";export default function(t,r,i,o){void 0===i&&(i=global),void 0===o&&(o={});var c=e(),u=o.capture,a=o.passive,v=o.once;n(function(){c.current=r},[r]),n(function(){if(i&&i.addEventListener){var e=function(e){return c.current(e)},n={capture:u,passive:a,once:v};return i.addEventListener(t,e,n),function(){i.removeEventListener(t,e,n)}}},[t,i,u,a,v])}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useEffect, useCallback, useState } from \"react\";\nimport {\n  throttle,\n  debounce,\n  hasHorizontalScrollbar,\n  hasVerticalScrollbar,\n} from \"js-utl\";\nimport useEventListener from \"@use-it/event-listener\";\n\n/**\n * @type {Function}\n */\nconst detect = ({\n  ref,\n  isScrollable,\n  setIsScrollable,\n  shouldDetectHorizontallyScrollable,\n}) => {\n  if (ref.current) {\n    const hasScrollbar = shouldDetectHorizontallyScrollable\n      ? hasHorizontalScrollbar(ref.current)\n      : hasVerticalScrollbar(ref.current);\n    if (hasScrollbar && !isScrollable) {\n      setIsScrollable(true);\n    } else if (!hasScrollbar && isScrollable) {\n      setIsScrollable(false);\n    }\n  }\n};\n\n/**\n * @type {Function}\n */\nconst throttledDetect = throttle(detect, 100);\n\n/**\n * @type {Function}\n */\nconst debouncedDetect = debounce(detect, 110);\n\nfunction useDetectScrollablePrivate(\n  ref,\n  { detectOnResize = true, shouldDetectHorizontallyScrollable = false } = {}\n) {\n  const [isScrollable, setIsScrollable] = useState(false);\n\n  const detectIfScrollable = useCallback(() => {\n    detect({\n      ref,\n      isScrollable,\n      setIsScrollable,\n      shouldDetectHorizontallyScrollable,\n    });\n  }, [ref, isScrollable, shouldDetectHorizontallyScrollable]);\n\n  useEffect(() => {\n    detectIfScrollable();\n  });\n\n  useEffect(() => {\n    if (ref.current && window.ResizeObserver) {\n      const element = ref.current;\n      const resizeObserver = new ResizeObserver(() => {\n        detectIfScrollable();\n      });\n      resizeObserver.observe(ref.current);\n      return () => {\n        element && resizeObserver.unobserve(element);\n        resizeObserver.disconnect();\n      };\n    }\n  }, [ref, detectIfScrollable]);\n\n  const [eventName, listener] = detectOnResize\n    ? [\n        \"resize\",\n        () => {\n          throttledDetect({\n            ref,\n            isScrollable,\n            setIsScrollable,\n            shouldDetectHorizontallyScrollable,\n          });\n          debouncedDetect({\n            ref,\n            isScrollable,\n            setIsScrollable,\n            shouldDetectHorizontallyScrollable,\n          });\n        },\n      ]\n    : [void 0, () => {}];\n  useEventListener(eventName, listener);\n\n  return isScrollable;\n}\n\n/**\n * Hook to determine if an element is scrollable.\n *\n * @param {Object} ref A React ref (e.g. returned by `useRef()`) for the underlying element.\n * @param {Object} [options] Options.\n * @param {boolean} [options.detectOnResize] True to detect the scrollbars also when the window is resized (default),\n *                                           false otherwise.\n * @return {Object} An object with two properties:\n *\n *                      - isVerticallyScrollable (boolean): True if the element is vertically scrollable, false otherwise.\n *                      - isHorizontallyScrollable (boolean): True if the element is horizontally scrollable, false otherwise.\n *\n */\nexport default function useDetectScrollable(\n  ref,\n  { detectOnResize = true } = {}\n) {\n  const isVerticallyScrollable = useDetectScrollablePrivate(ref, {\n    detectOnResize,\n  });\n  const isHorizontallyScrollable = useDetectScrollablePrivate(ref, {\n    detectOnResize,\n    shouldDetectHorizontallyScrollable: true,\n  });\n\n  return { isVerticallyScrollable, isHorizontallyScrollable };\n}\n\n/**\n * Hook to determine if an element is vertically scrollable.\n *\n * @param {Object} ref A React ref (e.g. returned by `useRef()`) for the underlying element.\n * @param {Object} [options] Options.\n * @param {boolean} [options.detectOnResize] True to detect the scrollbars also when the window is resized (default),\n *                                           false otherwise.\n * @return {boolean} True if the element is vertically scrollable, false otherwise.\n */\nexport function useDetectVerticallyScrollable(\n  ref,\n  { detectOnResize = true } = {}\n) {\n  return useDetectScrollablePrivate(ref, { detectOnResize });\n}\n\n/**\n * Hook to determine if an element is horizontally scrollable.\n *\n * @param {Object} ref A React ref (e.g. returned by `useRef()`) for the underlying element.\n * @param {Object} [options] Options.\n * @param {boolean} [options.detectOnResize] True to detect the scrollbars also when the window is resized (default),\n *                                           false otherwise.\n * @return {Object} True if the element is horizontally scrollable, false otherwise.\n */\nexport function useDetectHorizontallyScrollable(\n  ref,\n  { detectOnResize = true } = {}\n) {\n  return useDetectScrollablePrivate(ref, {\n    detectOnResize,\n    shouldDetectHorizontallyScrollable: true,\n  });\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { useCallback, useRef } from \"react\";\n\n/**\n * Hook to return a callback which, if called with a key/id, will return a new ref for that key\n * or the same ref for that key if the ref for that key was already created previously\n * (therefore this callback is useful e.g. when creating refs dynamically in a loop or when using `.map()`\n * during the rendering of a React component).\n *\n * @return {(key: string|number) => {current: *}} The callback accepting a key and returning a ref for that key\n *                                                (the same ref for that key if a ref for that key was already created previously).\n */\nexport default function useKeyRefCallback() {\n  const mapRef = useRef({});\n  return useCallback(key => {\n    mapRef.current[key] = mapRef.current[key] || React.createRef();\n    return mapRef.current[key];\n  }, []);\n}\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport useAwaitableStateWithEffect from \"./useAwaitableStateWithEffect\";\nimport useAwaitablePOJOStateWithEffect from \"./useAwaitablePOJOStateWithEffect\";\n\nexport { default as usePrevious } from \"./usePrevious\";\nexport { default as useUpdateEffect } from \"./useUpdateEffect\";\nexport { default as useMountEffect } from \"./useMountEffect\";\nexport { default as useUnmountEffect } from \"./useUnmountEffect\";\nexport { default as usePOJOState } from \"./usePOJOState\";\nexport { default as useForceUpdate } from \"./useForceUpdate\";\nexport { default as useHOFCallback } from \"./useHOFCallback\";\nexport { default as useFactory } from \"./useFactory\";\nexport { default as useExtend } from \"./useExtend\";\nexport { default as useLoopCallback } from \"./useLoopCallback\";\nexport { default as useWindowRef } from \"./useWindowRef\";\nexport { default as useElementSize } from \"./useElementSize\";\nexport { default as useElementHeight } from \"./useElementHeight\";\nexport { default as useElementWidth } from \"./useElementWidth\";\nexport { default as useArray } from \"./useArray\";\nexport { default as useUniqueKey } from \"./useUniqueKey\";\nexport { default as useDefaultValue } from \"./useDefaultValue\";\nexport { default as useShallowEqualMemo } from \"./useShallowEqualMemo\";\nexport { default as useCallbackRef } from \"./useCallbackRef\";\nexport { default as useIsUpdate } from \"./useIsUpdate\";\nexport { default as useCumulativeShallowDiff } from \"./useCumulativeShallowDiff\";\nexport { default as useNestedDataCallback } from \"./useNestedDataCallback\";\nexport { default as useNestedData } from \"./useNestedData\";\nexport { default as useMemoCallback } from \"./useMemoCallback\";\nexport { default as useIsOnline } from \"./useIsOnline\";\nexport { default as useClientRect } from \"./useClientRect\";\nexport { default as useLazyRef } from \"./useLazyRef\";\nexport { default as useSyncRefsCallback } from \"./useSyncRefsCallback\";\nexport { default as useDetectWrappedChildren } from \"./useDetectWrappedChildren\";\nexport { default as useHashFragmentChange } from \"./useHashFragmentChange\";\nexport { default as usePOJOMemoState } from \"./usePOJOMemoState\";\nexport { default as useStateWithEffectCallback } from \"./useStateWithEffectCallback\";\nexport { default as useStateWithLayoutEffectCallback } from \"./useStateWithLayoutEffectCallback\";\nexport { default as usePOJOStateWithEffectCallback } from \"./usePOJOStateWithEffectCallback\";\nexport { default as usePOJOStateWithLayoutEffectCallback } from \"./usePOJOStateWithLayoutEffectCallback\";\nexport { useAwaitableStateWithEffect as useAwaitableState };\nexport { default as useAwaitableStateWithLayoutEffect } from \"./useAwaitableStateWithLayoutEffect\";\nexport { useAwaitablePOJOStateWithEffect as useAwaitablePOJOState };\nexport { default as useAwaitablePOJOStateWithLayoutEffect } from \"./useAwaitablePOJOStateWithLayoutEffect\";\nexport {\n  default as useDetectScrollable,\n  useDetectVerticallyScrollable,\n  useDetectHorizontallyScrollable,\n} from \"./useDetectScrollable\";\nexport { default as useKeyRefCallback } from \"./useKeyRefCallback\";\n","/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { _ as curry_ } from \"js-utl\";\n\nexport { default as visitor } from \"./visitor\";\nexport { curry_ as _ };\n"],"names":["hasOwnProperty","ownKeys","_objectSpread","classNames","componentClassName","reduce","className","trim","mergeClassNameProp","props","remaining","reactComponentName","reactComponentInstance","constructor","displayName","name","getDisplayName","Component","type","childrenMap","children","fn","isArray","reactChildrenMap","map","reactChildrenFlatMap","depth","flat","childrenKeyChildTupleFn","current","key","child","reactChildrenKeyChildTupleMap","reactChildrenKeyChildTupleFlatMap","refCallback","ref","prop","value","isWithReactComponentName","isEmpty","toUpperCase","isFnWithComponentName","isReactHOC","Object","prototype","call","Symbol","indexOf","$$typeof","isReactComponent","withAncestorHasComponentName","ancestorHasComponentName","Parent","withAncestorIsBuiltinReactHOC","ancestorIsBuiltinReactHOC","withComposedAncestorTests","compose","isFunctionalComponent","testComponent","isClassComponent","defaultVal","defaultValue","valueIfDefaultValueIsUndefined","isUndefined","isControlledValue","usePOJOState","initialState","useState","state","setState","setPOJOState","useMemo","nextState","prevState","newState","partialShallowEqual","useShallowEqualMemo","useRef","init","ret","shallowEqual","useLazyRef","initialValue","defaultOnStateUpdate","defaultOnHasBailedOut","useStateWithSetStateCallback","useEffect","onStateUpdate","onHasBailedOut","counterRef","randomValueCallback","useCallback","Number","MAX_SAFE_INTEGER","randomString","rand","derivedState","setDerivedState","callbacksQueueRef","LQueue","len","length","i","callback","dequeue","setStateWithCallback","newStateUpdate","stateUpdate","update","args","hasBailedOut","hasCallback","enqueue","useStateWithEffectCallback","useAwaitableState","setStateCallback","defPromise","DefPromise","resolve","useAwaitableStateWithEffect","usePOJOStateWithEffectCallback","useAwaitablePOJOStateWithEffect","usePrevious","useUpdateEffect","deps","isInitialRenderRef","shouldBreak","Math","random","useMountEffect","useCallbackRef","callbackRef","useUnmountEffect","fnRef","useForceUpdate","forceUpdate","useHOFCallback","Map","clear","HOFCallback","memoizedFn","get","set","useFactory","tuplesFn","tuples","testConditionFn","testCondition","Boolean","factoryValue","tuple","lastTuple","useExtend","destination","extendOptions","obj","extendFn","extend","filter","isPlainObject","finalObj","useLoopCallback","dataStructure","loopCallback","ImmutableLinkedOrderedMap","isMap","useWindowRef","window","useIsUpdate","useCumulativeShallowDiff","valueDiffRef","diff","werePreviousAndCurrentObjectsDiffedAndThereWasADiff","isUpdate","previousValue","previousDiff","shallowObjectDiff","newDiff","objB","isObjectEmpty","initialDimensions","width","height","defaultDimensionProps","useElementSize","element","dimensionProps","pick","dimensions","setDimensions","windowRef","forceSetDimensions","finalElement","document","querySelector","boundingClientRect","getBoundingClientRect","useLayoutEffect","addEventListener","removeEventListener","useElementHeight","useElementWidth","useArray","arrayFactoryFn","values","uniqueKeyPrefix","useUniqueKey","dep","uniqueId","trimRight","useDefaultValue","setValue","primitiveProp","primitive","primitiveKey","visitor","visit","curriedVisitor","curry","isPrimitiveOfType","possiblePrimitive","primitiveType","dataGetKey","data","mapTraverseFactory","traverse","weakMapTraverseFactory","immutableLinkedOrderedMapTraverseFactory","propTraverseFactory","yesVisitorKeyFactory","noVisitorKeyFactory","finalKey","useNestedDataCallback","pathCopy","prevData","finalDataFactory","WeakMap","finalData","keys","effectiveKeys","currentData","path","pathData","traverseFactory","declarativeFactory","visitorFactory","concat","push","useNestedData","nestedData","useMemoCallback","memoCallback","useIsOnline","navigator","onLine","isOnline","setIsOnline","onlineCallbackRef","offlineCallbackRef","onlineCallback","offlineCallback","w","useClientRect","rect","setRect","node","setRef","refToSync","useSyncRefsCallback","refs","syncCallbackRef","useDetectWrappedChildren","prevWidth","areWrapped","wrapped","detectWrapped","useHashFragmentChange","onHashFragmentChange","usePOJOMemoState","POJO","originalPOJO","rehidrateStateRef","useStateWithLayoutEffectCallback","usePOJOStateWithLayoutEffectCallback","useAwaitableStateWithLayoutEffect","useAwaitablePOJOStateWithLayoutEffect","e","n","detect","isScrollable","setIsScrollable","shouldDetectHorizontallyScrollable","hasScrollbar","hasHorizontalScrollbar","hasVerticalScrollbar","throttledDetect","throttle","debouncedDetect","debounce","useDetectScrollablePrivate","detectOnResize","detectIfScrollable","ResizeObserver","resizeObserver","observe","unobserve","disconnect","eventName","listener","useEventListener","useDetectScrollable","isVerticallyScrollable","isHorizontallyScrollable","useDetectVerticallyScrollable","useDetectHorizontallyScrollable","useKeyRefCallback","mapRef","React","createRef"],"mappings":"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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACe,SAASC,eAAT,CAAyBC,aAAzB,EAAwC;AACrD,MAAMC,YAAY,GAAGpB,UAAU,CAC7B;AAAA,WAAM,CACJ,CACEqB,yBAAyB,CAACC,KAA1B,CAAgCH,aAAhC,CADF,EAEE,UAAA7I,EAAE;AAAA,aAAI6I,aAAa,CAAC1I,GAAd,CAAkBH,EAAlB,CAAJ;AAAA,KAFJ,CADI,EAKJ,UAAAA,EAAE;AAAA,aAAI6I,aAAa,CAAC1I,GAAd,CAAkBH,EAAlB,CAAJ;AAAA,KALE,CAAN;AAAA,GAD6B,EAQ7B,CAAC6I,aAAD,CAR6B,CAA/B;AAUA,SAAOC,YAAP;AACD;;AChDD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;;AACe,SAASG,YAAT,GAAwB;AACrC,MAAMnI,GAAG,GAAG0C,MAAM,CAAC0F,MAAD,CAAlB;AACA,SAAOpI,GAAP;AACD;;ACnCD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;;AACe,SAASqI,WAAT,GAAuB;AACpC,SAAO,CAAC,CAAC9C,WAAW,CAAC,IAAD,CAApB;AACD;;AClCD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACe,SAAS+C,wBAAT,CAAkCpI,KAAlC,EAAyC;AACtD,MAAMqI,YAAY,GAAG7F,MAAM,CAAC;AAC1Bx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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACe,SAASqN,gCAAT,CAA0CxN,YAA1C,EAAwD;AACrE,SAAOmB,4BAA4B,CAAC;AAClCnB,IAAAA,YAAY,EAAZA,YADkC;AAElCC,IAAAA,QAAQ,EAARA,QAFkC;AAGlCmB,IAAAA,SAAS,EAAE+G;AAHuB,GAAD,CAAnC;AAKD;;AChDD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACe,SAASsF,oCAAT,CAA8CzN,YAA9C,EAA4D;AACzE,SAAOmB,4BAA4B,CAAC;AAClCnB,IAAAA,YAAY,EAAZA,YADkC;AAElCC,IAAAA,QAAQ,EAAEF,YAFwB;AAGlCqB,IAAAA,SAAS,EAAE+G,eAHuB;AAIlC9G,IAAAA,aAAa,EAAbA,aAJkC;AAKlCC,IAAAA,cAAc,EAAdA;AALkC,GAAD,CAAnC;AAOD;;ACvDD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACe,SAASoM,iCAAT,CAA2C1N,YAA3C,EAAyD;AACtE,SAAOgD,iBAAiB,CAAC;AACvBhD,IAAAA,YAAY,EAAZA,YADuB;AAEvBmB,IAAAA,4BAA4B,EAAEqM;AAFP,GAAD,CAAxB;AAID;;AC5CD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AA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AACA;AACA;AACA;;AACO,SAASC,6BAAT,CACLtR,GADK,EAGL;AAAA,kFAD4B,EAC5B;AAAA,mCADEyQ,cACF;AAAA,MADEA,cACF,qCADmB,IACnB;;AACA,SAAOD,0BAA0B,CAACxQ,GAAD,EAAM;AAAEyQ,IAAAA,cAAc,EAAdA;AAAF,GAAN,CAAjC;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACO,SAASc,+BAAT,CACLvR,GADK,EAGL;AAAA,kFAD4B,EAC5B;AAAA,mCADEyQ,cACF;AAAA,MADEA,cACF,qCADmB,IACnB;;AACA,SAAOD,0BAA0B,CAACxQ,GAAD,EAAM;AACrCyQ,IAAAA,cAAc,EAAdA,cADqC;AAErCT,IAAAA,kCAAkC,EAAE;AAFC,GAAN,CAAjC;AAID;;ACvLD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACe,SAASwB,iBAAT,GAA6B;AAC1C,MAAMC,MAAM,GAAG/O,MAAM,CAAC,EAAD,CAArB;AACA,SAAOc,WAAW,CAAC,UAAA7D,GAAG,EAAI;AACxB8R,IAAAA,MAAM,CAAC/R,OAAP,CAAeC,GAAf,IAAsB8R,MAAM,CAAC/R,OAAP,CAAeC,GAAf,kBAAuB+R,KAAK,CAACC,SAAN,EAA7C;AACA,WAAOF,MAAM,CAAC/R,OAAP,CAAeC,GAAf,CAAP;AACD,GAHiB,EAGf,EAHe,CAAlB;AAID;;AC1CD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;"}