{"version":3,"sources":["../../src/index.js"],"names":["$","jQueryMultiselectCheckboxFactory","defaultOptionsFactory","JQUERY_PLUGIN_NAMESPACE","globalObject","global","window","package$","fn","initPluginID","nextInitPluginID","multiselectCheckboxInitPluginID","pluginIDMap","initPlugin","anotherPlugin","multiselectCheckbox","anotherInitPluginID","pluginID","defaultOptions","document","jQueryMultiselectCheckbox","option","args","result","each","_","element","$element","isDestroy","plugin","data","options","extend","isPlainObject","apply","removeData","Constructor","setDefaults","optionsFactory","noConflict"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,OAAOA,CAAP,MAAc,QAAd;AACA,OAAOC,gCAAP,MAA6C,6BAA7C;AACA,OAAOC,qBAAP,MAAkC,kBAAlC;AAEA;AACA;AACA;;AACA,MAAMC,uBAAuB,GAAG,qBAAhC;AAEA;AACA;AACA;;AACA,MAAMC,YAAY,GAAG,OAAOC,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyCC,MAA9D;AAEA;AACA;AACA;;AACA,MAAMC,QAAQ,GAAIP,CAAC,IAAIA,CAAC,CAACQ,EAAP,IAAaR,CAAd,IAAoB,KAAK,CAA1C;AAEA;AACA;AACA;;AACA,MAAMS,YAAY,GAAG,CAAC,MAAM;AAC1B,MAAIC,gBAAgB,GAAG,CAAvB;AACA,SAAOV,CAAC,IAAI;AACV,QAAI,CAACA,CAAC,CAACQ,EAAF,CAAKG,+BAAV,EAA2C;AACzCD,MAAAA,gBAAgB;AAChBV,MAAAA,CAAC,CAACQ,EAAF,CAAKG,+BAAL,GAAuCD,gBAAvC;AACD;;AACD,WAAOV,CAAC,CAACQ,EAAF,CAAKG,+BAAZ;AACD,GAND;AAOD,CAToB,GAArB;AAWA;AACA;AACA;;;AACA,MAAMC,WAAW,GAAG,EAApB;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA,eAAe,SAASC,UAAT,CAAoBb,CAApB,EAAuB;AACpC,QAAMc,aAAa,GAAGd,CAAC,CAACQ,EAAF,CAAKO,mBAA3B;AACA,QAAMC,mBAAmB,GAAGhB,CAAC,CAACQ,EAAF,CAAKG,+BAAjC;AACA,QAAMM,QAAQ,GAAGR,YAAY,CAACT,CAAD,CAA7B;AACAY,EAAAA,WAAW,CAACK,QAAD,CAAX,GAAwBL,WAAW,CAACK,QAAD,CAAX,GACpBL,WAAW,CAACK,QAAD,CADS,GAEpB;AACEC,IAAAA,cAAc,EAAEhB,qBAAqB,CACnCF,CADmC,EAEnCI,YAFmC,EAGnCA,YAAY,CAACe,QAHsB,CADvC;AAMEC,IAAAA,yBAAyB,EAAEnB,gCAAgC,CACzDD,CADyD,EAEzDI,YAFyD,EAGzDA,YAAY,CAACe,QAH4C;AAN7D,GAFJ;AAcA,QAAM;AAAED,IAAAA,cAAF;AAAkBE,IAAAA;AAAlB,MAAgDR,WAAW,CAACK,QAAD,CAAjE;;AACAjB,EAAAA,CAAC,CAACQ,EAAF,CAAKO,mBAAL,GAA2B,SAASA,mBAAT,CAA6BM,MAA7B,EAAqC,GAAGC,IAAxC,EAA8C;AACvE,QAAIC,MAAJ;AACA,SAAKC,IAAL,CAAU,CAACC,CAAD,EAAIC,OAAJ,KAAgB;AACxB,YAAMC,QAAQ,GAAG3B,CAAC,CAAC0B,OAAD,CAAlB;AACA,YAAME,SAAS,GAAGP,MAAM,KAAK,SAA7B;AACA,UAAIQ,MAAM,GAAGF,QAAQ,CAACG,IAAT,CAAc3B,uBAAd,CAAb;;AAEA,UAAI,CAAC0B,MAAL,EAAa;AACX,YAAID,SAAJ,EAAe;AACb;AACD;;AAED,cAAMG,OAAO,GAAG/B,CAAC,CAACgC,MAAF,CACd,EADc,EAEdd,cAFc,EAGdS,QAAQ,CAACG,IAAT,EAHc,EAId9B,CAAC,CAACiC,aAAF,CAAgBZ,MAAhB,KAA2BA,MAJb,CAAhB;AAOAQ,QAAAA,MAAM,GAAG,IAAIT,yBAAJ,CAA8BM,OAA9B,EAAuCK,OAAvC,CAAT;AACAJ,QAAAA,QAAQ,CAACG,IAAT,CAAc3B,uBAAd,EAAuC0B,MAAvC;AACD;;AAED,UAAI,OAAOR,MAAP,KAAkB,QAAtB,EAAgC;AAC9B,cAAMb,EAAE,GAAGqB,MAAM,CAACR,MAAD,CAAjB;;AACA,YAAI,OAAOb,EAAP,KAAc,UAAlB,EAA8B;AAC5Be,UAAAA,MAAM,GAAGf,EAAE,CAAC0B,KAAH,CAASL,MAAT,EAAiBP,IAAjB,CAAT;;AAEA,cAAIC,MAAM,KAAKM,MAAf,EAAuB;AACrBN,YAAAA,MAAM,GAAG,KAAK,CAAd;AACD;AACF;;AACD,YAAIK,SAAJ,EAAe;AACbD,UAAAA,QAAQ,CAACQ,UAAT,CAAoBhC,uBAApB;AACD;AACF;AACF,KAlCD;AAmCA,WAAO,OAAOoB,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,IAAhD;AACD,GAtCD;;AAuCAvB,EAAAA,CAAC,CAACQ,EAAF,CAAKO,mBAAL,CAAyBqB,WAAzB,GAAuChB,yBAAvC;;AACApB,EAAAA,CAAC,CAACQ,EAAF,CAAKO,mBAAL,CAAyBsB,WAAzB,GAAuC,SAASA,WAAT,CAAqBC,cAArB,EAAqC;AAC1E,UAAMP,OAAO,GACX,OAAOO,cAAP,KAA0B,UAA1B,GACIA,cAAc,CAACtC,CAAD,EAAII,YAAJ,EAAkBA,YAAY,CAACe,QAA/B,CADlB,GAEImB,cAHN;AAIAtC,IAAAA,CAAC,CAACgC,MAAF,CAASd,cAAT,EAAyBlB,CAAC,CAACiC,aAAF,CAAgBF,OAAhB,KAA4BA,OAArD;AACD,GAND;;AAOA/B,EAAAA,CAAC,CAACQ,EAAF,CAAKO,mBAAL,CAAyBwB,UAAzB,GAAsC,SAASA,UAAT,GAAsB;AAC1DvC,IAAAA,CAAC,CAACQ,EAAF,CAAKO,mBAAL,GAA2BD,aAA3B;AACAd,IAAAA,CAAC,CAACQ,EAAF,CAAKG,+BAAL,GAAuCK,mBAAvC;AACA,WAAOhB,CAAC,CAACQ,EAAF,CAAKO,mBAAZ;AACD,GAJD;AAKD;AAEDR,QAAQ,IAAIM,UAAU,CAACN,QAAD,CAAtB","sourcesContent":["/*\n * Copyright (c) 2021 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport $ from \"jquery\";\nimport jQueryMultiselectCheckboxFactory from \"./jQueryMultiselectCheckbox\";\nimport defaultOptionsFactory from \"./defaultOptions\";\n\n/**\n * @type {string}\n */\nconst JQUERY_PLUGIN_NAMESPACE = \"multiselectCheckbox\";\n\n/**\n * @type {Object}\n */\nconst globalObject = typeof global !== \"undefined\" ? global : window;\n\n/**\n * @type {jQuery|undefined}\n */\nconst package$ = ($ && $.fn && $) || void 0;\n\n/**\n * @type {Function}\n */\nconst initPluginID = (() => {\n  let nextInitPluginID = 0;\n  return $ => {\n    if (!$.fn.multiselectCheckboxInitPluginID) {\n      nextInitPluginID++;\n      $.fn.multiselectCheckboxInitPluginID = nextInitPluginID;\n    }\n    return $.fn.multiselectCheckboxInitPluginID;\n  };\n})();\n\n/**\n * @type {Object}\n */\nconst pluginIDMap = {};\n\n/**\n * Initializes the plugin.\n *\n * @param {jQuery} $ jQuery.\n * @return {undefined}\n */\nexport default function initPlugin($) {\n  const anotherPlugin = $.fn.multiselectCheckbox;\n  const anotherInitPluginID = $.fn.multiselectCheckboxInitPluginID;\n  const pluginID = initPluginID($);\n  pluginIDMap[pluginID] = pluginIDMap[pluginID]\n    ? pluginIDMap[pluginID]\n    : {\n        defaultOptions: defaultOptionsFactory(\n          $,\n          globalObject,\n          globalObject.document\n        ),\n        jQueryMultiselectCheckbox: jQueryMultiselectCheckboxFactory(\n          $,\n          globalObject,\n          globalObject.document\n        ),\n      };\n  const { defaultOptions, jQueryMultiselectCheckbox } = pluginIDMap[pluginID];\n  $.fn.multiselectCheckbox = function multiselectCheckbox(option, ...args) {\n    let result;\n    this.each((_, element) => {\n      const $element = $(element);\n      const isDestroy = option === \"destroy\";\n      let plugin = $element.data(JQUERY_PLUGIN_NAMESPACE);\n\n      if (!plugin) {\n        if (isDestroy) {\n          return;\n        }\n\n        const options = $.extend(\n          {},\n          defaultOptions,\n          $element.data(),\n          $.isPlainObject(option) && option\n        );\n\n        plugin = new jQueryMultiselectCheckbox(element, options);\n        $element.data(JQUERY_PLUGIN_NAMESPACE, plugin);\n      }\n\n      if (typeof option === \"string\") {\n        const fn = plugin[option];\n        if (typeof fn === \"function\") {\n          result = fn.apply(plugin, args);\n\n          if (result === plugin) {\n            result = void 0;\n          }\n        }\n        if (isDestroy) {\n          $element.removeData(JQUERY_PLUGIN_NAMESPACE);\n        }\n      }\n    });\n    return typeof result !== \"undefined\" ? result : this;\n  };\n  $.fn.multiselectCheckbox.Constructor = jQueryMultiselectCheckbox;\n  $.fn.multiselectCheckbox.setDefaults = function setDefaults(optionsFactory) {\n    const options =\n      typeof optionsFactory === \"function\"\n        ? optionsFactory($, globalObject, globalObject.document)\n        : optionsFactory;\n    $.extend(defaultOptions, $.isPlainObject(options) && options);\n  };\n  $.fn.multiselectCheckbox.noConflict = function noConflict() {\n    $.fn.multiselectCheckbox = anotherPlugin;\n    $.fn.multiselectCheckboxInitPluginID = anotherInitPluginID;\n    return $.fn.multiselectCheckbox;\n  };\n}\n\npackage$ && initPlugin(package$);\n"],"file":"index.js"}