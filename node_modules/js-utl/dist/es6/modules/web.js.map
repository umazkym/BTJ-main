{"version":3,"sources":["../../../src/modules/web.js"],"names":["config","uniqueId","isEmpty","isJSONString","isPlainObject","buildFormData","formData","data","shouldEncodeURIComponent","parentKey","Date","File","Object","keys","forEach","key","encodeURIComponent","value","FormData","append","buildQueryString","parts","prop","push","join","xhr","window","ActiveXObject","XMLHttpRequest","checkNetwork","URI","xhrObj","Promise","resolve","onreadystatechange","readyState","status","open","checkNetworkURI","location","hostname","port","Math","floor","random","send","error","waitNetwork","intervalMillisecs","then","isNetworkReachable","interval","setInterval","clearInterval","setCookie","cname","cvalue","exdays","expires","d","setTime","getTime","toUTCString","document","cookie","getCookie","name","ca","split","i","length","c","charAt","substring","indexOf","unsetCookie","isInViewport","elem","bounding","getBoundingClientRect","top","left","bottom","innerHeight","documentElement","clientHeight","right","innerWidth","clientWidth","isScrolledIntoView","el","holder","minPx","elRect","holderRect","height","minPxNumberFn","bottomDiff","hasVerticalScrollbar","scrollHeight","hasHorizontalScrollbar","scrollWidth","elementUniqueId","elementUniqueIdPrefix","uniqueElementIdSuffix","getElementComputedStyle","element","getComputedStyle","elementInnerDimensions","computedStyle","elementHeight","elementWidth","parseFloat","paddingTop","paddingBottom","paddingLeft","paddingRight","width","countTextareaLinesBuffer","countTextareaLines","textarea","createElement","style","border","overflow","padding","position","zIndex","body","appendChild","cs","pl","parseInt","pr","lh","lineHeight","isNaN","fontSize","font","letterSpacing","whiteSpace","wordBreak","wordSpacing","wordWrap","result","isScrollOnBottom","DOMNode","ret","scrollTop","offsetHeight","getVerticalScrollBarWidth","scrollDiv","className","sheet","innerHTML","scrollbarWidth","offsetWidth","removeChild","sheetParent","parentNode","isEllipsisActive","e","fallbackCopyTextToClipboard","text","onSuccess","onFailure","bodyScrollTop","textArea","focus","select","successful","execCommand","err","copyTextToClipboard","navigator","clipboard","writeText","rAFLooper","n","callback","requestAnimationFrame","nestedRAF","count","innerCallback","getRawURIFragment","URIFragment","fragment","hash","replace","getDecodedURIFragment","decodeURIComponent","appendEncodedJSONFragmentToURI","JSON","stringify","getDecodedJSONFromFragmentURI","defaultData","decodedFragment","parse","parseQueryStringArgsMultiDim","str","array","search","substr","j","ct","p","lastObj","obj","undef","chr","tmp","postLeftBracketPos","keysLen","strArr","String","sal","fixStr","slice","prototype","hasOwnProperty","call","match","fnNormalizeObjToArrayIfPropsAreConsecutiveIntsFrom0","truthMap","intProp","Number","fnNormalizeToArrayIfNeeded","getQueryStringArgsMultiDim","cursorFocus","x","y","pageXOffset","pageYOffset","scrollX","scrollY","scrollLeft","scrollTo","detectWrapped","classNameOrElements","elements","getElementsByClassName","wrapped","prev","curr","maxNestingLevel","children","max","nestingLevel","REGEXP_SCROLL_PARENT","getScrollableAncestor","HTMLElement","test","overflowY","parentElement","scrollingElement","smoothScrollToTop","scroll","behavior","downloadFile","fileURI","link","href","download","lastIndexOf","click"],"mappings":"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","sourcesContent":["/*\n * Copyright (c) 2022 Anton Bagdatyev (Tonix)\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Web application (browser) utility functions.\n */\n\nimport { config, uniqueId, isEmpty, isJSONString, isPlainObject } from \"./core\";\n\n/**\n * Builds a form data instance or object recursively.\n *\n * @see https://stackoverflow.com/questions/22783108/convert-js-object-to-form-data#answer-42483509\n *\n * @param {FormData|Object} formData Form data instance or JS POJO object.\n * @param {Array|Object} data JS POJO object or array with the form data to use to build the forma data.\n * @param {boolean} [shouldEncodeURIComponent] Optionally instructs the function if the parameters should be encoded\n *                                             (keys and values) using \"encodeURIComponent\".\n * @param {string} [parentKey] Parent key for nested parameters (used internally for recursion).\n * @return {undefined}\n */\nfunction buildFormData(formData, data, shouldEncodeURIComponent, parentKey) {\n  if (\n    data &&\n    typeof data === \"object\" &&\n    !(data instanceof Date) &&\n    !(data instanceof File)\n  ) {\n    Object.keys(data).forEach(key => {\n      buildFormData(\n        formData,\n        data[key],\n        shouldEncodeURIComponent,\n        parentKey\n          ? `${parentKey}[${key}]`\n          : shouldEncodeURIComponent\n          ? encodeURIComponent(key)\n          : key\n      );\n    });\n  } else {\n    // Leaf value.\n    const value =\n      data == null\n        ? \"\"\n        : shouldEncodeURIComponent\n        ? encodeURIComponent(data)\n        : data;\n    formData instanceof FormData\n      ? formData.append(parentKey, value)\n      : (formData[parentKey] = value);\n  }\n}\n\n/**\n * Constructs a query string from the given data.\n * This method works with nested objects/arrays.\n *\n * @param {Array|Object} data The object.\n * @return {string} The query string.\n */\nexport function buildQueryString(data) {\n  const formData = {};\n  buildFormData(formData, data, true); // \"true\" instructs the function to encode URI parts (keys and values).\n  const parts = [];\n  for (const prop in formData) {\n    parts.push(prop + \"=\" + formData[prop]);\n  }\n  return parts.join(\"&\");\n}\n\n/**\n * Converts an object (array or JS POJO object) to a form data instance.\n *\n * @param {Array|Object} data The data (array or POJO object).\n * @return {FormData} A form data instance.\n */\nexport function formData(data) {\n  const formData = new FormData();\n  buildFormData(formData, data);\n  return formData;\n}\n\n/**\n * Returns a new XMLHttpRequest or ActiveXObject object.\n *\n * @return {XMLHttpRequest|ActiveXObject}\n */\nexport const xhr = () =>\n  (window.ActiveXObject && new window.ActiveXObject(\"Microsoft.XMLHTTP\")) ||\n  new XMLHttpRequest();\n\n/**\n * Checks whether the network is reachable or not.\n *\n * @param {string} URI An eventual URI to use for the request.\n *                     NOTE: If omitted, then \"config.checkNetworkURI\" will be used,\n *                           or, if \"config.checkNetworkURI\" is not set,\n *                           the website's hostname will be used.\n *                           Also, in every case, A GET query string with a random parameter\n *                           is always appended to the URI.\n * @return {Promise} A promise which resolves to \"true\" if the network is reachable and to \"false\" otherwise.\n *                   Note that the returned promise always resolves to \"true\" when this code runs on localhost.\n */\nexport function checkNetwork(URI = null) {\n  // Handle IE and more capable browsers.\n  const xhrObj = xhr();\n\n  return new Promise(resolve => {\n    // Issue request and handle response.\n    try {\n      xhrObj.onreadystatechange = () => {\n        if (xhrObj.readyState == 4) {\n          resolve(\n            xhrObj.status >= 200 &&\n              (xhrObj.status < 300 || xhrObj.status === 304)\n          );\n        }\n      };\n\n      // Open new request as a HEAD to the root hostname with a random param to bust the cache.\n      xhrObj.open(\n        \"HEAD\",\n        (URI ||\n          config.checkNetworkURI ||\n          \"//\" +\n            window.location.hostname +\n            (window.location.port != 80 ? \":\" + window.location.port : \"\")) +\n          \"?rand=\" +\n          Math.floor((1 + Math.random()) * 0x10000), // 0x10000 = 2^16\n        true\n      );\n\n      xhrObj.send();\n    } catch (error) {\n      resolve(false);\n    }\n  });\n}\n\n/**\n * Returns a promise which resolves when the network is available.\n *\n * NOTE: If the network is available, the promise will resolve almost immediately.\n *\n * @param {number} intervalMillisecs An interval in milliseconds to wait before the next network check.\n * @return {Promise} A promise.\n */\nexport function waitNetwork(intervalMillisecs = 3000) {\n  return new Promise(resolve => {\n    checkNetwork().then(isNetworkReachable => {\n      if (isNetworkReachable) {\n        resolve();\n      } else {\n        const interval = setInterval(() => {\n          checkNetwork().then(isNetworkReachable => {\n            if (isNetworkReachable) {\n              clearInterval(interval);\n              resolve();\n            }\n          });\n        }, intervalMillisecs);\n      }\n    });\n  });\n}\n\n/**\n * Sets a cookie value.\n *\n * @see https://www.w3schools.com/js/js_cookies.asp\n *\n * @param {string} cname The cookie name.\n * @param {string} cvalue The cookie value.\n * @param {number|undefined} exdays Number of days after which the cookie expires,\n *                                  or \"undefined\" to make the cookie expire at the end of the session.\n * @return {undefined}\n */\nexport function setCookie(cname, cvalue, exdays) {\n  let expires = \"\";\n  if (exdays) {\n    const d = new Date();\n    d.setTime(d.getTime() + exdays * 24 * 60 * 60 * 1000);\n    expires = \"expires=\" + d.toUTCString() + \";\";\n  }\n  document.cookie = cname + \"=\" + cvalue + \";\" + expires + \"path=/\";\n}\n\n/**\n * Gets a cookie value.\n *\n * @see https://www.w3schools.com/js/js_cookies.asp\n *\n * @param {string} cname The cookie name.\n * @return {string|undefined} The cookie value or \"undefined\", if not set.\n */\nexport function getCookie(cname) {\n  const name = cname + \"=\";\n  const ca = document.cookie.split(\";\");\n  for (let i = 0; i < ca.length; i++) {\n    let c = ca[i];\n    while (c.charAt(0) == \" \") {\n      c = c.substring(1);\n    }\n    if (c.indexOf(name) == 0) {\n      return c.substring(name.length, c.length);\n    }\n  }\n  return void 0;\n}\n\n/**\n * Unsets a cookie.\n *\n * @param {string} cname The cookie name.\n * @return {undefined}\n */\nexport function unsetCookie(cname) {\n  setCookie(cname, \"\", -365);\n}\n\n/**\n * Tests whether a DOM element is in viewport or not.\n *\n * @param {Element} elem The DOM element.\n * @return {boolean} True if it is in viewport, false otherwise.\n */\nexport function isInViewport(elem) {\n  const bounding = elem.getBoundingClientRect();\n  return (\n    bounding.top >= 0 &&\n    bounding.left >= 0 &&\n    bounding.bottom <=\n      (window.innerHeight || document.documentElement.clientHeight) &&\n    bounding.right <=\n      (window.innerWidth || document.documentElement.clientWidth)\n  );\n}\n\n/**\n * Tests if a DOM element is scrolled into the scrollable view of its parent scrollable container.\n *\n * @param {Element} elem The DOM element to test.\n * @param {Element} holder The DOM element of the scrollable container of the DOM element to test.\n * @param {number|Function} minPx Minimum number of pixels of the element's height which must be scrolled into the view\n *                                in order to consider the element to be scrolled into view.\n *                                If a function is given, it will receive the element's bounding client rect as the first argument\n *                                as well as the holder element's bounding client rect as the second argument and must return\n *                                the minimum number of pixels.\n * @return {boolean} True if the given element is scrolled into view, false otherwise.\n */\nexport function isScrolledIntoView(el, holder, minPx = 1) {\n  const elRect = el.getBoundingClientRect();\n  const holderRect = holder.getBoundingClientRect();\n  const { top, bottom, height } = elRect;\n\n  const minPxNumberFn = () =>\n    typeof minPx === \"function\" ? minPx(elRect, holderRect) : minPx;\n  let bottomDiff;\n  return top <= holderRect.top\n    ? holderRect.top - top + minPxNumberFn() <= height\n    : (bottomDiff = bottom - holderRect.bottom) < 0\n    ? true\n    : holderRect.bottom >= top && minPx\n    ? holderRect.bottom - top >= minPxNumberFn()\n    : bottomDiff <= height;\n}\n\n/**\n * Tests if a DOM element has a vertical scrollbar.\n *\n * @param {Element} elem The DOM element.\n * @return {boolean} True it has a vertical scrollbar, false otherwise.\n */\nexport function hasVerticalScrollbar(elem) {\n  const hasVerticalScrollbar = elem.scrollHeight > elem.clientHeight;\n  return hasVerticalScrollbar;\n}\n\n/**\n * Tests if a DOM element has a horizontal scrollbar.\n *\n * @param {Element} elem The DOM element.\n * @return {boolean} True it has a horizontal scrollbar, false otherwise.\n */\nexport function hasHorizontalScrollbar(elem) {\n  const hasHorizontalScrollbar = elem.scrollWidth > elem.clientWidth;\n  return hasHorizontalScrollbar;\n}\n\n/**\n * Generates a unique ID which can be used for an element.\n *\n * @param {string|undefined} [elementUniqueIdPrefix] Local unique ID prefix which overrides the prefix\n *                                                   set on the \"config\" configuration object.\n * @return {string} The element unique ID.\n */\nexport function elementUniqueId(elementUniqueIdPrefix = void 0) {\n  const uniqueElementIdSuffix = uniqueId();\n  return (\n    (elementUniqueIdPrefix || config.elementUniqueIdPrefix) +\n    uniqueElementIdSuffix\n  );\n}\n\n/**\n * Gets the computed style of an element.\n *\n * @param {Element} element DOM element.\n * @return {CSSStyleDeclaration} The computed style.\n */\nexport function getElementComputedStyle(element) {\n  return window.getComputedStyle(element);\n}\n\n/**\n * Gets element's inner dimensions (height and width without padding).\n *\n * @param {Element} element An element.\n * @return {Object} An object with \"width\" and \"height\" properties.\n */\nexport function elementInnerDimensions(element) {\n  const computedStyle = getElementComputedStyle(element);\n\n  let elementHeight = element.clientHeight; // Height with padding.\n  let elementWidth = element.clientWidth; // Width with padding\n\n  elementHeight -=\n    parseFloat(computedStyle.paddingTop) +\n    parseFloat(computedStyle.paddingBottom);\n  elementWidth -=\n    parseFloat(computedStyle.paddingLeft) +\n    parseFloat(computedStyle.paddingRight);\n  return {\n    width: elementWidth,\n    height: elementHeight,\n  };\n}\n\n/**\n * @type {HTMLTextAreaElement}\n */\nlet countTextareaLinesBuffer;\n\n/**\n * Returns the number of lines in a textarea, including wrapped lines.\n *\n * @see https://stackoverflow.com/questions/28905965/textarea-how-to-count-wrapped-lines-rows#answer-45252226\n *\n * @param {HTMLTextAreaElement} textarea A textarea element. Note that the textarea should have an integer line height\n *                                       to avoid rounding errors.\n */\nexport function countTextareaLines(textarea) {\n  if (countTextareaLinesBuffer == null) {\n    countTextareaLinesBuffer = document.createElement(\"textarea\");\n    countTextareaLinesBuffer.style.border = \"none\";\n    countTextareaLinesBuffer.style.height = \"0\";\n    countTextareaLinesBuffer.style.overflow = \"hidden\";\n    countTextareaLinesBuffer.style.padding = \"0\";\n    countTextareaLinesBuffer.style.position = \"absolute\";\n    countTextareaLinesBuffer.style.left = \"0\";\n    countTextareaLinesBuffer.style.top = \"0\";\n    countTextareaLinesBuffer.style.zIndex = \"-1\";\n    document.body.appendChild(countTextareaLinesBuffer);\n  }\n\n  const cs = window.getComputedStyle(textarea);\n  const pl = parseInt(cs.paddingLeft);\n  const pr = parseInt(cs.paddingRight);\n  let lh = parseInt(cs.lineHeight);\n\n  // `cs.lineHeight` may return 'normal', which means line height = font size.\n  if (isNaN(lh)) lh = parseInt(cs.fontSize);\n\n  // Copy content width.\n  countTextareaLinesBuffer.style.width = textarea.clientWidth - pl - pr + \"px\";\n\n  // Copy text properties.\n  countTextareaLinesBuffer.style.font = cs.font;\n  countTextareaLinesBuffer.style.letterSpacing = cs.letterSpacing;\n  countTextareaLinesBuffer.style.whiteSpace = cs.whiteSpace;\n  countTextareaLinesBuffer.style.wordBreak = cs.wordBreak;\n  countTextareaLinesBuffer.style.wordSpacing = cs.wordSpacing;\n  countTextareaLinesBuffer.style.wordWrap = cs.wordWrap;\n\n  // Copy value.\n  countTextareaLinesBuffer.value = textarea.value;\n\n  let result = Math.floor(countTextareaLinesBuffer.scrollHeight / lh);\n  if (result == 0) {\n    result = 1;\n  }\n  return result;\n}\n\n/**\n * Checks if the scroll of an element is on the bottom.\n *\n * @param {Element} DOMNode Element.\n * @return {boolean} True if the scroll is on the bottom, false otherwise.\n */\nexport function isScrollOnBottom(DOMNode) {\n  const ret = DOMNode.scrollTop + DOMNode.offsetHeight >= DOMNode.scrollHeight;\n  return ret;\n}\n\n/**\n * Returns the default browser's vertical scrollbar width.\n *\n * @return {Number} The scrollbar width.\n */\nexport function getVerticalScrollBarWidth() {\n  const scrollDiv = document.createElement(\"div\");\n  scrollDiv.className = \"vertical-scrollbar-measure\";\n\n  const sheet = document.createElement(\"style\");\n  sheet.innerHTML =\n    \"div.vertical-scrollbar-measure { width: 100px; height: 100px; overflow: scroll; position: absolute; top: -9999px; }\";\n\n  document.body.appendChild(sheet);\n  document.body.appendChild(scrollDiv);\n\n  const scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n\n  document.body.removeChild(scrollDiv);\n  const sheetParent = sheet.parentNode;\n  sheetParent.removeChild(sheet);\n\n  return scrollbarWidth;\n}\n\n/**\n * Tests if an element with \"text-overflow: ellipsis;\" has the ellipsis active\n * and therefore its text is truncated.\n *\n * @param {Element} e The DOM element.\n * @return {boolean} True if ellipsis are present, false otherwise.\n */\nexport function isEllipsisActive(e) {\n  return e.offsetWidth < e.scrollWidth;\n}\n\n/**\n * A fallback function to copy a text to clipboard.\n *\n * @param {string} text The text to copy.\n * @param {Function} [onSuccess] An optional callback to execute on success.\n * @param {Function} [onFailure] An optional callback to execute on failure.\n * @return {undefined}\n */\nfunction fallbackCopyTextToClipboard(text, onSuccess, onFailure) {\n  const bodyScrollTop =\n    document.documentElement.scrollTop || document.body.scrollTop;\n  const textArea = document.createElement(\"textarea\");\n  textArea.value = text;\n  document.body.appendChild(textArea);\n  textArea.focus();\n  textArea.select();\n\n  try {\n    const successful = document.execCommand(\"copy\");\n    if (successful) {\n      onSuccess && onSuccess();\n    } else {\n      onFailure && onFailure();\n    }\n  } catch (err) {\n    onFailure && onFailure(err);\n  }\n\n  (document.body.removeChild(textArea) &&\n    document.documentElement.scrollTop &&\n    (document.documentElement.scrollTop = bodyScrollTop)) ||\n    (document.body.scrollTop = bodyScrollTop);\n}\n\n/**\n * Copies a text to clipboard.\n *\n * @param {string} text The text to copy.\n * @param {Function} [onSuccess] An optional callback to execute on success.\n * @param {Function} [onFailure] An optional callback to execute on failure.\n * @return {undefined}\n */\nexport function copyTextToClipboard(text, onSuccess, onFailure) {\n  if (!navigator.clipboard) {\n    fallbackCopyTextToClipboard(text, onSuccess, onFailure);\n    return;\n  }\n  navigator.clipboard.writeText(text).then(\n    function () {\n      onSuccess && onSuccess();\n    },\n    function (err) {\n      onFailure && onFailure(err);\n    }\n  );\n}\n\n/**\n * Asynchronously invokes a callback multiple times, each in its own animation frame.\n *\n * @param {number} n The number of times the callback should be invoked.\n * @param {Function} callback The callback to invoke.\n * @return {*} The identifier of the first animation frame or \"n\" if it is falsy during the outermost call.\n */\nexport const rAFLooper = (n, callback) =>\n  n &&\n  window.requestAnimationFrame(() => (callback(), rAFLooper(--n, callback)));\n\n/**\n * Requests a predefined number of animation frames and executes a callback after.\n *\n * @param {number} count The number of animation frames to request before executing the callback.\n * @param {Function} callback The callback to execute after \"count\" animation frames have been requested.\n * @return {number} The identifier of the first animation frame.\n */\nexport const nestedRAF = (count, callback) => {\n  let c = count || 1;\n  const innerCallback = () => {\n    c--;\n    if (!c) {\n      callback();\n      return;\n    }\n    window.requestAnimationFrame(innerCallback);\n  };\n  return window.requestAnimationFrame(innerCallback);\n};\n\n/**\n * Returns the raw contents of the URI fragment (i.e. everything after the hash (\"#\") character).\n *\n * @param {string} URIFragment The URI fragment.\n * @return {string} The raw contents of the URI fragment.\n */\nexport function getRawURIFragment(URIFragment) {\n  const fragment = (URIFragment || window.location.hash).replace(/^#/, \"\");\n  return fragment;\n}\n\n/**\n * Returns the decoded contents of a URI fragment (i.e. everything after the hash (\"#\") character).\n *\n * @param {string} URIFragment The URI fragment.\n * @return {string} The contents of the URI fragment, decoded.\n */\nexport function getDecodedURIFragment(URIFragment) {\n  const fragment = decodeURIComponent(getRawURIFragment(URIFragment));\n  return fragment;\n}\n\n/**\n * Appends an encoded JSON fragment to a URI.\n *\n * @param {string} URI The URI.\n * @param {*} data Data to encode in JSON format.\n */\nexport function appendEncodedJSONFragmentToURI(URI, data) {\n  return URI + \"#\" + encodeURIComponent(JSON.stringify(data));\n}\n\n/**\n * Returnes the decoded JSON data eventually stored in the URI fragment.\n *\n * @param {*} defaultData Default data to return if either the URI fragment is missing or\n *                        the content of the URI fragment is not a valid JSON-encoded string.\n * @return {*} The decoded JSON data or \"defaultData\".\n */\nexport function getDecodedJSONFromFragmentURI(defaultData = null) {\n  const fragment = window.location.hash;\n  if (!isEmpty(fragment)) {\n    const decodedFragment = getDecodedURIFragment(fragment);\n    if (isJSONString(decodedFragment)) {\n      return JSON.parse(decodedFragment);\n    }\n  }\n  return defaultData;\n}\n/**\n * Parses a multidimensional query string and returns an object with the parsed args.\n *\n * @see https://stackoverflow.com/questions/8648892/convert-url-parameters-to-a-javascript-object#answer-44713056\n *\n * @param {string} str The query string.\n * @param {Object} [array] The base object to use (or a new object if omitted or falsy).\n * @return {Object} The object with the parsed data.\n */\nexport function parseQueryStringArgsMultiDim(str, array) {\n  if (!str) {\n    str = window.location.search.substr(1);\n  }\n  let i,\n    j,\n    ct,\n    p,\n    lastObj,\n    obj,\n    undef,\n    chr,\n    tmp,\n    key,\n    value,\n    postLeftBracketPos,\n    keys,\n    keysLen;\n  const strArr = String(str).replace(/^&/, \"\").replace(/&$/, \"\").split(\"&\"),\n    sal = strArr.length,\n    fixStr = function (str) {\n      return decodeURIComponent(str.replace(/\\+/g, \"%20\"));\n    };\n\n  if (!array) {\n    array = {};\n  }\n\n  for (i = 0; i < sal; i++) {\n    tmp = strArr[i].split(\"=\");\n    key = fixStr(tmp[0]);\n    value = tmp.length < 2 ? \"\" : fixStr(tmp[1]);\n\n    while (key.charAt(0) === \" \") {\n      key = key.slice(1);\n    }\n    if (key.indexOf(\"\\x00\") > -1) {\n      key = key.slice(0, key.indexOf(\"\\x00\"));\n    }\n    if (key && key.charAt(0) !== \"[\") {\n      keys = [];\n      postLeftBracketPos = 0;\n      for (j = 0; j < key.length; j++) {\n        if (key.charAt(j) === \"[\" && !postLeftBracketPos) {\n          postLeftBracketPos = j + 1;\n        } else if (key.charAt(j) === \"]\") {\n          if (postLeftBracketPos) {\n            if (!keys.length) {\n              keys.push(key.slice(0, postLeftBracketPos - 1));\n            }\n            keys.push(key.substr(postLeftBracketPos, j - postLeftBracketPos));\n            postLeftBracketPos = 0;\n            if (key.charAt(j + 1) !== \"[\") {\n              break;\n            }\n          }\n        }\n      }\n      if (!keys.length) {\n        keys = [key];\n      }\n      for (j = 0; j < keys[0].length; j++) {\n        chr = keys[0].charAt(j);\n        if (chr === \" \" || chr === \".\" || chr === \"[\") {\n          keys[0] = keys[0].substr(0, j) + \"_\" + keys[0].substr(j + 1);\n        }\n        if (chr === \"[\") {\n          break;\n        }\n      }\n\n      obj = array;\n      for (j = 0, keysLen = keys.length; j < keysLen; j++) {\n        key = keys[j].replace(/^['\"]/, \"\").replace(/['\"]$/, \"\");\n        lastObj = obj;\n        if ((key !== \"\" && key !== \" \") || j === 0) {\n          if (obj[key] === undef) {\n            obj[key] = {};\n          }\n          obj = obj[key];\n        } else {\n          // To insert new dimension\n          ct = -1;\n          for (p in obj) {\n            if (Object.prototype.hasOwnProperty.call(obj, p)) {\n              if (+p > ct && p.match(/^\\d+$/g)) {\n                ct = +p;\n              }\n            }\n          }\n          key = ct + 1;\n        }\n      }\n      lastObj[key] = value;\n    }\n  }\n\n  /* ===== */\n  /*\n   * This code converts the object properties to arrays if they are objects with consecutive integer keys\n   * from 0 to n, where n is the number of properties of that object minus one\n   * (i.e. it converts meaningful objects which are to be interpreted as arrays to arrays).\n   */\n  const fnNormalizeObjToArrayIfPropsAreConsecutiveIntsFrom0 = function (obj) {\n    const keys = Object.keys(obj);\n    const truthMap = {};\n    for (let i = 0; i < keys.length; i++) {\n      truthMap[i] = true;\n    }\n\n    const array = [];\n    for (let i = 0; i < keys.length; i++) {\n      const prop = keys[i] + \"\";\n      if (!prop.match(/^[0-9]+$/)) {\n        return obj;\n      }\n      const intProp = Number(prop);\n      if (truthMap[intProp]) {\n        array[intProp] = obj[prop];\n        delete truthMap[intProp];\n      } else {\n        return obj;\n      }\n    }\n\n    if (Object.keys(truthMap).length === 0) {\n      return array;\n    } else {\n      return obj;\n    }\n  };\n\n  const fnNormalizeToArrayIfNeeded = function fnNormalizeToArrayIfNeeded(obj) {\n    for (const prop in obj) {\n      if (isPlainObject(obj[prop])) {\n        obj[prop] = fnNormalizeObjToArrayIfPropsAreConsecutiveIntsFrom0(\n          obj[prop]\n        );\n        fnNormalizeToArrayIfNeeded(obj[prop]);\n      }\n    }\n  };\n  /* /===== */\n\n  fnNormalizeToArrayIfNeeded(array);\n\n  return array;\n}\n\n/**\n * Gets the query string arguments of the current location in a multidimensional fashion\n * (multidimension-aware).\n *\n * @return {Object} An object representing the query string arguments.\n */\nexport function getQueryStringArgsMultiDim() {\n  const obj = {};\n  parseQueryStringArgsMultiDim(location.search.substring(1), obj);\n  return obj;\n}\n\n/**\n * Focuses an input without scrolling.\n *\n * @see https://stackoverflow.com/questions/4963053/focus-to-input-without-scrolling\n *\n * @param {Element} elem The DOM element.\n */\nexport const cursorFocus = function (elem) {\n  let x, y;\n  // More sources for scroll x, y offset.\n  if (typeof window.pageXOffset !== \"undefined\") {\n    x = window.pageXOffset;\n    y = window.pageYOffset;\n  } else if (typeof window.scrollX !== \"undefined\") {\n    x = window.scrollX;\n    y = window.scrollY;\n  } else if (\n    document.documentElement &&\n    typeof document.documentElement.scrollLeft !== \"undefined\"\n  ) {\n    x = document.documentElement.scrollLeft;\n    y = document.documentElement.scrollTop;\n  } else {\n    x = document.body.scrollLeft;\n    y = document.body.scrollTop;\n  }\n\n  elem.focus();\n\n  if (typeof x !== \"undefined\") {\n    window.scrollTo(x, y);\n  }\n};\n\n/**\n * Detects wrapped elements.\n *\n * @param {string|Element[]} classNameOrElements A class name (with or without the leading dot) or the DOM elements to check.\n * @return {Element[]} The wrapped DOM elements.\n */\nexport function detectWrapped(classNameOrElements) {\n  let elements;\n  if (typeof classNameOrElements === \"string\") {\n    classNameOrElements = classNameOrElements.replace(/^\\./, \"\");\n    elements = document.getElementsByClassName(classNameOrElements);\n  } else {\n    elements = classNameOrElements;\n  }\n  const wrapped = [];\n  let prev = {};\n  let curr = {};\n  for (let i = 0; i < elements.length; i++) {\n    const element = elements[i];\n    curr = element.getBoundingClientRect();\n    if (prev && prev.top < curr.top) {\n      wrapped.push(element);\n    }\n    prev = i === 0 ? curr : prev;\n  }\n  return wrapped;\n}\n\n/**\n * Gets the maximum nesting level of an element (or of the whole DOM if \"document.body\" is given as parameter).abs\n *\n * @param {Element} elem The DOM element from which to start identifying the maximum nesting level.\n * @return {number} The maximum nesting level, starting from 0 if the given element has no children.\n */\nexport function maxNestingLevel(el) {\n  if (!el.children) {\n    return 0;\n  }\n  let max = -1;\n  for (let i = 0; i < el.children.length; i++) {\n    const nestingLevel = maxNestingLevel(el.children[i]);\n    if (nestingLevel > max) {\n      max = nestingLevel;\n    }\n  }\n  return max + 1;\n}\n\n/**\n * @type {RegExp}\n */\nconst REGEXP_SCROLL_PARENT = /^(visible|hidden)/;\n\n/**\n * Get the first scrollable ancestor of an element.\n *\n * @param {Element} el The element to use as the base from which to determine its first scrollable ancestor.\n * @return {Element} The first scrollable ancestor element scroll, or the document body.\n */\nexport const getScrollableAncestor = el =>\n  !(el instanceof HTMLElement) || typeof window.getComputedStyle !== \"function\"\n    ? null\n    : el.scrollHeight >= el.clientHeight &&\n      !REGEXP_SCROLL_PARENT.test(\n        window.getComputedStyle(el).overflowY || \"visible\"\n      )\n    ? el\n    : getScrollableAncestor(el.parentElement) ||\n      document.scrollingElement ||\n      document.body;\n\n/**\n * Smoothly scrolls to the top of a scrollable element or the browser's window.\n *\n * @param {Element} [el] The element. Defaults to \"window\".\n * @return {undefined}\n */\nexport const smoothScrollToTop = (el = window) =>\n  el.scroll({\n    top: 0,\n    behavior: \"smooth\",\n  });\n\n/**\n * Downloads a file without opening a new browser's tab.\n *\n * @see https://stackoverflow.com/questions/1066452/easiest-way-to-open-a-download-window-without-navigating-away-from-the-page#answer-43523297\n *\n * @param {string} fileURI The URI of the file to download.\n * @return {undefined}\n */\nexport function downloadFile(fileURI) {\n  var link = document.createElement(\"a\");\n  link.href = fileURI;\n  link.download = fileURI.substr(fileURI.lastIndexOf(\"/\") + 1);\n  link.click();\n}\n"],"file":"web.js"}